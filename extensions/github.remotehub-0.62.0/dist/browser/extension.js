var rc=Object.defineProperty;var a=(fe,l)=>rc(fe,"name",{value:l,configurable:!0});(()=>{var __webpack_modules__={850:(fe,l,E)=>{"use strict";E.r(l),E.d(l,{AppInsightsCore:()=>Xe,BaseCore:()=>br,BaseTelemetryPlugin:()=>On.i,CoreUtils:()=>O.Tr,DiagnosticLogger:()=>Oe.AQ,ESPromise:()=>J,ESPromiseScheduler:()=>Hr,EventHelper:()=>In.zB,EventLatency:()=>D,EventPersistence:()=>S,EventPropertyType:()=>h,EventsDiscardedReason:()=>$n.h,FullVersionString:()=>O.vs,InternalAppInsightsCore:()=>ot.F,InternalBaseCore:()=>Jt.A,LoggingSeverity:()=>_.X,MinChannelPriorty:()=>an,NotificationManager:()=>Vr.f,PerfEvent:()=>$e.zn,PerfManager:()=>$e.Jk,ProcessTelemetryContext:()=>yn.Vi,TraceLevel:()=>x,Undefined:()=>on.jA,Utils:()=>O.cQ,ValueKind:()=>I,ValueSanitizer:()=>mn,Version:()=>O.Gf,_ExtendedInternalMessageId:()=>y,_InternalLogMessage:()=>Oe.lQ,_InternalMessageId:()=>_.v,__getRegisteredEvents:()=>Dr.um,_logInternalMessage:()=>Oe.L4,_throwInternal:()=>Oe.kP,_warnToConsole:()=>Oe.jV,addEventHandler:()=>Dr.Ib,addEventListeners:()=>Dr.yw,addPageHideEventListener:()=>Dr.TJ,addPageShowEventListener:()=>Dr.nD,addPageUnloadEventListener:()=>Dr.c9,areCookiesSupported:()=>ri.p7,arrForEach:()=>w.tO,arrIndexOf:()=>w.UA,arrMap:()=>w.Mr,arrReduce:()=>w.Xz,attachEvent:()=>Dr.pZ,cookieAvailable:()=>ri.p7,createCookieMgr:()=>ri.Nz,createEnumStyle:()=>p.By,createGuid:()=>O.cm,createProcessTelemetryContext:()=>yn.CD,createTraceParent:()=>An.SU,createUniqueNamespace:()=>ni.J,createUnloadHandlerContainer:()=>ii.Y,dateNow:()=>w.m6,deleteCookie:()=>O.kT,detachEvent:()=>Dr.pD,disableCookies:()=>O.oF,disallowsSameSiteNone:()=>ri.UY,doPerf:()=>$e.Lm,dumpObj:()=>pt.eU,eventOff:()=>Dr.QY,eventOn:()=>Dr.XO,extend:()=>O.l7,findW3cTraceParent:()=>An.lq,formatTraceParent:()=>An.aR,generateW3CId:()=>In.DO,getCommonSchemaMetaData:()=>O.Vv,getConsole:()=>pt.dr,getCookie:()=>O.ej,getCookieValue:()=>O.Do,getCrypto:()=>pt.MX,getDocument:()=>pt.Me,getExceptionName:()=>w.jj,getFieldValueType:()=>O.Sy,getGlobal:()=>de.Rd,getGlobalInst:()=>pt.a8,getHistory:()=>pt.s1,getIEVersion:()=>pt.sA,getISOString:()=>w.Y6,getJSON:()=>pt.xA,getLocation:()=>pt.k$,getMsCrypto:()=>pt.gz,getNavigator:()=>pt.jW,getPerformance:()=>pt.r,getSetValue:()=>w.qK,getTenantId:()=>O.jM,getTime:()=>O.hK,getWindow:()=>pt.Jj,hasDocument:()=>pt.Nv,hasHistory:()=>pt.fE,hasJSON:()=>pt.nS,hasNavigator:()=>pt.d6,hasOwnProperty:()=>w.nr,hasWindow:()=>pt.Ym,isArray:()=>w.kJ,isArrayValid:()=>O.JT,isBeaconsSupported:()=>pt.MF,isBoolean:()=>w.jn,isChromium:()=>O.mJ,isDate:()=>w.J_,isDocumentObjectAvailable:()=>O.x9,isError:()=>w.VZ,isFetchSupported:()=>pt.JO,isFunction:()=>w.mf,isIE:()=>pt.w1,isLatency:()=>O.r7,isNotTruthy:()=>w.F,isNullOrUndefined:()=>w.le,isNumber:()=>w.hj,isObject:()=>w.Kn,isReactNative:()=>pt.b$,isSampledFlag:()=>An.Pn,isString:()=>w.HD,isTruthy:()=>w.fQ,isTypeof:()=>w.Ym,isUint8ArrayAvailable:()=>O.IZ,isUndefined:()=>w.o8,isValidSpanId:()=>An.Lc,isValidTraceId:()=>An.jN,isValidTraceParent:()=>An.J6,isValueAssigned:()=>O.Sn,isValueKind:()=>O.oS,isWindowObjectAvailable:()=>O.dH,isXhrSupported:()=>pt.Z3,mergeEvtNamespace:()=>Dr.jU,newGuid:()=>In.GW,newId:()=>tn.pZ,normalizeJsName:()=>w.Gf,objCreate:()=>de.pu,objDefineAccessors:()=>w.l_,objForEachKey:()=>w.rW,objFreeze:()=>w.FL,objKeys:()=>w.FY,objSeal:()=>w.Xi,openXhr:()=>O.ot,optimizeObject:()=>w.Ax,parseTraceParent:()=>An.j_,perfNow:()=>In.Jj,proxyAssign:()=>w.cf,proxyFunctionAs:()=>w.Oi,proxyFunctions:()=>w.Vb,random32:()=>tn._l,randomValue:()=>tn.az,removeEventHandler:()=>Dr.C1,removeEventListeners:()=>Dr.nJ,removePageHideEventListener:()=>Dr.C9,removePageShowEventListener:()=>Dr.Yl,removePageUnloadEventListener:()=>Dr.JA,safeGetCookieMgr:()=>ri.JP,safeGetLogger:()=>Oe.vH,sanitizeProperty:()=>O.yj,setCookie:()=>O.d8,setEnableEnvMocks:()=>pt.dI,setProcessTelemetryTimings:()=>O.if,setValue:()=>w.sO,strContains:()=>w._Q,strEndsWith:()=>w.Id,strFunction:()=>on.cb,strObject:()=>on.fK,strPrototype:()=>on.hB,strStartsWith:()=>w.xe,strTrim:()=>w.nd,strUndefined:()=>on.jA,throwError:()=>w._y,toISOString:()=>w.Y6,useXDomainRequest:()=>pt.cp});var v=E(1088),p=E(4873),w=E(6708),_=E(7310),I=(0,p.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),D=(0,p.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),h=(0,p.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),S=(0,p.By)({Normal:1,Critical:2}),x=(0,p.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),y=(0,w.FL)((0,v.uc)((0,v.uc)({},_.v),(0,p.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var b,B="undefined",F="constructor",V="prototype",G="function",le="_dynInstFuncs",M="_isDynProxy",W="_dynClass",U="_dynCls$",A="_dynInstChk",L=A,$="_dfOpts",te="_unknown_",Z="__proto__",re="_dyn"+Z,ce="__dynProto$Gbl",Se="_dynInstProto",ie="useBaseInst",me="setInstFuncs",j=Object,Ve=j.getPrototypeOf,_e=j.getOwnPropertyNames;function he(){var z;return typeof globalThis!==B&&(z=globalThis),!z&&typeof self!==B&&(z=self),!z&&typeof window!==B&&(z=window),!z&&typeof E.g!==B&&(z=E.g),z||{}}a(he,"_getGlobal");var Q=he(),ue=Q[ce]||(Q[ce]={o:(b={},b[me]=!0,b[ie]=!0,b),n:1e3});function De(z,we){return z&&j[V].hasOwnProperty.call(z,we)}a(De,"_hasOwnProperty");function Fe(z){return z&&(z===j[V]||z===Array[V])}a(Fe,"_isObjectOrArrayPrototype");function ne(z){return Fe(z)||z===Function[V]}a(ne,"_isObjectArrayOrFunctionPrototype");function Ge(z){var we;if(z){if(Ve)return Ve(z);var Pe=z[Z]||z[V]||(z[F]?z[F][V]:null);we=z[re]||Pe,De(z,re)||(delete z[Se],we=z[re]=z[Se]||z[re],z[Se]=Pe)}return we}a(Ge,"_getObjProto");function et(z,we){var Pe=[];if(_e)Pe=_e(z);else for(var ze in z)typeof ze=="string"&&De(z,ze)&&Pe.push(ze);if(Pe&&Pe.length>0)for(var at=0;at<Pe.length;at++)we(Pe[at])}a(et,"_forEachProp");function st(z,we,Pe){return we!==F&&typeof z[we]===G&&(Pe||De(z,we))}a(st,"_isDynamicCandidate");function Y(z){throw new TypeError("DynamicProto: "+z)}a(Y,"_throwTypeError");function ee(z){var we={};return et(z,function(Pe){!we[Pe]&&st(z,Pe,!1)&&(we[Pe]=z[Pe])}),we}a(ee,"_getInstanceFuncs");function ae(z,we){for(var Pe=z.length-1;Pe>=0;Pe--)if(z[Pe]===we)return!0;return!1}a(ae,"_hasVisited");function ye(z,we,Pe,ze){function at(Ut,rr,Tt){var qt=rr[Tt];if(qt[M]&&ze){var Kt=Ut[le]||{};Kt[L]!==!1&&(qt=(Kt[rr[W]]||{})[Tt]||qt)}return function(){return qt.apply(Ut,arguments)}}a(at,"_instFuncProxy");var nt={};et(Pe,function(Ut){nt[Ut]=at(we,Pe,Ut)});for(var mt=Ge(z),Rt=[];mt&&!ne(mt)&&!ae(Rt,mt);)et(mt,function(Ut){!nt[Ut]&&st(mt,Ut,!Ve)&&(nt[Ut]=at(we,mt,Ut))}),Rt.push(mt),mt=Ge(mt);return nt}a(ye,"_getBaseFuncs");function ke(z,we,Pe,ze){var at=null;if(z&&De(Pe,W)){var nt=z[le]||{};if(at=(nt[Pe[W]]||{})[we],at||Y("Missing ["+we+"] "+G),!at[A]&&nt[L]!==!1){for(var mt=!De(z,we),Rt=Ge(z),Ut=[];mt&&Rt&&!ne(Rt)&&!ae(Ut,Rt);){var rr=Rt[we];if(rr){mt=rr===ze;break}Ut.push(Rt),Rt=Ge(Rt)}try{mt&&(z[we]=at),at[A]=1}catch(Tt){nt[L]=!1}}}return at}a(ke,"_getInstFunc");function Ue(z,we,Pe){var ze=we[z];return ze===Pe&&(ze=Ge(we)[z]),typeof ze!==G&&Y("["+z+"] is not a "+G),ze}a(Ue,"_getProtoFunc");function pe(z,we,Pe,ze,at){function nt(Ut,rr){var Tt=a(function(){var qt=ke(this,rr,Ut,Tt)||Ue(rr,Ut,Tt);return qt.apply(this,arguments)},"dynProtoProxy");return Tt[M]=1,Tt}if(a(nt,"_createDynamicPrototype"),!Fe(z)){var mt=Pe[le]=Pe[le]||{},Rt=mt[we]=mt[we]||{};mt[L]!==!1&&(mt[L]=!!at),et(Pe,function(Ut){st(Pe,Ut,!1)&&Pe[Ut]!==ze[Ut]&&(Rt[Ut]=Pe[Ut],delete Pe[Ut],(!De(z,Ut)||z[Ut]&&!z[Ut][M])&&(z[Ut]=nt(z,Ut)))})}}a(pe,"_populatePrototype");function Ae(z,we){if(Ve){for(var Pe=[],ze=Ge(we);ze&&!ne(ze)&&!ae(Pe,ze);){if(ze===z)return!0;Pe.push(ze),ze=Ge(ze)}return!1}return!0}a(Ae,"_checkPrototype");function Me(z,we){return De(z,V)?z.name||we||te:((z||{})[F]||{}).name||we||te}a(Me,"_getObjName");function Ze(z,we,Pe,ze){De(z,V)||Y("theClass is an invalid class definition.");var at=z[V];Ae(at,we)||Y("["+Me(z)+"] not in hierarchy of ["+Me(we)+"]");var nt=null;De(at,W)?nt=at[W]:(nt=U+Me(z,"_")+"$"+ue.n,ue.n++,at[W]=nt);var mt=Ze[$],Rt=!!mt[ie];Rt&&ze&&ze[ie]!==void 0&&(Rt=!!ze[ie]);var Ut=ee(we),rr=ye(at,we,Ut,Rt);Pe(we,rr);var Tt=!!Ve&&!!mt[me];Tt&&ze&&(Tt=!!ze[me]),pe(at,nt,we,Ut,Tt!==!1)}a(Ze,"dynamicProto"),Ze[$]=ue.o;var Oe=E(5018),$e=E(9288),pt=E(7630),ot=E(5121),Re=E(7984),O=E(3599),be=function(z){(0,v.ne)(we,z);function we(){var Pe=z.call(this)||this;return Pe.pluginVersionStringArr=[],Ze(we,Pe,function(ze,at){(!ze.logger||!ze.logger.queue)&&(ze.logger=new Oe.AQ({loggingLevelConsole:1})),ze.initialize=function(nt,mt,Rt,Ut){(0,$e.Lm)(ze,function(){return"AppInsightsCore.initialize"},function(){var rr=ze.pluginVersionStringArr;if(nt){nt.endpointUrl||(nt.endpointUrl=Re.YT);var Tt=nt.propertyStorageOverride;Tt&&(!Tt.getProperty||!Tt.setProperty)&&(0,w._y)("Invalid property storage override passed."),nt.channels&&(0,w.tO)(nt.channels,function(Yt){Yt&&(0,w.tO)(Yt,function(Mt){if(Mt.identifier&&Mt.version){var Mr=Mt.identifier+"="+Mt.version;rr.push(Mr)}})})}ze.getWParam=function(){return typeof document!="undefined"||!!nt.enableWParam?0:-1},mt&&(0,w.tO)(mt,function(Yt){if(Yt&&Yt.identifier&&Yt.version){var Mt=Yt.identifier+"="+Yt.version;rr.push(Mt)}}),ze.pluginVersionString=rr.join(";"),ze.pluginVersionStringArr=rr;try{at.initialize(nt,mt,Rt,Ut),ze.pollInternalLogs("InternalLog")}catch(Yt){var qt=ze.logger,Kt=(0,pt.eU)(Yt);Kt.indexOf("channels")!==-1&&(Kt+=`
 - Channels must be provided through config.channels only!`),(0,Oe.kP)(qt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Kt)}},function(){return{config:nt,extensions:mt,logger:Rt,notificationManager:Ut}})},ze.track=function(nt){(0,$e.Lm)(ze,function(){return"AppInsightsCore.track"},function(){var mt=nt;if(mt){mt.timings=mt.timings||{},mt.timings.trackStart=(0,O.hK)(),(0,O.r7)(mt.latency)||(mt.latency=1);var Rt=mt.ext=mt.ext||{};Rt.sdk=Rt.sdk||{},Rt.sdk.ver=O.vs;var Ut=mt.baseData=mt.baseData||{};Ut[Re.o6]=Ut[Re.o6]||{};var rr=Ut[Re.o6];rr[Re.p8]=rr[Re.p8]||ze.pluginVersionString||Re.qS}at.track(mt)},function(){return{item:nt}},!nt.sync)}}),Pe}return a(we,"AppInsightsCore"),we.__ieDyn=1,we}(ot.F);const Xe=be;var Jt=E(6900),yr=function(z){(0,v.ne)(we,z);function we(){var Pe=z.call(this)||this;return Ze(we,Pe,function(ze,at){ze.initialize=function(nt,mt,Rt,Ut){nt&&!nt.endpointUrl&&(nt.endpointUrl=Re.YT),ze.getWParam=function(){return O.x9||!!nt.enableWParam?0:-1};try{at.initialize(nt,mt,Rt,Ut)}catch(rr){(0,Oe.kP)(ze.logger,1,514,"Initialization Failed: "+(0,pt.eU)(rr)+`
 - Note: Channels must be provided through config.channels only`)}},ze.track=function(nt){var mt=nt;if(mt){var Rt=mt.ext=mt.ext||{};Rt.sdk=Rt.sdk||{},Rt.sdk.ver=O.vs}at.track(mt)}}),Pe}return a(we,"BaseCore"),we.__ieDyn=1,we}(Jt.A);const br=yr;var P=w.mf;function d(z,we,Pe){return function(ze){z[we]=ze,Pe()}}a(d,"_createPromiseAllOnResolvedFunction");var m=function(){function z(we){var Pe=0,ze=null,at=[];Ze(z,this,function(rr){rr.then=function(Tt,qt){return new z(function(Kt,Yt){nt(Tt,qt,Kt,Yt)})},rr.catch=function(Tt){return rr.then(null,Tt)}});function nt(rr,Tt,qt,Kt){at.push(function(){var Yt;try{Pe===1?Yt=P(rr)?rr(ze):ze:Yt=P(Tt)?Tt(ze):ze,Yt instanceof z?Yt.then(qt,Kt):Pe===2&&!P(Tt)?Kt(Yt):qt(Yt)}catch(Mt){Kt(Mt);return}}),Pe!==0&&mt()}a(nt,"_enqueue");function mt(){if(at.length>0){var rr=at.slice();at=[],setTimeout(function(){for(var Tt=0,qt=rr.length;Tt<qt;++Tt)try{rr[Tt]()}catch(Kt){}},0)}}a(mt,"_processQueue");function Rt(rr){Pe===0&&(ze=rr,Pe=1,mt())}a(Rt,"_resolve");function Ut(rr){Pe===0&&(ze=rr,Pe=2,mt())}a(Ut,"_reject"),a(function(){if(!P(we))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{we(Rt,Ut)}catch(Tt){Ut(Tt)}},"_initialize")()}return a(z,"ESPromise"),z.resolve=function(we){return we instanceof z?we:we&&P(we.then)?new z(function(Pe,ze){try{we.then(Pe,ze)}catch(at){ze(at)}}):new z(function(Pe){Pe(we)})},z.reject=function(we){return new z(function(Pe,ze){ze(we)})},z.all=function(we){if(!(!we||!we.length))return new z(function(Pe,ze){try{for(var at=[],nt=0,mt=0;mt<we.length;mt++){var Rt=we[mt];Rt&&P(Rt.then)?(nt++,Rt.then(d(at,mt,function(){--nt==0&&Pe(at)}),ze)):at[mt]=Rt}nt===0&&setTimeout(function(){Pe(at)},0)}catch(Ut){ze(Ut)}})},z.race=function(we){return new z(function(Pe,ze){if(!(!we||!we.length))try{for(var at=a(function(mt){var Rt=we[mt];Rt&&P(Rt.then)?Rt.then(Pe,ze):setTimeout(function(){Pe(Rt)},0)},"_loop_1"),nt=0;nt<we.length;nt++)at(nt)}catch(mt){ze(mt)}})},z}();const J=m;var de=E(2091),Ne=6e5,ve=0,ht=[],It=[],Pt=[];function Ot(){return new Date().getTime()}a(Ot,"_getTime");var Vt=function(){function z(we,Pe){var ze=0,at=(we||"<unnamed>")+"."+ve;ve++,Ze(z,this,function(Rt){var Ut=null,rr=0;Rt.scheduleEvent=function(qt,Kt,Yt){var Mt=at+"."+rr;rr++,Kt&&(Mt+="-("+Kt+")");var Mr=Mt+"{"+ze+"}";ze++;var xr={evt:null,tm:Ot(),id:Mr,isRunning:!1,isAborted:!1};return Ut?xr.evt=Wn(xr,Ut):xr.evt=Kr(xr),Ut=xr,Ut.evt._schId=Mr,xr.evt;function En(er){for(var Qr=Ot(),Ar=Qr-Ne,Er=er.length,jr=0;jr<Er;){var un=er[jr];if(un&&un.tm<Ar){var Fn=null;un.abort?(Fn="Aborting ["+un.id+"] due to Excessive runtime ("+(Qr-un.tm)+" ms)",un.abort(Fn)):Fn="Removing ["+un.id+"] due to Excessive runtime ("+(Qr-un.tm)+" ms)",mt(Fn),er.splice(jr,1),Er--}else jr++}}a(En,"_abortAndRemoveOldEvents");function sn(er,Qr){var Ar=!1,Er=Tt(ht,er);if(Er||(Er=Tt(Pt,er),Ar=!0),Er){Er.to&&(clearTimeout(Er.to),Er.to=null);var jr=Ot()-Er.tm;Qr?Ar?mt("Timed out event ["+er+"] finally complete -- "+jr+" ms"):nt("Promise ["+er+"] Complete -- "+jr+" ms"):(Pt.push(Er),mt("Event ["+er+"] Timed out and removed -- "+jr+" ms"))}else nt("Failed to remove ["+er+"] from running queue");Ut&&Ut.id===er&&(Ut=null),En(ht),En(It),En(Pt)}a(sn,"_cleanup");function hn(er,Qr){return function(Ar){return sn(er,!0),Qr&&Qr(Ar),Ar}}a(hn,"_removeScheduledEvent");function Hn(er,Qr,Ar,Er){Qr.then(function(jr){return jr instanceof J?(nt("Event ["+er+"] returned a promise -- waiting"),Hn(er,jr,Ar,Er),jr):hn(er,Ar)(jr)},hn(er,Er))}a(Hn,"_waitForFinalResult");function Gn(er,Qr){var Ar=er.id;return new J(function(Er,jr){nt("Event ["+Ar+"] Starting -- waited for "+(er.wTm||"--")+" ms"),er.isRunning=!0,er.abort=function(Fn){er.abort=null,er.isAborted=!0,sn(Ar,!1),jr(new Error(Fn))};var un=Qr(Ar);un instanceof J?(Yt&&(er.to=setTimeout(function(){sn(Ar,!1),jr(new Error("Timed out after ["+Yt+"] ms"))},Yt)),Hn(Ar,un,function(Fn){nt("Event ["+Ar+"] Resolving after "+(Ot()-er.tm)+" ms"),Er(Fn)},jr)):(nt("Promise ["+Ar+"] Auto completed as the start action did not return a promise"),Er())})}a(Gn,"_createScheduledEvent");function Kr(er){var Qr=Ot();return er.wTm=Qr-er.tm,er.tm=Qr,er.isAborted?J.reject(new Error("["+Mt+"] was aborted")):(ht.push(er),Gn(er,qt))}a(Kr,"_startWaitingEvent");function Wn(er,Qr){var Ar=new J(function(Er,jr){var un=Ot()-Qr.tm,Fn=Qr.id;nt("["+Mt+"] is waiting for ["+Fn+":"+un+" ms] to complete before starting -- ["+It.length+"] waiting and ["+ht.length+"] running"),er.abort=function(Yn){er.abort=null,Tt(It,Mt),er.isAborted=!0,jr(new Error(Yn))},Qr.evt.then(function(Yn){Tt(It,Mt),Kr(er).then(Er,jr)},function(Yn){Tt(It,Mt),Kr(er).then(Er,jr)})});return It.push(er),Ar}a(Wn,"_waitForPreviousEvent")};function Tt(qt,Kt){for(var Yt=0;Yt<qt.length;Yt++)if(qt[Yt].id===Kt)return qt.splice(Yt,1)[0];return null}a(Tt,"_removeQueuedEvent")});function nt(Rt){var Ut=(0,de.Rd)();Ut&&Ut.QUnit&&console&&console.log("ESPromiseScheduler["+at+"] "+Rt)}a(nt,"_debugLog");function mt(Rt){(0,Oe.jV)(Pe,"ESPromiseScheduler["+at+"] "+Rt)}a(mt,"_warnLog")}return a(z,"ESPromiseScheduler"),z.incomplete=function(){return ht},z.waitingToStart=function(){return It},z}();const Hr=Vt;var mn=function(){function z(we){var Pe=this,ze={},at=[],nt=[];we&&nt.push(we);function mt(Tt,qt){var Kt,Yt=ze[Tt];if(Yt&&(Kt=Yt[qt]),!Kt&&Kt!==null){if((0,w.HD)(Tt)&&(0,w.HD)(qt))if(nt.length>0){for(var Mt=0;Mt<nt.length;Mt++)if(nt[Mt].handleField(Tt,qt)){Kt={canHandle:!0,fieldHandler:nt[Mt]};break}}else at.length===0&&(Kt={canHandle:!0});if(!Kt&&Kt!==null){Kt=null;for(var Mt=0;Mt<at.length;Mt++)if(at[Mt].handleField(Tt,qt)){Kt={canHandle:!0,handler:at[Mt],fieldHandler:null};break}}Yt||(Yt=ze[Tt]={}),Yt[qt]=Kt}return Kt}a(mt,"_getFieldSanitizer"),Pe.addSanitizer=function(Tt){Tt&&(at.push(Tt),ze={})},Pe.addFieldSanitizer=function(Tt){Tt&&(nt.push(Tt),ze={})},Pe.handleField=function(Tt,qt){var Kt=mt(Tt,qt);return Kt?Kt.canHandle:!1},Pe.value=function(Tt,qt,Kt,Yt){var Mt=mt(Tt,qt);if(Mt&&Mt.canHandle){if(!Mt||!Mt.canHandle)return null;if(Mt.handler)return Mt.handler.value(Tt,qt,Kt,Yt);if(!(0,w.HD)(qt)||(0,w.le)(Kt)||Kt===Re.qS)return null;var Mr=null,xr=(0,O.Sy)(Kt);if((xr&8192)==8192){var En=xr&~8192;if(Mr=Kt,!(0,O.Sn)(Mr.value)||En!==1&&En!==2&&En!==3&&(En&4096)!=4096)return null}else xr===1||xr===2||xr===3||(xr&4096)==4096?Mr=Ut(Tt,qt,Kt):xr===4&&(Mr=Ut(Tt,qt,Yt?JSON.stringify(Kt):Kt));if(Mr)return Rt(Mt,Tt,qt,xr,Mr,Yt)}return null},Pe.property=function(Tt,qt,Kt,Yt){var Mt=mt(Tt,qt);if(!Mt||!Mt.canHandle||!(0,w.HD)(qt)||(0,w.le)(Kt)||!(0,O.Sn)(Kt.value))return null;var Mr=(0,O.Sy)(Kt.value);return Mr===0?null:Rt(Mt,Tt,qt,Mr,Kt,Yt)};function Rt(Tt,qt,Kt,Yt,Mt,Mr){if(Tt.handler)return Tt.handler.property(qt,Kt,Mt,Mr);if(!(0,w.le)(Mt.kind)){if((Yt&4096)==4096||!(0,O.oS)(Mt.kind))return null;Mt.value=Mt.value.toString()}return rr(Tt.fieldHandler,qt,Kt,Yt,Mt)}a(Rt,"_handleProperty");function Ut(Tt,qt,Kt){return(0,O.Sn)(Kt)?{value:Kt}:null}a(Ut,"_convertToProperty");function rr(Tt,qt,Kt,Yt,Mt){if(Mt&&Tt){var Mr=Tt.getSanitizer(qt,Kt,Yt,Mt.kind,Mt.propertyType);if(Mr)if(Yt===4){var xr={},En=Mt.value;(0,w.rW)(En,function(hn,Hn){var Gn=qt+"."+Kt;if((0,O.Sn)(Hn)){var Kr=Ut(Gn,hn,Hn);Kr=rr(Tt,Gn,hn,(0,O.Sy)(Hn),Kr),Kr&&(xr[hn]=Kr.value)}}),Mt.value=xr}else{var sn={path:qt,name:Kt,type:Yt,prop:Mt,sanitizer:Pe};Mt=Mr.call(Pe,sn)}}return Mt}a(rr,"_callFieldSanitizer")}return a(z,"ValueSanitizer"),z.getFieldType=O.Sy,z}(),an=100,Vr=E(1880),On=E(4063),yn=E(1589),$n=E(5928),In=E(5843),Dr=E(4869),tn=E(4878),on=E(4392),ri=E(3242),ni=E(5883),ii=E(310),An=E(4206)},7984:(fe,l,E)=>{"use strict";E.d(l,{qS:()=>v,YT:()=>p,p8:()=>I,o6:()=>D});var v="",p="https://browser.events.data.microsoft.com/OneCollector/1.0/",w="pluginVersionString",_=w+"Arr",I="version",D="properties"},3599:(fe,l,E)=>{"use strict";E.d(l,{Gf:()=>b,vs:()=>B,x9:()=>W,dH:()=>U,Sn:()=>A,jM:()=>L,IZ:()=>$,r7:()=>te,yj:()=>Z,Vv:()=>re,oF:()=>ce,d8:()=>Se,kT:()=>ie,ej:()=>me,Do:()=>j,cm:()=>Ve,l7:()=>_e,hK:()=>he,oS:()=>Q,JT:()=>Fe,if:()=>ne,Sy:()=>Ge,cQ:()=>et,Tr:()=>st,mJ:()=>Y,ot:()=>ee});var v=E(7630),p=E(6708),w=E(3242),_=E(5843),I=E(4392),D=E(4869),h=E(4878),S=E(2091),x=E(7984),y,b="3.2.10",B="1DS-Web-JS-"+b,F="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",V="withCredentials",G="timeout",le=(y={},y[0]=0,y[2]=6,y[1]=1,y[3]=7,y[4096|2]=6,y[4096|1]=1,y[4096|3]=7,y),M=null,W=Boolean((0,v.Me)()),U=Boolean((0,v.Jj)());function A(ae){return!(ae===x.qS||(0,p.le)(ae))}a(A,"isValueAssigned");function L(ae){if(ae){var ye=ae.indexOf("-");if(ye>-1)return ae.substring(0,ye)}return x.qS}a(L,"getTenantId");function $(){return M===null&&(M=!(0,p.o8)(Uint8Array)&&!De()&&!(0,v.b$)()),M}a($,"isUint8ArrayAvailable");function te(ae){return!!(ae&&(0,p.hj)(ae)&&ae>=1&&ae<=4)}a(te,"isLatency");function Z(ae,ye,ke){if(!ye&&!A(ye)||typeof ae!="string")return null;var Ue=typeof ye;if(Ue==="string"||Ue==="number"||Ue==="boolean"||(0,p.kJ)(ye))ye={value:ye};else if(Ue==="object"&&!I.CY.call(ye,"value"))ye={value:ke?JSON.stringify(ye):ye};else if((0,p.le)(ye.value)||ye.value===x.qS||!(0,p.HD)(ye.value)&&!(0,p.hj)(ye.value)&&!(0,p.jn)(ye.value)&&!(0,p.kJ)(ye.value))return null;if((0,p.kJ)(ye.value)&&!Fe(ye.value))return null;if(!(0,p.le)(ye.kind)){if((0,p.kJ)(ye.value)||!Q(ye.kind))return null;ye.value=ye.value.toString()}return ye}a(Z,"sanitizeProperty");function re(ae,ye,ke){var Ue=-1;if(!(0,p.o8)(ae))if(ye>0&&(ye===32?Ue=1<<13:ye<=13&&(Ue=ye<<5)),ue(ke))Ue===-1&&(Ue=0),Ue|=ke;else{var pe=le[Ge(ae)]||-1;Ue!==-1&&pe!==-1?Ue|=pe:pe===6&&(Ue=pe)}return Ue}a(re,"getCommonSchemaMetaData");function ce(){(0,w.JP)(null).setEnabled(!1)}a(ce,"disableCookies");function Se(ae,ye,ke){(0,w.p7)(null)&&(0,w.JP)(null).set(ae,ye,ke*86400,null,"/")}a(Se,"setCookie");function ie(ae){(0,w.p7)(null)&&(0,w.JP)(null).del(ae)}a(ie,"deleteCookie");function me(ae){return(0,w.p7)(null)?j((0,w.JP)(null),ae):x.qS}a(me,"getCookie");function j(ae,ye,ke){ke===void 0&&(ke=!0);var Ue;return ae&&(Ue=ae.get(ye),ke&&Ue&&decodeURIComponent&&(Ue=decodeURIComponent(Ue))),Ue||x.qS}a(j,"getCookieValue");function Ve(ae){ae===void 0&&(ae="D");var ye=(0,_.GW)();return ae==="B"?ye="{"+ye+"}":ae==="P"?ye="("+ye+")":ae==="N"&&(ye=ye.replace(/-/g,x.qS)),ye}a(Ve,"createGuid");function _e(ae,ye,ke,Ue,pe){var Ae={},Me=!1,Ze=0,Oe=arguments.length,$e=Object[I.hB],pt=arguments;for($e.toString.call(pt[0])==="[object Boolean]"&&(Me=pt[0],Ze++);Ze<Oe;Ze++){var ae=pt[Ze];(0,p.rW)(ae,function(Re,O){Me&&O&&(0,p.Kn)(O)?(0,p.kJ)(O)?(Ae[Re]=Ae[Re]||[],(0,p.tO)(O,function(be,Xe){be&&(0,p.Kn)(be)?Ae[Re][Xe]=_e(!0,Ae[Re][Xe],be):Ae[Re][Xe]=be})):Ae[Re]=_e(!0,Ae[Re],O):Ae[Re]=O})}return Ae}a(_e,"extend");var he=_.Jj;function Q(ae){return ae===0||ae>0&&ae<=13||ae===32}a(Q,"isValueKind");function ue(ae){return ae>=0&&ae<=9}a(ue,"isDataType");function De(){var ae=(0,v.jW)();if(!(0,p.o8)(ae)&&ae.userAgent){var ye=ae.userAgent.toLowerCase();if((ye.indexOf("safari")>=0||ye.indexOf("firefox")>=0)&&ye.indexOf("chrome")<0)return!0}return!1}a(De,"isSafariOrFirefox");function Fe(ae){return ae.length>0}a(Fe,"isArrayValid");function ne(ae,ye){var ke=ae;ke.timings=ke.timings||{},ke.timings.processTelemetryStart=ke.timings.processTelemetryStart||{},ke.timings.processTelemetryStart[ye]=he()}a(ne,"setProcessTelemetryTimings");function Ge(ae){var ye=0;if(ae!=null){var ke=typeof ae;ke==="string"?ye=1:ke==="number"?ye=2:ke==="boolean"?ye=3:ke===I.fK&&(ye=4,(0,p.kJ)(ae)?(ye=4096,ae.length>0&&(ye|=Ge(ae[0]))):I.CY.call(ae,"value")&&(ye=8192|Ge(ae.value)))}return ye}a(Ge,"getFieldValueType");var et={Version:b,FullVersionString:B,strUndefined:I.jA,strObject:I.fK,Undefined:I.jA,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,objKeys:p.FY,toISOString:p.Y6,isReactNative:v.b$,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,isFunction:p.mf,isArray:p.kJ,isObject:p.Kn,strTrim:p.nd,isDocumentObjectAvailable:W,isWindowObjectAvailable:U,isValueAssigned:A,getTenantId:L,isBeaconsSupported:v.MF,isUint8ArrayAvailable:$,isLatency:te,sanitizeProperty:Z,getISOString:p.Y6,useXDomainRequest:v.cp,getCommonSchemaMetaData:re,cookieAvailable:w.p7,disallowsSameSiteNone:w.UY,setCookie:Se,deleteCookie:ie,getCookie:me,createGuid:Ve,extend:_e,getTime:he,isValueKind:Q,isArrayValid:Fe,objDefineAccessors:p.l_,addPageUnloadEventListener:D.c9,setProcessTelemetryTimings:ne,addEventHandler:D.Ib,getFieldValueType:Ge,strEndsWith:p.Id,objForEachKey:p.rW},st={_canUseCookies:void 0,isTypeof:p.Ym,isUndefined:p.o8,isNullOrUndefined:p.le,hasOwnProperty:p.nr,isFunction:p.mf,isObject:p.Kn,isDate:p.J_,isArray:p.kJ,isError:p.VZ,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,toISOString:p.Y6,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,strTrim:p.nd,objCreate:S.pu,objKeys:p.FY,objDefineAccessors:p.l_,addEventHandler:D.Ib,dateNow:p.m6,isIE:v.w1,disableCookies:ce,newGuid:_.GW,perfNow:_.Jj,newId:h.pZ,randomValue:h.az,random32:h._l,mwcRandomSeed:h.CN,mwcRandom32:h.F6,generateW3CId:_.DO};function Y(){return!!(0,v.a8)("chrome")}a(Y,"isChromium");function ee(ae,ye,ke,Ue,pe,Ae){Ue===void 0&&(Ue=!1),pe===void 0&&(pe=!1);function Me(Oe,$e,pt){try{Oe[$e]=pt}catch(ot){}}a(Me,"_wrapSetXhrProp");var Ze=new XMLHttpRequest;return Ue&&Me(Ze,F,Ue),ke&&Me(Ze,V,ke),Ze.open(ae,ye,!pe),ke&&Me(Ze,V,ke),!pe&&Ae&&Me(Ze,G,Ae),Ze}a(ee,"openXhr")},5229:(fe,l,E)=>{"use strict";E.r(l),E.d(l,{BE_PROFILE:()=>pt,NRT_PROFILE:()=>$e,PostChannel:()=>Gi,RT_PROFILE:()=>Oe});var v=E(1088);/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var p,w="undefined",_="constructor",I="prototype",D="function",h="_dynInstFuncs",S="_isDynProxy",x="_dynClass",y="_dynCls$",b="_dynInstChk",B=b,F="_dfOpts",V="_unknown_",G="__proto__",le="_dyn"+G,M="__dynProto$Gbl",W="_dynInstProto",U="useBaseInst",A="setInstFuncs",L=Object,$=L.getPrototypeOf,te=L.getOwnPropertyNames;function Z(){var We;return typeof globalThis!==w&&(We=globalThis),!We&&typeof self!==w&&(We=self),!We&&typeof window!==w&&(We=window),!We&&typeof E.g!==w&&(We=E.g),We||{}}a(Z,"_getGlobal");var re=Z(),ce=re[M]||(re[M]={o:(p={},p[A]=!0,p[U]=!0,p),n:1e3});function Se(We,ut){return We&&L[I].hasOwnProperty.call(We,ut)}a(Se,"_hasOwnProperty");function ie(We){return We&&(We===L[I]||We===Array[I])}a(ie,"_isObjectOrArrayPrototype");function me(We){return ie(We)||We===Function[I]}a(me,"_isObjectArrayOrFunctionPrototype");function j(We){var ut;if(We){if($)return $(We);var wt=We[G]||We[I]||(We[_]?We[_][I]:null);ut=We[le]||wt,Se(We,le)||(delete We[W],ut=We[le]=We[W]||We[le],We[W]=wt)}return ut}a(j,"_getObjProto");function Ve(We,ut){var wt=[];if(te)wt=te(We);else for(var ft in We)typeof ft=="string"&&Se(We,ft)&&wt.push(ft);if(wt&&wt.length>0)for(var kt=0;kt<wt.length;kt++)ut(wt[kt])}a(Ve,"_forEachProp");function _e(We,ut,wt){return ut!==_&&typeof We[ut]===D&&(wt||Se(We,ut))}a(_e,"_isDynamicCandidate");function he(We){throw new TypeError("DynamicProto: "+We)}a(he,"_throwTypeError");function Q(We){var ut={};return Ve(We,function(wt){!ut[wt]&&_e(We,wt,!1)&&(ut[wt]=We[wt])}),ut}a(Q,"_getInstanceFuncs");function ue(We,ut){for(var wt=We.length-1;wt>=0;wt--)if(We[wt]===ut)return!0;return!1}a(ue,"_hasVisited");function De(We,ut,wt,ft){function kt(Wt,vr,Rr){var Jr=vr[Rr];if(Jr[S]&&ft){var Yr=Wt[h]||{};Yr[B]!==!1&&(Jr=(Yr[vr[x]]||{})[Rr]||Jr)}return function(){return Jr.apply(Wt,arguments)}}a(kt,"_instFuncProxy");var Zt={};Ve(wt,function(Wt){Zt[Wt]=kt(ut,wt,Wt)});for(var St=j(We),nr=[];St&&!me(St)&&!ue(nr,St);)Ve(St,function(Wt){!Zt[Wt]&&_e(St,Wt,!$)&&(Zt[Wt]=kt(ut,St,Wt))}),nr.push(St),St=j(St);return Zt}a(De,"_getBaseFuncs");function Fe(We,ut,wt,ft){var kt=null;if(We&&Se(wt,x)){var Zt=We[h]||{};if(kt=(Zt[wt[x]]||{})[ut],kt||he("Missing ["+ut+"] "+D),!kt[b]&&Zt[B]!==!1){for(var St=!Se(We,ut),nr=j(We),Wt=[];St&&nr&&!me(nr)&&!ue(Wt,nr);){var vr=nr[ut];if(vr){St=vr===ft;break}Wt.push(nr),nr=j(nr)}try{St&&(We[ut]=kt),kt[b]=1}catch(Rr){Zt[B]=!1}}}return kt}a(Fe,"_getInstFunc");function ne(We,ut,wt){var ft=ut[We];return ft===wt&&(ft=j(ut)[We]),typeof ft!==D&&he("["+We+"] is not a "+D),ft}a(ne,"_getProtoFunc");function Ge(We,ut,wt,ft,kt){function Zt(Wt,vr){var Rr=a(function(){var Jr=Fe(this,vr,Wt,Rr)||ne(vr,Wt,Rr);return Jr.apply(this,arguments)},"dynProtoProxy");return Rr[S]=1,Rr}if(a(Zt,"_createDynamicPrototype"),!ie(We)){var St=wt[h]=wt[h]||{},nr=St[ut]=St[ut]||{};St[B]!==!1&&(St[B]=!!kt),Ve(wt,function(Wt){_e(wt,Wt,!1)&&wt[Wt]!==ft[Wt]&&(nr[Wt]=wt[Wt],delete wt[Wt],(!Se(We,Wt)||We[Wt]&&!We[Wt][S])&&(We[Wt]=Zt(We,Wt)))})}}a(Ge,"_populatePrototype");function et(We,ut){if($){for(var wt=[],ft=j(ut);ft&&!me(ft)&&!ue(wt,ft);){if(ft===We)return!0;wt.push(ft),ft=j(ft)}return!1}return!0}a(et,"_checkPrototype");function st(We,ut){return Se(We,I)?We.name||ut||V:((We||{})[_]||{}).name||ut||V}a(st,"_getObjName");function Y(We,ut,wt,ft){Se(We,I)||he("theClass is an invalid class definition.");var kt=We[I];et(kt,ut)||he("["+st(We)+"] not in hierarchy of ["+st(ut)+"]");var Zt=null;Se(kt,x)?Zt=kt[x]:(Zt=y+st(We,"_")+"$"+ce.n,ce.n++,kt[x]=Zt);var St=Y[F],nr=!!St[U];nr&&ft&&ft[U]!==void 0&&(nr=!!ft[U]);var Wt=Q(ut),vr=De(kt,ut,Wt,nr);wt(ut,vr);var Rr=!!$&&!!St[A];Rr&&ft&&(Rr=!!ft[A]),Ge(kt,Zt,ut,Wt,Rr!==!1)}a(Y,"dynamicProto"),Y[F]=ce.o;var ee=E(9288),ae=E(4869),ye=E(5883),ke=E(3599),Ue=E(6708),pe=E(7630),Ae=E(5928),Me=E(5018),Ze=E(4063),Oe="REAL_TIME",$e="NEAR_REAL_TIME",pt="BEST_EFFORT",ot="",Re="POST",O="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",be="drop",Xe="send",Jt="requeue",yr="rspFail",br="oth",P="no-cache, no-store",d="application/x-json-stream",m="cache-control",J="content-type",de="kill-tokens",Ne="kill-duration",ve="kill-duration-seconds",ht="time-delta-millis",It="client-version",Pt="client-id",Ot="time-delta-to-apply-millis",Vt="upload-time",Hr="apikey",mn="AuthMsaDeviceTicket",an="AuthXToken",Vr="sdk-version",On="NoResponseBody",yn="msfpc",$n="trace",In="user";function Dr(We){var ut=(We.ext||{}).intweb;return ut&&(0,ke.Sn)(ut[yn])?ut[yn]:null}a(Dr,"_getEventMsfpc");function tn(We){for(var ut=null,wt=0;ut===null&&wt<We.length;wt++)ut=Dr(We[wt]);return ut}a(tn,"_getMsfpc");var on=function(){function We(ut,wt){var ft=wt?[].concat(wt):[],kt=this,Zt=tn(ft);kt.iKey=function(){return ut},kt.Msfpc=function(){return Zt||ot},kt.count=function(){return ft.length},kt.events=function(){return ft},kt.addEvent=function(St){return St?(ft.push(St),Zt||(Zt=Dr(St)),!0):!1},kt.split=function(St,nr){var Wt;if(St<ft.length){var vr=ft.length-St;(0,Ue.le)(nr)||(vr=nr<vr?nr:vr),Wt=ft.splice(St,vr),Zt=tn(ft)}return new We(ut,Wt)}}return a(We,"EventBatch"),We.create=function(ut,wt){return new We(ut,wt)},We}(),ri=function(){function We(){var ut=!0,wt=!0,ft=!0,kt="use-collector-delta",Zt=!1;Y(We,this,function(St){St.allowRequestSending=function(){return ut},St.firstRequestSent=function(){ft&&(ft=!1,Zt||(ut=!1))},St.shouldAddClockSkewHeaders=function(){return wt},St.getClockSkewHeaderValue=function(){return kt},St.setClockSkew=function(nr){Zt||(nr?(kt=nr,wt=!0,Zt=!0):wt=!1,ut=!0)}})}return a(We,"ClockSkewManager"),We.__ieDyn=1,We}();const ni=ri;var ii=1e3,An=function(){function We(){var ut={};function wt(ft){var kt=[];return ft&&(0,Ue.tO)(ft,function(Zt){kt.push((0,Ue.nd)(Zt))}),kt}a(wt,"_normalizeTenants"),Y(We,this,function(ft){ft.setKillSwitchTenants=function(kt,Zt){if(kt&&Zt)try{var St=wt(kt.split(","));if(Zt==="this-request-only")return St;for(var nr=parseInt(Zt,10)*ii,Wt=0;Wt<St.length;++Wt)ut[St[Wt]]=(0,Ue.m6)()+nr}catch(vr){return[]}return[]},ft.isTenantKilled=function(kt){var Zt=ut,St=(0,Ue.nd)(kt);return Zt[St]!==void 0&&Zt[St]>(0,Ue.m6)()?!0:(delete Zt[St],!1)}})}return a(We,"KillSwitch"),We.__ieDyn=1,We}();const z=An;var we=E(4392),Pe=.8,ze=1.2,at=3e3,nt=6e5;function mt(We){return!(We>=300&&We<500&&We!=408&&We!=429||We==501||We==505)}a(mt,"retryPolicyShouldRetryForStatus");function Rt(We){var ut=0,wt=at*Pe,ft=at*ze,kt=Math.floor(Math.random()*(ft-wt))+wt;return ut=Math.pow(2,We)*kt,Math.min(ut,nt)}a(Rt,"retryPolicyGetMillisToBackoffForRetry");var Ut=20,rr=3984588,Tt=65e3,qt=2e6,Kt=Math.min(qt,Tt),Yt="metadata",Mt="f",Mr=/\./,xr=function(){function We(ut,wt,ft,kt){var Zt="data",St="baseData",nr="ext",Wt=!!kt,vr=!0,Rr=wt,Jr={};Y(We,this,function(Yr){Yr.createPayload=function(Bt,ir,_r,wr,K,X){return{apiKeys:[],payloadBlob:ot,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Bt,isTeardown:ir,isSync:_r,isBeacon:wr,sendType:X,sendReason:K}},Yr.appendPayload=function(Bt,ir,_r){var wr=Bt&&ir&&!Bt.overflow;return wr&&(0,ee.Lm)(ut,function(){return"Serializer:appendPayload"},function(){for(var K=ir.events(),X=Bt.payloadBlob,qe=Bt.numEvents,dt=!1,zt=[],$t=[],hr=Bt.isBeacon,pr=hr?Tt:rr,ar=hr?Kt:qt,dr=0,lr=0;dr<K.length;){var Qt=K[dr];if(Qt){if(qe>=_r){Bt.overflow=ir.split(dr);break}var xt=Yr.getEventBlob(Qt);if(xt&&xt.length<=ar){var Ir=xt.length,Fr=X.length;if(Fr+Ir>pr){Bt.overflow=ir.split(dr);break}X&&(X+=`
`),X+=xt,lr++,lr>Ut&&(X.substr(0,1),lr=0),dt=!0,qe++}else xt?zt.push(Qt):$t.push(Qt),K.splice(dr,1),dr--}dr++}if(zt&&zt.length>0&&Bt.sizeExceed.push(on.create(ir.iKey(),zt)),$t&&$t.length>0&&Bt.failedEvts.push(on.create(ir.iKey(),$t)),dt){Bt.batches.push(ir),Bt.payloadBlob=X,Bt.numEvents=qe;var Ur=ir.iKey();(0,Ue.UA)(Bt.apiKeys,Ur)===-1&&Bt.apiKeys.push(Ur)}},function(){return{payload:Bt,theBatch:{iKey:ir.iKey(),evts:ir.events()},max:_r}}),wr},Yr.getEventBlob=function(Bt){try{return(0,ee.Lm)(ut,function(){return"Serializer.getEventBlob"},function(){var ir={};ir.name=Bt.name,ir.time=Bt.time,ir.ver=Bt.ver,ir.iKey="o:"+(0,ke.jM)(Bt.iKey);var _r={},wr=Bt[nr];wr&&(ir[nr]=_r,(0,Ue.rW)(wr,function(qe,dt){var zt=_r[qe]={};kr(dt,zt,"ext."+qe,!0,null,null,!0)}));var K=ir[Zt]={};K.baseType=Bt.baseType;var X=K[St]={};return kr(Bt.baseData,X,St,!1,[St],function(qe,dt,zt){En(_r,qe,dt,zt)},vr),kr(Bt.data,K,Zt,!1,[],function(qe,dt,zt){En(_r,qe,dt,zt)},vr),JSON.stringify(ir)},function(){return{item:Bt}})}catch(ir){return null}};function rn(Bt,ir){var _r=Jr[Bt];return _r===void 0&&(Bt.length>=7&&(_r=(0,Ue.xe)(Bt,"ext.metadata")||(0,Ue.xe)(Bt,"ext.web")),Jr[Bt]=_r),_r}a(rn,"_isReservedField");function kr(Bt,ir,_r,wr,K,X,qe){(0,Ue.rW)(Bt,function(dt,zt){var $t=null;if(zt||(0,ke.Sn)(zt)){var hr=_r,pr=dt,ar=K,dr=ir;if(Wt&&!wr&&Mr.test(dt)){var lr=dt.split("."),Qt=lr.length;if(Qt>1){ar&&(ar=ar.slice());for(var xt=0;xt<Qt-1;xt++){var Ir=lr[xt];dr=dr[Ir]=dr[Ir]||{},hr+="."+Ir,ar&&ar.push(Ir)}pr=lr[Qt-1]}}var Fr=wr&&rn(hr,pr);if(!Fr&&Rr&&Rr.handleField(hr,pr)?$t=Rr.value(hr,pr,zt,ft):$t=(0,ke.yj)(pr,zt,ft),$t){var Ur=$t.value;if(dr[pr]=Ur,X&&X(ar,pr,$t),qe&&typeof Ur=="object"&&!(0,Ue.kJ)(Ur)){var Zr=ar;Zr&&(Zr=Zr.slice(),Zr.push(pr)),kr(zt,Ur,hr+"."+pr,wr,Zr,X,qe)}}}})}a(kr,"_processPathKeys")})}return a(We,"Serializer"),We.__ieDyn=1,We}();function En(We,ut,wt,ft){if(ft&&We){var kt=(0,ke.Vv)(ft.value,ft.kind,ft.propertyType);if(kt>-1){var Zt=We[Yt];Zt||(Zt=We[Yt]={f:{}});var St=Zt[Mt];if(St||(St=Zt[Mt]={}),ut)for(var nr=0;nr<ut.length;nr++){var Wt=ut[nr];St[Wt]||(St[Wt]={f:{}});var vr=St[Wt][Mt];vr||(vr=St[Wt][Mt]={}),St=vr}St=St[wt]={},(0,Ue.kJ)(ft.value)?St.a={t:kt}:St.t=kt}}}a(En,"_addJSONPropertyMetaData");var sn,hn="sendAttempt",Hn="&"+On+"=true",Gn=(sn={},sn[1]=Jt,sn[100]=Jt,sn[200]="sent",sn[8004]=be,sn[8003]=be,sn),Kr={},Wn={};function er(We,ut,wt){Kr[We]=ut,wt!==!1&&(Wn[ut]=We)}a(er,"_addCollectorHeaderQsMapping"),er(mn,mn,!1),er(It,It),er(Pt,"Client-Id"),er(Hr,Hr),er(Ot,Ot),er(Vt,Vt),er(an,an);function Qr(We){try{return We.responseText}catch(ut){}return ot}a(Qr,"_getResponseText");function Ar(We,ut){var wt=!1;if(We&&ut){var ft=(0,Ue.FY)(We);if(ft&&ft.length>0)for(var kt=ut.toLowerCase(),Zt=0;Zt<ft.length;Zt++){var St=ft[Zt];if(St&&(0,Ue.nr)(ut,St)&&St.toLowerCase()===kt){wt=!0;break}}}return wt}a(Ar,"_hasHeader");function Er(We,ut,wt,ft){ut&&wt&&wt.length>0&&(ft&&Kr[ut]?(We.hdrs[Kr[ut]]=wt,We.useHdrs=!0):We.url+="&"+ut+"="+wt)}a(Er,"_addRequestDetails");function jr(We,ut){return ut&&((0,Ue.hj)(ut)?We=[ut].concat(We):(0,Ue.kJ)(ut)&&(We=ut.concat(We))),We}a(jr,"_prependTransports");var un=function(){function We(ut,wt,ft,kt,Zt){this._responseHandlers=[];var St="?cors=true&"+J.toLowerCase()+"="+d,nr=new z,Wt=!1,vr=new ni,Rr=!1,Jr=0,Yr,rn,kr,Bt,ir=!0,_r=[],wr={},K=[],X=null,qe=!1,dt,zt=!1,$t=!1,hr,pr,ar,dr,lr;Y(We,this,function(Qt){var xt=!0;Qt.initialize=function(xe,it,ct,Et,Nt){var Ft;Nt||(Nt={}),St=xe+St,$t=(0,Ue.o8)(Nt.avoidOptions)?!0:!Nt.avoidOptions,Bt=it,dt=it.getCookieMgr(),qe=!Bt.config.disableEventTimings;var ur=!!Bt.config.enableCompoundKey;Yr=ct,rn=Yr.diagLog();var Ce=Nt.valueSanitizer,Je=Nt.stringifyObjects;(0,Ue.o8)(Nt.enableCompoundKey)||(ur=!!Nt.enableCompoundKey),hr=Nt.xhrTimeout,pr=!!Nt.disableXhrSync,ar=!!Nt.disableFetchKeepAlive,lr=Nt.addNoResponse!==!1,Rr=!(0,pe.b$)(),X=new xr(Bt,Ce,Je,ur),(0,Ue.le)(Nt.useSendBeacon)||(Rr=!!Nt.useSendBeacon);var Qe=Et,yt=Nt.alwaysUseXhrOverride?Et:null,Ht=Nt.alwaysUseXhrOverride?Et:null,tr=[3,2];if(!Et){ir=!1;var Sr=(0,pe.k$)();Sr&&Sr.protocol&&Sr.protocol.toLowerCase()==="file:"&&(xt=!1);var Cr=[];(0,pe.b$)()?(Cr=[2,1],tr=[2,1,3]):Cr=[1,2,3],Cr=jr(Cr,Nt.transports),Et=Ir(Cr,!1),Et||(0,Me.jV)(rn,"No available transport to send events"),Qe=Ir(Cr,!0)}yt||(tr=jr(tr,Nt.unloadTransports),yt=Ir(tr,!0)),dr=!ir&&(Rr&&(0,pe.MF)()||!ar&&(0,pe.JO)(!0)),kr=(Ft={},Ft[0]=Et,Ft[1]=Qe||Ir([1,2,3],!0),Ft[2]=yt||Qe||Ir([1],!0),Ft[3]=Ht||Ir([2,3],!0)||Qe||Ir([1],!0),Ft)};function Ir(xe,it){for(var ct=0,Et=null,Nt=0;Et==null&&Nt<xe.length;)ct=xe[Nt],ct===1?(0,pe.cp)()?Et=Fr:(0,pe.Z3)()&&(Et=Zr):ct===2&&(0,pe.JO)(it)&&(!it||it&&!ar)?Et=Ur:Rr&&ct===3&&(0,pe.MF)()&&(Et=Nn),Nt++;return Et?{_transport:ct,_isSync:it,sendPOST:Et}:null}a(Ir,"_getSenderInterface"),Qt._getDbgPlgTargets=function(){return[kr[0],nr,X,kr]};function Fr(xe,it,ct){var Et=new XDomainRequest;Et.open(Re,xe.urlString),xe.timeout&&(Et.timeout=xe.timeout),Et.onload=function(){var Nt=Qr(Et);Xt(it,200,{},Nt),zn(Nt)},Et.onerror=function(){Xt(it,400,{})},Et.ontimeout=function(){Xt(it,500,{})},Et.onprogress=function(){},ct?Et.send(xe.data):Zt.set(function(){Et.send(xe.data)},0)}a(Fr,"_xdrSendPost");function Ur(xe,it,ct){var Et,Nt=xe.urlString,Ft=!1,ur=!1,Ce=(Et={body:xe.data,method:Re},Et[O]=!0,Et);ct&&(Ce.keepalive=!0,xe._sendReason===2&&(Ft=!0,lr&&(Nt+=Hn))),xt&&(Ce.credentials="include"),xe.headers&&(0,Ue.FY)(xe.headers).length>0&&(Ce.headers=xe.headers),fetch(Nt,Ce).then(function(Je){var Qe={},yt=ot,Ht=Je.headers;Ht&&Ht.forEach(function(tr,Sr){Qe[Sr]=tr}),Je.body&&Je.text().then(function(tr){yt=tr}),ur||(ur=!0,Xt(it,Je.status,Qe,yt),zn(yt))}).catch(function(Je){ur||(ur=!0,Xt(it,0,{}))}),Ft&&!ur&&(ur=!0,Xt(it,200,{})),!ur&&xe.timeout>0&&Zt.set(function(){ur||(ur=!0,Xt(it,500,{}))},xe.timeout)}a(Ur,"_fetchSendPost");function Zr(xe,it,ct){var Et=xe.urlString;function Nt(Je,Qe,yt){if(!Je[yt]&&Qe&&Qe.getResponseHeader){var Ht=Qe.getResponseHeader(yt);Ht&&(Je[yt]=(0,Ue.nd)(Ht))}return Je}a(Nt,"_appendHeader");function Ft(Je){var Qe={};return Je.getAllResponseHeaders?Qe=Ui(Je.getAllResponseHeaders()):(Qe=Nt(Qe,Je,ht),Qe=Nt(Qe,Je,Ne),Qe=Nt(Qe,Je,ve)),Qe}a(Ft,"_getAllResponseHeaders");function ur(Je,Qe){Xt(it,Je.status,Ft(Je),Qe)}a(ur,"xhrComplete"),ct&&xe.disableXhrSync&&(ct=!1);var Ce=(0,ke.ot)(Re,Et,xt,!0,ct,xe.timeout);(0,Ue.rW)(xe.headers,function(Je,Qe){Ce.setRequestHeader(Je,Qe)}),Ce.onload=function(){var Je=Qr(Ce);ur(Ce,Je),zn(Je)},Ce.onerror=function(){ur(Ce)},Ce.ontimeout=function(){ur(Ce)},Ce.send(xe.data)}a(Zr,"_xhrSendPost");function Xt(xe,it,ct,Et){try{xe(it,ct,Et)}catch(Nt){(0,Me.kP)(rn,2,518,(0,pe.eU)(Nt))}}a(Xt,"_doOnComplete");function Nn(xe,it,ct){var Et=xe,Nt=200,Ft=Et._thePayload,ur=xe.urlString+(lr?Hn:ot);try{var Ce=(0,pe.jW)();if(!Ce.sendBeacon(ur,xe.data))if(Ft){var Je=[];(0,Ue.tO)(Ft.batches,function(Qe){if(Je&&Qe&&Qe.count()>0){for(var yt=Qe.events(),Ht=0;Ht<yt.length;Ht++)if(!Ce.sendBeacon(ur,X.getEventBlob(yt[Ht]))){Je.push(Qe.split(Ht));break}}else Je.push(Qe.split(0))}),gn(Je,8003,Ft.sendType,!0)}else Nt=0}catch(Qe){(0,Me.jV)(rn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,pe.eU)(Qe)),Nt=0}finally{Xt(it,Nt,{},ot)}}a(Nn,"_beaconSendPost");function _n(xe){return xe===2||xe===3}a(_n,"_isBeaconPayload");function Nr(xe){return zt&&_n(xe)&&(xe=2),xe}a(Nr,"_adjustSendType"),Qt.addQueryStringParameter=function(xe,it){for(var ct=0;ct<_r.length;ct++)if(_r[ct].name===xe){_r[ct].value=it;return}_r.push({name:xe,value:it})},Qt.addHeader=function(xe,it){wr[xe]=it},Qt.canSendRequest=function(){return ai()&&vr.allowRequestSending()},Qt.sendQueuedRequests=function(xe,it){(0,Ue.o8)(xe)&&(xe=0),zt&&(xe=Nr(xe),it=2),Mn(K,xe,0)&&fi(Ln(),0,!1,xe,it||0)},Qt.isCompletelyIdle=function(){return!Wt&&Jr===0&&K.length===0},Qt.setUnloading=function(xe){zt=xe},Qt.addBatch=function(xe){if(xe&&xe.count()>0){if(nr.isTenantKilled(xe.iKey()))return!1;K.push(xe)}return!0},Qt.teardown=function(){K.length>0&&fi(Ln(),0,!0,2,2)},Qt.pause=function(){Wt=!0},Qt.resume=function(){Wt=!1,Qt.sendQueuedRequests(0,4)},Qt.sendSynchronousBatch=function(xe,it,ct){xe&&xe.count()>0&&((0,Ue.le)(it)&&(it=1),zt&&(it=Nr(it),ct=2),fi([xe],0,!1,it,ct||0))};function ai(){return!Wt&&Jr<wt}a(ai,"_hasIdleConnection");function Ln(){var xe=K;return K=[],xe}a(Ln,"_clearQueue");function Mn(xe,it,ct){var Et=!1;return xe&&xe.length>0&&!Wt&&kr[it]&&X&&(Et=it!==0||ai()&&(ct>0||vr.allowRequestSending())),Et}a(Mn,"_canSendPayload");function yi(xe){var it={};return xe&&(0,Ue.tO)(xe,function(ct,Et){it[Et]={iKey:ct.iKey(),evts:ct.events()}}),it}a(yi,"_createDebugBatches");function fi(xe,it,ct,Et,Nt){if(!(!xe||xe.length===0)){if(Wt){gn(xe,1,Et);return}Et=Nr(Et);try{var Ft=xe,ur=Et!==0;(0,ee.Lm)(Bt,function(){return"HttpManager:_sendBatches"},function(Ce){Ce&&(xe=xe.slice(0));for(var Je=[],Qe=null,yt=(0,ke.hK)(),Ht=kr[Et]||(ur?kr[1]:kr[0]),tr=Ht&&Ht._transport,Sr=dr&&(zt||_n(Et)||tr===3||Ht._isSync&&tr===2);Mn(xe,Et,it);){var Cr=xe.shift();Cr&&Cr.count()>0&&(nr.isTenantKilled(Cr.iKey())?Je.push(Cr):(Qe=Qe||X.createPayload(it,ct,ur,Sr,Nt,Et),X.appendPayload(Qe,Cr,ut)?Qe.overflow!==null&&(xe=[Qe.overflow].concat(xe),Qe.overflow=null,Si(Qe,yt,(0,ke.hK)(),Nt),yt=(0,ke.hK)(),Qe=null):(Si(Qe,yt,(0,ke.hK)(),Nt),yt=(0,ke.hK)(),xe=[Cr].concat(xe),Qe=null)))}Qe&&Si(Qe,yt,(0,ke.hK)(),Nt),xe.length>0&&(K=xe.concat(K)),gn(Je,8004,Et)},function(){return{batches:yi(Ft),retryCount:it,isTeardown:ct,isSynchronous:ur,sendReason:Nt,useSendBeacon:_n(Et),sendType:Et}},!ur)}catch(Ce){(0,Me.kP)(rn,2,48,"Unexpected Exception sending batch: "+(0,pe.eU)(Ce))}}}a(fi,"_sendBatches");function hi(xe,it){var ct={url:St,hdrs:{},useHdrs:!1};it?(ct.hdrs=(0,ke.l7)(ct.hdrs,wr),ct.useHdrs=(0,Ue.FY)(ct.hdrs).length>0):(0,Ue.rW)(wr,function(Ce,Je){Wn[Ce]?Er(ct,Wn[Ce],Je,!1):(ct.hdrs[Ce]=Je,ct.useHdrs=!0)}),Er(ct,Pt,"NO_AUTH",it),Er(ct,It,ke.vs,it);var Et=ot;(0,Ue.tO)(xe.apiKeys,function(Ce){Et.length>0&&(Et+=","),Et+=Ce}),Er(ct,Hr,Et,it),Er(ct,Vt,(0,Ue.m6)().toString(),it);var Nt=Vn(xe);if((0,ke.Sn)(Nt)&&(ct.url+="&ext.intweb.msfpc="+Nt),vr.shouldAddClockSkewHeaders()&&Er(ct,Ot,vr.getClockSkewHeaderValue(),it),Bt.getWParam){var Ft=Bt.getWParam();Ft>=0&&(ct.url+="&w="+Ft)}for(var ur=0;ur<_r.length;ur++)ct.url+="&"+_r[ur].name+"="+_r[ur].value;return ct}a(hi,"_buildRequestDetails");function dn(xe,it,ct){xe[it]=xe[it]||{},xe[it][Yr.identifier]=ct}a(dn,"_setTimingValue");function Si(xe,it,ct,Et){if(xe&&xe.payloadBlob&&xe.payloadBlob.length>0){var Nt=!!Qt.sendHook,Ft=kr[xe.sendType];!_n(xe.sendType)&&xe.isBeacon&&xe.sendReason===2&&(Ft=kr[2]||kr[3]||Ft);var ur=$t;(xe.isBeacon||Ft._transport===3)&&(ur=!1);var Ce=hi(xe,ur);ur=ur||Ce.useHdrs;var Je=(0,ke.hK)();(0,ee.Lm)(Bt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Qe=0;Qe<xe.batches.length;Qe++)for(var yt=xe.batches[Qe],Ht=yt.events(),tr=0;tr<Ht.length;tr++){var Sr=Ht[tr];if(qe){var Cr=Sr.timings=Sr.timings||{};dn(Cr,"sendEventStart",Je),dn(Cr,"serializationStart",it),dn(Cr,"serializationCompleted",ct)}Sr[hn]>0?Sr[hn]++:Sr[hn]=1}gn(xe.batches,1e3+(Et||0),xe.sendType,!0);var Gr={data:xe.payloadBlob,urlString:Ce.url,headers:Ce.hdrs,_thePayload:xe,_sendReason:Et,timeout:hr,disableXhrSync:pr,disableFetchKeepAlive:ar};ur&&(Ar(Gr.headers,m)||(Gr.headers[m]=P),Ar(Gr.headers,J)||(Gr.headers[J]=d));var xi=null;Ft&&(xi=a(function(ea){vr.firstRequestSent();var Yi=a(function(gi,Bi){oi(gi,Bi,xe,Et)},"onComplete"),ln=xe.isTeardown||xe.isSync;try{Ft.sendPOST(ea,Yi,ln),Qt.sendListener&&Qt.sendListener(Gr,ea,ln,xe.isBeacon)}catch(gi){(0,Me.jV)(rn,"Unexpected exception sending payload. Ex:"+(0,pe.eU)(gi)),Xt(Yi,0,{})}},"sender")),(0,ee.Lm)(Bt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(xi)if(xe.sendType===0&&Jr++,Nt&&!xe.isBeacon&&Ft._transport!==3){var ea={data:Gr.data,urlString:Gr.urlString,headers:(0,ke.l7)({},Gr.headers),timeout:Gr.timeout,disableXhrSync:Gr.disableXhrSync,disableFetchKeepAlive:Gr.disableFetchKeepAlive},Yi=!1;(0,ee.Lm)(Bt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Qt.sendHook(ea,function(ln){Yi=!0,!ir&&!ln._thePayload&&(ln._thePayload=ln._thePayload||Gr._thePayload,ln._sendReason=ln._sendReason||Gr._sendReason),xi(ln)},xe.isSync||xe.isTeardown)}catch(ln){Yi||xi(Gr)}})}else xi(Gr)})},function(){return{thePayload:xe,serializationStart:it,serializationCompleted:ct,sendReason:Et}},xe.isSync)}xe.sizeExceed&&xe.sizeExceed.length>0&&gn(xe.sizeExceed,8003,xe.sendType),xe.failedEvts&&xe.failedEvts.length>0&&gn(xe.failedEvts,8002,xe.sendType)}a(Si,"_doPayloadSend");function bi(xe,it){qe&&(0,Ue.tO)(xe,function(ct){var Et=ct.timings=ct.timings||{};dn(Et,"sendEventCompleted",it)})}a(bi,"_addEventCompletedTimings");function oi(xe,it,ct,Et){var Nt=9e3,Ft=null,ur=!1,Ce=!1;try{var Je=!0;if(typeof xe!==we.jA){if(it){vr.setClockSkew(it[ht]);var Qe=it[Ne]||it["kill-duration-seconds"];(0,Ue.tO)(nr.setKillSwitchTenants(it[de],Qe),function(Ht){(0,Ue.tO)(ct.batches,function(tr){if(tr.iKey()===Ht){Ft=Ft||[];var Sr=tr.split(0);ct.numEvents-=Sr.count(),Ft.push(Sr)}})})}if(xe==200||xe==204){Nt=200;return}(!mt(xe)||ct.numEvents<=0)&&(Je=!1),Nt=9e3+xe%1e3}if(Je){Nt=100;var yt=ct.retryCnt;ct.sendType===0&&(yt<ft?(ur=!0,ki(function(){ct.sendType===0&&Jr--,fi(ct.batches,yt+1,ct.isTeardown,zt?2:ct.sendType,5)},zt,Rt(yt))):(Ce=!0,zt&&(Nt=8001)))}}finally{ur||(vr.setClockSkew(),kn(ct,Nt,Et,Ce)),gn(Ft,8004,ct.sendType)}}a(oi,"_retryRequestIfNeeded");function kn(xe,it,ct,Et){try{Et&&Yr._backOffTransmission(),it===200&&(!Et&&!xe.isSync&&Yr._clearBackOff(),si(xe.batches)),gn(xe.batches,it,xe.sendType,!0)}finally{xe.sendType===0&&(Jr--,ct!==5&&Qt.sendQueuedRequests(xe.sendType,ct))}}a(kn,"_handleRequestFinished");function si(xe){if(qe){var it=(0,ke.hK)();(0,Ue.tO)(xe,function(ct){ct&&ct.count()>0&&bi(ct.events(),it)})}}a(si,"_addCompleteTimings");function ki(xe,it,ct){it?xe():Zt.set(xe,ct)}a(ki,"_doAction");function Ui(xe){var it={};if((0,Ue.HD)(xe)){var ct=(0,Ue.nd)(xe).split(/[\r\n]+/);(0,Ue.tO)(ct,function(Et){if(Et){var Nt=Et.indexOf(": ");if(Nt!==-1){var Ft=(0,Ue.nd)(Et.substring(0,Nt)).toLowerCase(),ur=(0,Ue.nd)(Et.substring(Nt+1));it[Ft]=ur}else it[(0,Ue.nd)(Et)]=1}})}return it}a(Ui,"_convertAllHeadersToMap");function Vn(xe){for(var it=0;it<xe.batches.length;it++){var ct=xe.batches[it].Msfpc();if(ct)return encodeURIComponent(ct)}return ot}a(Vn,"_getMsfpc");function zn(xe){var it=Qt._responseHandlers;try{for(var ct=0;ct<it.length;ct++)try{it[ct](xe)}catch(Nt){(0,Me.kP)(rn,1,519,"Response handler failed: "+Nt)}if(xe){var Et=JSON.parse(xe);(0,ke.Sn)(Et.webResult)&&(0,ke.Sn)(Et.webResult[yn])&&dt.set("MSFPC",Et.webResult[yn],365*86400)}}catch(Nt){}}a(zn,"_handleCollectorResponse");function gn(xe,it,ct,Et){if(xe&&xe.length>0&&kt){var Nt=kt[di(it)];if(Nt){var Ft=ct!==0;(0,ee.Lm)(Bt,function(){return"HttpManager:_sendBatchesNotification"},function(){ki(function(){try{Nt.call(kt,xe,it,Ft,ct)}catch(ur){(0,Me.kP)(rn,1,74,"send request notification failed: "+ur)}},Et||Ft,0)},function(){return{batches:yi(xe),reason:it,isSync:Ft,sendSync:Et,sendType:ct}},!Ft)}}}a(gn,"_sendBatchesNotification");function di(xe){var it=Gn[xe];return(0,ke.Sn)(it)||(it=br,xe>=9e3&&xe<=9999?it=yr:xe>=8e3&&xe<=8999?it=be:xe>=1e3&&xe<=1999&&(it=Xe)),it}a(di,"_getNotificationAction")})}return a(We,"HttpManager"),We.__ieDyn=1,We}();function Fn(We,ut){for(var wt=[],ft=2;ft<arguments.length;ft++)wt[ft-2]=arguments[ft];return setTimeout(We,ut,wt)}a(Fn,"defaultSetTimeout");function Yn(We){clearTimeout(We)}a(Yn,"defaultClearTimeout");function Ai(We,ut){return{set:We||Fn,clear:ut||Yn}}a(Ai,"createTimeoutWrapper");var Ri=.25,Zi=500,da=20,gt=6,wi=2,Xi=4,Sn=2,Ei=1,ui="eventsDiscarded",qn="overrideInstrumentationKey",li="maxEventRetryAttempts",Ki="maxUnloadEventRetryAttempts",Mi="addUnloadCb",ci=function(We){(0,v.ne)(ut,We);function ut(){var wt=We.call(this)||this;wt.identifier="PostChannel",wt.priority=1011,wt.version="3.2.10";var ft,kt=!1,Zt=[],St=null,nr=!1,Wt=0,vr=500,Rr=0,Jr=1e4,Yr={},rn=Oe,kr=null,Bt=null,ir=0,_r=0,wr,K,X={},qe,dt,zt=-1,$t,hr=!0,pr=!1,ar=gt,dr=wi,lr,Qt;return Y(ut,wt,function(xt,Ir){ai(),xt._getDbgPlgTargets=function(){return[K]},xt.initialize=function(Ce,Je,Qe){(0,ee.Lm)(Je,function(){return"PostChannel:initialize"},function(){var yt=Je;Ir.initialize(Ce,Je,Qe);try{var Ht=!!Je[Mi];lr=(0,ae.jU)((0,ye.J)(xt.identifier),Je.evtNamespace&&Je.evtNamespace());var tr=xt._getTelCtx();Ce.extensionConfig[xt.identifier]=Ce.extensionConfig[xt.identifier]||{},ft=tr.getExtCfg(xt.identifier),Qt=Ai(ft.setTimeoutOverride,ft.clearTimeoutOverride),hr=!ft.disableOptimizeObj&&(0,ke.mJ)(),Fr(yt),ft.eventsLimitInMem>0&&(Jr=ft.eventsLimitInMem),ft.immediateEventLimit>0&&(vr=ft.immediateEventLimit),ft.autoFlushEventsLimit>0&&(qe=ft.autoFlushEventsLimit),(0,Ue.hj)(ft[li])&&(ar=ft[li]),(0,Ue.hj)(ft[Ki])&&(dr=ft[Ki]),ur(),ft.httpXHROverride&&ft.httpXHROverride.sendPOST&&(wr=ft.httpXHROverride),(0,ke.Sn)(Ce.anonCookieName)&&K.addQueryStringParameter("anoncknm",Ce.anonCookieName),K.sendHook=ft.payloadPreprocessor,K.sendListener=ft.payloadListener;var Sr=ft.overrideEndpointUrl?ft.overrideEndpointUrl:Ce.endpointUrl;xt._notificationManager=Je.getNotifyMgr(),K.initialize(Sr,xt.core,xt,wr,ft);var Cr=Ce.disablePageUnloadEvents||[];(0,ae.c9)(Ur,Cr,lr),(0,ae.TJ)(Ur,Cr,lr),(0,ae.nD)(Zr,Ce.disablePageShowEvents,lr)}catch(Gr){throw xt.setInitialized(!1),Gr}},function(){return{coreConfig:Ce,core:Je,extensions:Qe}})},xt.processTelemetry=function(Ce,Je){(0,ke.if)(Ce,xt.identifier),Je=xt._getTelCtx(Je);var Qe=Je.getExtCfg(xt.identifier),yt=!!ft.disableTelemetry;Qe&&(yt=yt||!!Qe.disableTelemetry);var Ht=Ce;!yt&&!kt&&(ft[qn]&&(Ht.iKey=ft[qn]),Qe&&Qe[qn]&&(Ht.iKey=Qe[qn]),Xt(Ht,!0),pr?yi(2,2):Nr()),xt.processNext(Ht,Je)},xt._doTeardown=function(Ce,Je){yi(2,2),kt=!0,K.teardown(),(0,ae.JA)(null,lr),(0,ae.C9)(null,lr),(0,ae.Yl)(null,lr),ai()};function Fr(Ce){var Je=Ce.getWParam;Ce.getWParam=function(){var Qe=0;return ft.ignoreMc1Ms0CookieProcessing&&(Qe=Qe|2),Qe|Je()}}a(Fr,"_hookWParam");function Ur(Ce){var Je=Ce||(0,pe.Jj)().event;Je.type!=="beforeunload"&&(pr=!0,K.setUnloading(pr)),yi(2,2)}a(Ur,"_handleUnloadEvents");function Zr(Ce){pr=!1,K.setUnloading(pr)}a(Zr,"_handleShowEvents");function Xt(Ce,Je){if(Ce.sendAttempt||(Ce.sendAttempt=0),Ce.latency||(Ce.latency=1),Ce.ext&&Ce.ext[$n]&&delete Ce.ext[$n],Ce.ext&&Ce.ext[In]&&Ce.ext[In].id&&delete Ce.ext[In].id,hr&&(ke.if,Ce.ext=(0,Ue.Ax)(Ce.ext),Ce.baseData&&(Ce.baseData=(0,Ue.Ax)(Ce.baseData)),Ce.data&&(Ce.data=(0,Ue.Ax)(Ce.data))),Ce.sync){if(ir||nr)Ce.latency=3,Ce.sync=!1;else if(K){hr&&(Ce=(0,Ue.Ax)(Ce)),K.sendSynchronousBatch(on.create(Ce.iKey,[Ce]),Ce.sync===!0?1:Ce.sync,3);return}}var Qe=Ce.latency,yt=Rr,Ht=Jr;Qe===4&&(yt=Wt,Ht=vr);var tr=!1;if(yt<Ht)tr=!Si(Ce,Je);else{var Sr=1,Cr=da;Qe===4&&(Sr=4,Cr=1),tr=!0,bi(Ce.iKey,Ce.latency,Sr,Cr)&&(tr=!Si(Ce,Je))}tr&&di(ui,[Ce],Ae.h.QueueFull)}a(Xt,"_addEventToQueues"),xt.setEventQueueLimits=function(Ce,Je){Jr=Ce>0?Ce:1e4,qe=Je>0?Je:0,ur();var Qe=Rr>Ce;if(!Qe&&dt>0)for(var yt=1;!Qe&&yt<=3;yt++){var Ht=X[yt];Ht&&Ht.batches&&(0,Ue.tO)(Ht.batches,function(tr){tr&&tr.count()>=dt&&(Qe=!0)})}dn(!0,Qe)},xt.pause=function(){Mn(),nr=!0,K.pause()},xt.resume=function(){nr=!1,K.resume(),Nr()},xt.addResponseHandler=function(Ce){K._responseHandlers.push(Ce)},xt._loadTransmitProfiles=function(Ce){Ui(),(0,Ue.rW)(Ce,function(Je,Qe){var yt=Qe.length;if(yt>=2){var Ht=yt>2?Qe[2]:0;if(Qe.splice(0,yt-2),Qe[1]<0&&(Qe[0]=-1),Qe[1]>0&&Qe[0]>0){var tr=Qe[0]/Qe[1];Qe[0]=Math.ceil(tr)*Qe[1]}Ht>=0&&Qe[1]>=0&&Ht>Qe[1]&&(Ht=Qe[1]),Qe.push(Ht),Yr[Je]=Qe}})},xt.flush=function(Ce,Je,Qe){if(Ce===void 0&&(Ce=!0),!nr)if(Qe=Qe||1,Ce)St==null?(Mn(),kn(1,0,Qe),St=Ln(function(){St=null,si(Je,Qe)},0)):Zt.push(Je);else{var yt=Mn();Nn(1,1,Qe),Je!=null&&Je(),yt&&Nr()}},xt.setMsaAuthTicket=function(Ce){K.addHeader(mn,Ce)},xt.hasEvents=_n,xt._setTransmitProfile=function(Ce){rn!==Ce&&Yr[Ce]!==void 0&&(Mn(),rn=Ce,Nr())};function Nn(Ce,Je,Qe){var yt=kn(Ce,Je,Qe);return K.sendQueuedRequests(Je,Qe),yt}a(Nn,"_sendEventsForLatencyAndAbove");function _n(){return Rr>0}a(_n,"_hasEvents");function Nr(){if(zt>=0&&kn(zt,0,$t)&&K.sendQueuedRequests(0,$t),Wt>0&&!Bt&&!nr){var Ce=Yr[rn][2];Ce>=0&&(Bt=Ln(function(){Bt=null,Nn(4,0,1),Nr()},Ce))}var Je=Yr[rn][1];!kr&&!St&&Je>=0&&!nr&&(_n()?kr=Ln(function(){kr=null,Nn(_r===0?3:1,0,1),_r++,_r%=2,Nr()},Je):_r=0)}a(Nr,"_scheduleTimer"),xt._backOffTransmission=function(){ir<Xi&&(ir++,Mn(),Nr())},xt._clearBackOff=function(){ir&&(ir=0,Mn(),Nr())};function ai(){ft=null,kt=!1,Zt=[],St=null,nr=!1,Wt=0,vr=500,Rr=0,Jr=1e4,Yr={},rn=Oe,kr=null,Bt=null,ir=0,_r=0,wr=null,X={},qe=void 0,dt=0,zt=-1,$t=null,hr=!0,pr=!1,ar=gt,dr=wi,lr=null,Qt=Ai(),K=new un(Zi,Sn,Ei,{requeue:zn,send:it,sent:ct,drop:Et,rspFail:Nt,oth:Ft},Qt),Vn(),fi(),ur()}a(ai,"_initDefaults");function Ln(Ce,Je){Je===0&&ir&&(Je=1);var Qe=1e3;return ir&&(Qe=Rt(ir-1)),Qt.set(Ce,Je*Qe)}a(Ln,"_createTimer");function Mn(){return kr!==null?(Qt.clear(kr),kr=null,_r=0,!0):!1}a(Mn,"_clearScheduledTimer");function yi(Ce,Je){Mn(),St&&(Qt.clear(St),St=null),nr||Nn(1,Ce,Je)}a(yi,"_releaseAllQueues");function fi(){X[4]={batches:[],iKeyMap:{}},X[3]={batches:[],iKeyMap:{}},X[2]={batches:[],iKeyMap:{}},X[1]={batches:[],iKeyMap:{}}}a(fi,"_clearQueues");function hi(Ce,Je,Qe){var yt=X[Je];yt||(Je=1,yt=X[Je]);var Ht=yt.iKeyMap[Ce];return!Ht&&Qe&&(Ht=on.create(Ce),yt.batches.push(Ht),yt.iKeyMap[Ce]=Ht),Ht}a(hi,"_getEventBatch");function dn(Ce,Je){K.canSendRequest()&&!ir&&(qe>0&&Rr>qe&&(Je=!0),Je&&St==null&&xt.flush(Ce,null,20))}a(dn,"_performAutoFlush");function Si(Ce,Je){hr&&(Ce=(0,Ue.Ax)(Ce));var Qe=Ce.latency,yt=hi(Ce.iKey,Qe,!0);return yt.addEvent(Ce)?(Qe!==4?(Rr++,Je&&Ce.sendAttempt===0&&dn(!Ce.sync,dt>0&&yt.count()>=dt)):Wt++,!0):!1}a(Si,"_addEventToProperQueue");function bi(Ce,Je,Qe,yt){for(;Qe<=Je;){var Ht=hi(Ce,Je,!0);if(Ht&&Ht.count()>0){var tr=Ht.split(0,yt),Sr=tr.count();if(Sr>0)return Qe===4?Wt-=Sr:Rr-=Sr,xe(ui,[tr],Ae.h.QueueFull),!0}Qe++}return oi(),!1}a(bi,"_dropEventWithLatencyOrLess");function oi(){for(var Ce=0,Je=0,Qe=a(function(Ht){var tr=X[Ht];tr&&tr.batches&&(0,Ue.tO)(tr.batches,function(Sr){Ht===4?Ce+=Sr.count():Je+=Sr.count()})},"_loop_1"),yt=1;yt<=4;yt++)Qe(yt);Rr=Je,Wt=Ce}a(oi,"_resetQueueCounts");function kn(Ce,Je,Qe){var yt=!1,Ht=Je===0;return!Ht||K.canSendRequest()?(0,ee.Lm)(xt.core,function(){return"PostChannel._queueBatches"},function(){for(var tr=[],Sr=4;Sr>=Ce;){var Cr=X[Sr];Cr&&Cr.batches&&Cr.batches.length>0&&((0,Ue.tO)(Cr.batches,function(Gr){K.addBatch(Gr)?yt=yt||Gr&&Gr.count()>0:tr=tr.concat(Gr.events()),Sr===4?Wt-=Gr.count():Rr-=Gr.count()}),Cr.batches=[],Cr.iKeyMap={}),Sr--}tr.length>0&&di(ui,tr,Ae.h.KillSwitch),yt&&zt>=Ce&&(zt=-1,$t=0)},function(){return{latency:Ce,sendType:Je,sendReason:Qe}},!Ht):(zt=zt>=0?Math.min(zt,Ce):Ce,$t=Math.max($t,Qe)),yt}a(kn,"_queueBatches");function si(Ce,Je){Nn(1,0,Je),oi(),ki(function(){Ce&&Ce(),Zt.length>0?St=Ln(function(){St=null,si(Zt.shift(),Je)},0):(St=null,Nr())})}a(si,"_flushImpl");function ki(Ce){K.isCompletelyIdle()?Ce():St=Ln(function(){St=null,ki(Ce)},Ri)}a(ki,"_waitForIdleManager");function Ui(){Mn(),Vn(),rn=Oe,Nr()}a(Ui,"_resetTransmitProfiles");function Vn(){Yr={},Yr[Oe]=[2,1,0],Yr[$e]=[6,3,0],Yr[pt]=[18,9,0]}a(Vn,"_initializeProfiles");function zn(Ce,Je){var Qe=[],yt=ar;pr&&(yt=dr),(0,Ue.tO)(Ce,function(Ht){Ht&&Ht.count()>0&&(0,Ue.tO)(Ht.events(),function(tr){tr&&(tr.sync&&(tr.latency=4,tr.sync=!1),tr.sendAttempt<yt?((0,ke.if)(tr,xt.identifier),Xt(tr,!1)):Qe.push(tr))})}),Qe.length>0&&di(ui,Qe,Ae.h.NonRetryableStatus),pr&&yi(2,2)}a(zn,"_requeueEvents");function gn(Ce,Je){var Qe=xt._notificationManager||{},yt=Qe[Ce];if(yt)try{yt.apply(Qe,Je)}catch(Ht){(0,Me.kP)(xt.diagLog(),1,74,Ce+" notification failed: "+Ht)}}a(gn,"_callNotification");function di(Ce,Je){for(var Qe=[],yt=2;yt<arguments.length;yt++)Qe[yt-2]=arguments[yt];Je&&Je.length>0&&gn(Ce,[Je].concat(Qe))}a(di,"_notifyEvents");function xe(Ce,Je){for(var Qe=[],yt=2;yt<arguments.length;yt++)Qe[yt-2]=arguments[yt];Je&&Je.length>0&&(0,Ue.tO)(Je,function(Ht){Ht&&Ht.count()>0&&gn(Ce,[Ht.events()].concat(Qe))})}a(xe,"_notifyBatchEvents");function it(Ce,Je,Qe){Ce&&Ce.length>0&&gn("eventsSendRequest",[Je>=1e3&&Je<=1999?Je-1e3:0,Qe!==!0])}a(it,"_sendingEvent");function ct(Ce,Je){xe("eventsSent",Ce,Je),Nr()}a(ct,"_eventsSentEvent");function Et(Ce,Je){xe(ui,Ce,Je>=8e3&&Je<=8999?Je-8e3:Ae.h.Unknown)}a(Et,"_eventsDropped");function Nt(Ce){xe(ui,Ce,Ae.h.NonRetryableStatus),Nr()}a(Nt,"_eventsResponseFail");function Ft(Ce,Je){xe(ui,Ce,Ae.h.Unknown),Nr()}a(Ft,"_otherEvent");function ur(){!ft||!ft.disableAutoBatchFlushLimit?dt=Math.max(Zi*(Sn+1),Jr/6):dt=0}a(ur,"_setAutoLimits"),(0,Ue.l_)(xt,"_setTimeoutOverride",function(){return Qt.set},function(Ce){Qt=Ai(Ce,Qt.clear)}),(0,Ue.l_)(xt,"_clearTimeoutOverride",function(){return Qt.clear},function(Ce){Qt=Ai(Qt.set,Ce)})}),wt}return a(ut,"PostChannel"),ut.__ieDyn=1,ut}(Ze.i);const Gi=ci},4873:(fe,l,E)=>{"use strict";E.d(l,{By:()=>p,cc:()=>_});var v=E(6708);function p(I){var D={};return(0,v.rW)(I,function(h,S){D[h]=S,D[S]=h}),(0,v._A)(D)}a(p,"createEnumStyle");function w(I){var D={};return objForEachKey(I,function(h,S){D[h]=h,D[S]=h}),deepFreeze(D)}a(w,"createEnumMap");function _(I){var D={};return(0,v.rW)(I,function(h,S){D[h]=S[1],D[S[0]]=S[1]}),(0,v._A)(D)}a(_,"createValueMap")},5928:(fe,l,E)=>{"use strict";E.d(l,{h:()=>p});var v=E(4873),p=(0,v.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(fe,l,E)=>{"use strict";E.d(l,{X:()=>W,v:()=>U});var v=E(4873),p,w="Failed",_=w+"MonitorAjax",I="Track",D="Start",h="Stop",S="Event",x="AuthContext",y="Exception",b="Local",B="Session",F="Storage",V="Browser",G="Cannot",le="Buffer",M="InstrumentationKey",W=(0,v.By)({CRITICAL:1,WARNING:2}),U=(0,v.By)((p={},p[V+"DoesNotSupport"+b+F]=0,p[V+G+"Read"+b+F]=1,p[V+G+"Read"+B+F]=2,p[V+G+"Write"+b+F]=3,p[V+G+"Write"+B+F]=4,p[V+w+"RemovalFrom"+b+F]=5,p[V+w+"RemovalFrom"+B+F]=6,p[G+"SendEmptyTelemetry"]=7,p.ClientPerformanceMathError=8,p["ErrorParsingAI"+B+"Cookie"]=9,p.ErrorPVCalc=10,p[y+"WhileLoggingError"]=11,p[w+"AddingTelemetryTo"+le]=12,p[_+"Abort"]=13,p[_+"Dur"]=14,p[_+"Open"]=15,p[_+"RSC"]=16,p[_+"Send"]=17,p[_+"GetCorrelationHeader"]=18,p[w+"ToAddHandlerForOnBeforeUnload"]=19,p[w+"ToSendQueuedTelemetry"]=20,p[w+"ToReportDataLoss"]=21,p["Flush"+w]=22,p.MessageLimitPerPVExceeded=23,p.MissingRequiredFieldSpecification=24,p.NavigationTimingNotSupported=25,p.OnError=26,p[B+"RenewalDateIsZero"]=27,p.SenderNotInitialized=28,p[D+I+S+w]=29,p[h+I+S+w]=30,p[D+I+w]=31,p[h+I+w]=32,p.TelemetrySampledAndNotSent=33,p[I+S+w]=34,p[I+y+w]=35,p[I+"Metric"+w]=36,p[I+"PV"+w]=37,p[I+"PV"+w+"Calc"]=38,p[I+"Trace"+w]=39,p["Transmission"+w]=40,p[w+"ToSet"+F+le]=41,p[w+"ToRestore"+F+le]=42,p.InvalidBackendResponse=43,p[w+"ToFixDepricatedValues"]=44,p.InvalidDurationValue=45,p.TelemetryEnvelopeInvalid=46,p.CreateEnvelopeError=47,p[G+"SerializeObject"]=48,p[G+"SerializeObjectNonSerializable"]=49,p.CircularReferenceDetected=50,p["Clear"+x+w]=51,p[y+"Truncated"]=52,p.IllegalCharsInName=53,p.ItemNotInArray=54,p.MaxAjaxPerPVExceeded=55,p.MessageTruncated=56,p.NameTooLong=57,p.SampleRateOutOfRange=58,p["Set"+x+w]=59,p["Set"+x+w+"AccountName"]=60,p.StringValueTooLong=61,p.StartCalledMoreThanOnce=62,p.StopCalledWithoutStart=63,p["TelemetryInitializer"+w]=64,p.TrackArgumentsNotSpecified=65,p.UrlTooLong=66,p[B+F+le+"Full"]=67,p[G+"AccessCookie"]=68,p.IdTooLong=69,p.InvalidEvent=70,p[_+"SetRequestHeader"]=71,p["Send"+V+"InfoOnUserInit"]=72,p["Plugin"+y]=73,p["Notification"+y]=74,p.SnippetScriptLoadFailure=99,p["Invalid"+M]=100,p[G+"ParseAiBlobValue"]=101,p.InvalidContentBlob=102,p[I+"PageAction"+S+w]=103,p[w+"AddingCustomDefinedRequestContext"]=104,p["InMemory"+F+le+"Full"]=105,p[M+"Deprecation"]=106,p))},5121:(fe,l,E)=>{"use strict";E.d(l,{F:()=>y});var v=E(1088),p=E(1679),w=E(8096),_=E(6900),I=E(5018),D=E(6708),h=E(6041),S=E(1880),x=E(9288),y=function(b){(0,v.ne)(B,b);function B(){var F=b.call(this)||this;return(0,p.Z)(B,F,function(V,G){V[w.VL]=function(W,U,A,L){G[w.VL](W,U,A||new I.AQ(W),L||new S.f(W))},V.track=function(W){(0,x.Lm)(V[h.kl](),function(){return"AppInsightsCore:track"},function(){W===null&&(M(W),(0,D._y)("Invalid telemetry item")),le(W),G.track(W)},function(){return{item:W}},!W.sync)};function le(W){(0,D.le)(W[w.I])&&(M(W),(0,D._y)("telemetry name required"))}a(le,"_validateTelemetryItem");function M(W){var U=V[w.tb]();U&&U[h.$F]([W],2)}a(M,"_notifyInvalidEvent")}),F}return a(B,"AppInsightsCore"),B.__ieDyn=1,B}(_.A)},6900:(fe,l,E)=>{"use strict";E.d(l,{A:()=>_e});var v=E(1088),p=E(1679),w=E(2091),_=E(8096),I=E(6708),D=E(6041),h=E(1589),S=E(3833),x=500,y="Channel has invalid priority - ";function b(he,Q,ue){Q&&(0,I.kJ)(Q)&&Q[_.R5]>0&&(Q=Q.sort(function(De,Fe){return De[D.yi]-Fe[D.yi]}),(0,I.tO)(Q,function(De){De[D.yi]<x&&(0,I._y)(y+De[_.pZ])}),he[_.MW]({queue:(0,I.FL)(Q),chain:(0,h.jV)(Q,ue[_.TC],ue)}))}a(b,"_addChannelQueue");function B(he,Q){function ue(){return(0,h.CD)(null,Q[_.TC],Q,null)}a(ue,"_getTelCtx");function De(Y,ee,ae,ye){var ke=Y?Y[_.R5]+1:1;function Ue(){ke--,ke===0&&(ye&&ye(),ye=null)}a(Ue,"_runChainOnComplete"),ke>0&&(0,I.tO)(Y,function(pe){if(pe&&pe.queue[_.R5]>0){var Ae=pe.chain,Me=ee[_.zV](Ae);Me[_.Fc](Ue),ae(Me)}else ke--}),Ue()}a(De,"_processChannelQueue");function Fe(Y,ee){var ae=ee||{reason:0};return De(he,Y,function(ye){ye[_.uL](ae)},function(){Y[_.uL](ae)}),!0}a(Fe,"_doUpdate");function ne(Y,ee){var ae=ee||{reason:0,isAsync:!1};return De(he,Y,function(ye){ye[_.uL](ae)},function(){Y[_.uL](ae),et=!1}),!0}a(ne,"_doTeardown");function Ge(Y){var ee=null;return he&&he[_.R5]>0&&(0,I.tO)(he,function(ae){if(ae&&ae.queue[_.R5]>0&&((0,I.tO)(ae.queue,function(ye){if(ye[_.pZ]===Y)return ee=ye,-1}),ee))return-1}),ee}a(Ge,"_getChannel");var et=!1,st={identifier:"ChannelControllerPlugin",priority:x,initialize:function(Y,ee,ae,ye){et=!0,(0,I.tO)(he,function(ke){ke&&ke.queue[_.R5]>0&&(0,S.bP)((0,h.CD)(ke.chain,Y,ee),ae)})},isInitialized:function(){return et},processTelemetry:function(Y,ee){De(he,ee||ue(),function(ae){ae[_.uL](Y)},function(){ee[_.uL](Y)})},update:Fe,pause:function(){De(he,ue(),function(Y){Y.iterate(function(ee){ee.pause&&ee.pause()})},null)},resume:function(){De(he,ue(),function(Y){Y.iterate(function(ee){ee.resume&&ee.resume()})},null)},teardown:ne,getChannel:Ge,flush:function(Y,ee,ae,ye){var ke=1,Ue=!1,pe=null;ye=ye||5e3;function Ae(){ke--,Ue&&ke===0&&(pe&&(clearTimeout(pe),pe=null),ee&&ee(Ue),ee=null)}return a(Ae,"doCallback"),De(he,ue(),function(Me){Me.iterate(function(Ze){if(Ze[_.kL]){ke++;var Oe=!1;Ze[_.kL](Y,function(){Oe=!0,Ae()},ae)||Oe||(Y&&pe==null?pe=setTimeout(function(){pe=null,Ae()},ye):Ae())}})},function(){Ue=!0,Ae()}),!0},_setQueue:function(Y){he=Y}};return st}a(B,"createChannelControllerPlugin");function F(he,Q,ue){var De=[];if(he&&(0,I.tO)(he,function(ne){return b(De,ne,ue)}),Q){var Fe=[];(0,I.tO)(Q,function(ne){ne[D.yi]>x&&Fe[_.MW](ne)}),b(De,Fe,ue)}return De}a(F,"createChannelQueues");var V=E(3242),G=E(5883),le=E(7158),M=E(5018),W=E(9288),U=E(4063),A=E(7630),L=function(he){(0,v.ne)(Q,he);function Q(){var ue=he.call(this)||this;ue.identifier="TelemetryInitializerPlugin",ue.priority=199;var De,Fe;ne(),(0,p.Z)(Q,ue,function(Ge,et){Ge.addTelemetryInitializer=function(st){var Y={id:De++,fn:st};Fe[_.MW](Y);var ee={remove:function(){(0,I.tO)(Fe,function(ae,ye){if(ae.id===Y.id)return Fe[_.cb](ye,1),-1})}};return ee},Ge[D.hL]=function(st,Y){for(var ee=!1,ae=Fe[_.R5],ye=0;ye<ae;++ye){var ke=Fe[ye];if(ke)try{if(ke.fn[_.ZV](null,[st])===!1){ee=!0;break}}catch(Ue){(0,M.kP)(Y[_.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,I.jj)(Ue),{exception:(0,A.eU)(Ue)},!0)}}ee||Ge[_.uL](st,Y)},Ge[_.F3]=function(){ne()}});function ne(){De=0,Fe=[]}return a(ne,"_initDefaults"),ue}return a(Q,"TelemetryInitializerPlugin"),Q.__ieDyn=1,Q}(U.i),$=E(310),te="Plugins must provide initialize method",Z="_notificationManager",re="SDK is still unloading...",ce="SDK is not initialized",Se={loggingLevelConsole:1};function ie(he,Q){return new W.Jk(Q)}a(ie,"_createPerfManager");function me(he,Q,ue){var De,Fe=[],ne={};return(0,I.tO)(ue,function(Ge){((0,I.le)(Ge)||(0,I.le)(Ge[_.VL]))&&(0,I._y)(te);var et=Ge[D.yi],st=Ge[_.pZ];Ge&&et&&((0,I.le)(ne[et])?ne[et]=st:(0,M.jV)(he,"Two extensions have same priority #"+et+" - "+ne[et]+", "+st)),(!et||et<Q)&&Fe[_.MW](Ge)}),De={all:ue},De[D.oV]=Fe,De}a(me,"_validateExtensions");function j(he,Q){var ue=!1;return(0,I.tO)(Q,function(De){if(De===he)return ue=!0,-1}),ue}a(j,"_isPluginPresent");function Ve(){var he;return(0,w.pu)((he={},he[_.g]=function(Q){},he[_.n7]=function(Q){},he[D.uC]=function(Q){},he[D.$F]=function(Q,ue){},he[D.f_]=function(Q,ue){},he))}a(Ve,"_createDummyNotificationManager");var _e=function(){function he(){var Q,ue,De,Fe,ne,Ge,et,st,Y,ee,ae,ye,ke,Ue,pe,Ae,Me,Ze,Oe,$e,pt=0;(0,p.Z)(he,this,function(ot){Re(),ot[_.yl]=function(){return ue},ot[_.VL]=function(ve,ht,It,Pt){Ue&&(0,I._y)(re),ot[_.yl]()&&(0,I._y)("Core should not be initialized more than once"),Q=ve||{},ot[_.TC]=Q,(0,I.le)(ve[_.p$])&&(0,I._y)("Please provide instrumentation key"),Fe=Pt,ot[Z]=Pt,d(),m(),J(),It&&(ot[_.eZ]=It);var Ot=(0,I.qK)(Q,D.js,[]);Y=[],Y[_.MW].apply(Y,(0,v.$h)((0,v.$h)([],ht,!1),Ot,!1)),ye=(0,I.qK)(Q,D.Z,[]),be(null),(!ke||ke[_.R5]===0)&&(0,I._y)("No "+D.Z+" available"),ue=!0,ot.releaseQueue()},ot.getTransmissionControls=function(){var ve=[];return ke&&(0,I.tO)(ke,function(ht){ve[_.MW](ht.queue)}),(0,I.FL)(ve)},ot.track=function(ve){ve.iKey=ve.iKey||Q[_.p$],ve[_.Z_]=ve[_.Z_]||(0,I.Y6)(new Date),ve.ver=ve.ver||"4.0",!Ue&&ot[_.yl]()?O()[_.uL](ve):De[_.MW](ve)},ot[_.SD]=O,ot[_.tb]=function(){return Fe||(Fe=Ve(),ot[Z]=Fe),Fe},ot[_.g]=function(ve){Fe&&Fe[_.g](ve)},ot[_.n7]=function(ve){Fe&&Fe[_.n7](ve)},ot.getCookieMgr=function(){return et||(et=(0,V.Nz)(Q,ot[_.eZ])),et},ot.setCookieMgr=function(ve){et=ve},ot[D.kl]=function(){if(!ne&&!Ge&&(0,I.v4)(Q.enablePerfMgr)){var ve=(0,I.v4)(Q[D.DN]);(0,I.mf)(ve)&&(Ge=ve(ot,ot[_.tb]()))}return ne||Ge||(0,W.j5)()},ot.setPerfMgr=function(ve){ne=ve},ot.eventCnt=function(){return De[_.R5]},ot.releaseQueue=function(){if(ue&&De[_.R5]>0){var ve=De;De=[],(0,I.tO)(ve,function(ht){O()[_.uL](ht)})}},ot.pollInternalLogs=function(ve){Ae=ve||null;var ht=(0,I.v4)(Q.diagnosticLogInterval);return(!ht||!(ht>0))&&(ht=1e4),pt&&clearInterval(pt),pt=setInterval(function(){br()},ht),pt},ot[_.LS]=function(){pt&&(clearInterval(pt),pt=0,br())},(0,I.Vb)(ot,function(){return pe},["addTelemetryInitializer"]),ot.unload=function(ve,ht,It){var Pt;ve===void 0&&(ve=!0),ue||(0,I._y)(ce),Ue&&(0,I._y)(re);var Ot=(Pt={reason:50},Pt[_.d]=ve,Pt.flushComplete=!1,Pt),Vt=(0,h.Bt)(Jt(),ot);Vt[_.Fc](function(){Re(),ht&&ht(Ot)},ot);function Hr(mn){Ot.flushComplete=mn,Ue=!0,Ze.run(Vt,Ot),ot[_.LS](),Vt[_.uL](Ot)}a(Hr,"_doUnload"),P(ve,Hr,6,It)||Hr(!1)},ot[_.TO]=Xe,ot.addPlugin=function(ve,ht,It,Pt){if(!ve){Pt&&Pt(!1),Ne(te);return}var Ot=Xe(ve[_.pZ]);if(Ot&&!ht){Pt&&Pt(!1),Ne("Plugin ["+ve[_.pZ]+"] is already loaded!");return}var Vt={reason:16};function Hr(Vr){Y[_.MW](ve),Vt.added=[ve],be(Vt),Pt&&Pt(!0)}if(a(Hr,"_addPlugin"),Ot){var mn=[Ot.plugin],an={reason:2,isAsync:!!It};yr(mn,an,function(Vr){Vr?(Vt.removed=mn,Vt.reason|=32,Hr(!0)):Pt&&Pt(!1)})}else Hr(!1)},ot.evtNamespace=function(){return Me},ot[_.kL]=P,ot.getTraceCtx=function(ve){return $e||($e=(0,S.Yn)()),$e},ot.setTraceCtx=function(ve){$e=ve||null},(0,I.Oi)(ot,"addUnloadCb",function(){return Ze},"add");function Re(){ue=!1,Q=(0,I.mm)(!0,{},Se),ot[_.TC]=Q,ot[_.eZ]=new M.AQ(Q),ot[_.iC]=[],pe=new L,De=[],Fe=null,ne=null,Ge=null,et=null,st=null,ee=null,Y=[],ae=null,ye=null,ke=null,Ue=!1,Ae=null,Me=(0,G.J)("AIBaseCore",!0),Ze=(0,$.Y)(),$e=null}a(Re,"_initDefaults");function O(){return(0,h.CD)(Jt(),Q,ot)}a(O,"_createTelCtx");function be(ve){var ht=me(ot[_.eZ],x,Y);ee=ht[D.oV],st=null;var It=ht.all;if(ke=(0,I.FL)(F(ye,It,ot)),ae){var Pt=(0,I.UA)(It,ae);Pt!==-1&&It[_.cb](Pt,1),Pt=(0,I.UA)(ee,ae),Pt!==-1&&ee[_.cb](Pt,1),ae._setQueue(ke)}else ae=B(ke,ot);It[_.MW](ae),ee[_.MW](ae),ot[_.iC]=(0,S.AA)(It),ae[_.VL](Q,ot,It),(0,S.bP)(O(),It),ot[_.iC]=(0,I.FL)((0,S.AA)(ee||[])).slice(),ve&&de(ve)}a(be,"_initPluginChain");function Xe(ve){var ht,It=null,Pt=null;return(0,I.tO)(ot[_.iC],function(Ot){if(Ot[_.pZ]===ve&&Ot!==ae&&Ot!==pe)return Pt=Ot,-1}),!Pt&&ae&&(Pt=ae.getChannel(ve)),Pt&&(It=(ht={plugin:Pt},ht[_.$h]=function(Ot){(0,S.OY)(Pt)[D.mE]=!Ot},ht.isEnabled=function(){var Ot=(0,S.OY)(Pt);return!Ot[_.fi]&&!Ot[D.mE]},ht.remove=function(Ot,Vt){var Hr;Ot===void 0&&(Ot=!0);var mn=[Pt],an=(Hr={reason:1},Hr[_.d]=Ot,Hr);yr(mn,an,function(Vr){Vr&&be({reason:32,removed:mn}),Vt&&Vt(Vr)})},ht)),It}a(Xe,"_getPlugin");function Jt(){if(!st){var ve=(ee||[]).slice();(0,I.UA)(ve,pe)===-1&&ve[_.MW](pe),st=(0,h.jV)((0,S.AA)(ve),Q,ot)}return st}a(Jt,"_getPluginChain");function yr(ve,ht,It){if(ve&&ve[_.R5]>0){var Pt=(0,h.jV)(ve,Q,ot),Ot=(0,h.Bt)(Pt,ot);Ot[_.Fc](function(){var Vt=!1,Hr=[];(0,I.tO)(Y,function(an,Vr){j(an,ve)?Vt=!0:Hr[_.MW](an)}),Y=Hr;var mn=[];ye&&((0,I.tO)(ye,function(an,Vr){var On=[];(0,I.tO)(an,function(yn){j(yn,ve)?Vt=!0:On[_.MW](yn)}),mn[_.MW](On)}),ye=mn),It&&It(Vt)}),Ot[_.uL](ht)}else It(!1)}a(yr,"_removePlugins");function br(){var ve=ot[_.eZ]?ot[_.eZ].queue:[];ve&&((0,I.tO)(ve,function(ht){var It,Pt=(It={},It[_.I]=Ae||"InternalMessageId: "+ht[_.Gc],It.iKey=(0,I.v4)(Q[_.p$]),It.time=(0,I.Y6)(new Date),It.baseType=M.lQ.dataType,It.baseData={message:ht[_.gU]},It);ot.track(Pt)}),ve[_.R5]=0)}a(br,"_flushInternalLogs");function P(ve,ht,It,Pt){return ae?ae[_.kL](ve,ht,It||6,Pt):(ht&&ht(!1),!0)}a(P,"_flushChannels");function d(){var ve=(0,I.v4)(Q.disableDbgExt);ve===!0&&Oe&&(Fe[_.n7](Oe),Oe=null),Fe&&!Oe&&ve!==!0&&(Oe=(0,le.p)(Q),Fe[_.g](Oe))}a(d,"_initDebugListener");function m(){var ve=(0,I.v4)(Q.enablePerfMgr);!ve&&Ge&&(Ge=null),ve&&(0,I.qK)(Q,D.DN,ie)}a(m,"_initPerfManager");function J(){var ve=(0,I.qK)(Q,D.Zh,{});ve.NotificationManager=Fe}a(J,"_initExtConfig");function de(ve){var ht=(0,h.xy)(Jt(),ot);(!ot._updateHook||ot._updateHook(ht,ve)!==!0)&&ht[_.uL](ve)}a(de,"_doUpdate");function Ne(ve){var ht=ot[_.eZ];ht?(0,M.kP)(ht,2,73,ve):(0,I._y)(ve)}a(Ne,"_logOrThrowError")})}return a(he,"BaseCore"),he.__ieDyn=1,he}()},4063:(fe,l,E)=>{"use strict";E.d(l,{i:()=>S});var v=E(1679),p=E(8096),w=E(6708),_=E(6041),I=E(1589),D=E(310),h="getPlugin",S=function(){function x(){var y=this,b,B,F,V,G;W(),(0,v.Z)(x,y,function(U){U[p.VL]=function(A,L,$,te){M(A,L,te),b=!0},U[p.fi]=function(A,L){var $,te=U[_.oV];if(!te||A&&te!==A[_.oV]())return;var Z,re=!1,ce=A||(0,I.Bt)(null,te,F&&F[h]?F[h]():F),Se=L||($={reason:0},$[p.d]=!1,$);function ie(){if(!re){re=!0,V.run(ce,L);var me=G;G=[],(0,w.tO)(me,function(j){j.rm()}),Z===!0&&ce[p.uL](Se),W()}}return a(ie,"_unloadCallback"),!U[p.F3]||U[p.F3](ce,Se,ie)!==!0?ie():Z=!0,Z},U[p.Tu]=function(A,L){var $=U[_.oV];if(!$||A&&$!==A[_.oV]())return;var te,Z=!1,re=A||(0,I.xy)(null,$,F&&F[h]?F[h]():F),ce=L||{reason:0};function Se(){Z||(Z=!0,M(re.getCfg(),re.core(),re[p.W2]()))}return a(Se,"_updateCallback"),!U._doUpdate||U._doUpdate(re,ce,Se)!==!0?Se():te=!0,te},U._addHook=function(A){A&&((0,w.kJ)(A)?G=G.concat(A):G[p.MW](A))},(0,w.Oi)(U,"_addUnloadCb",function(){return V},"add")}),y[p.mc]=function(U){return le(U)[p.mc]()},y[p.yl]=function(){return b},y.setInitialized=function(U){b=U},y[p.Jd]=function(U){F=U},y[p.uL]=function(U,A){A?A[p.uL](U):F&&(0,w.mf)(F[_.hL])&&F[_.hL](U,null)},y._getTelCtx=le;function le(U){U===void 0&&(U=null);var A=U;if(!A){var L=B||(0,I.CD)(null,{},y[_.oV]);F&&F[h]?A=L[p.zV](null,F[h]):A=L[p.zV](null,F)}return A}a(le,"_getTelCtx");function M(U,A,L){U&&(0,w.sO)(U,_.Zh,[],null,w.le),!L&&A&&(L=A[p.SD]()[p.W2]());var $=F;F&&F[h]&&($=F[h]()),y[_.oV]=A,B=(0,I.CD)(L,U,A,$)}a(M,"_setDefaults");function W(){b=!1,y[_.oV]=null,B=null,F=null,G=[],V=(0,D.Y)()}a(W,"_initDefaults")}return a(x,"BaseTelemetryPlugin"),x.__ieDyn=1,x}()},3242:(fe,l,E)=>{"use strict";E.d(l,{kj:()=>A,JP:()=>re,Nz:()=>ce,p7:()=>Se,UY:()=>he});var v=E(8096),p=E(5018),w=E(7630),_=E(6708),I=E(6041),D="toGMTString",h="toUTCString",S="cookie",x="expires",y="enabled",b="isCookieUseDisabled",B="disableCookiesUsage",F="_ckMgr",V=null,G=null,le=null,M=(0,w.Me)(),W={},U={};function A(Q,ue){var De=ce[F]||U[F];return De||(De=ce[F]=ce(Q,ue),U[F]=De),De}a(A,"_gblCookieMgr");function L(Q){return Q?Q.isEnabled():!0}a(L,"_isMgrEnabled");function $(Q){var ue=Q[v.Lk]=Q[v.Lk]||{};if((0,_.sO)(ue,"domain",Q.cookieDomain,_.BX,_.le),(0,_.sO)(ue,"path",Q.cookiePath||"/",null,_.le),(0,_.le)(ue[y])){var De=void 0;(0,_.o8)(Q[b])||(De=!Q[b]),(0,_.o8)(Q[B])||(De=!Q[B]),ue[y]=De}return ue}a($,"_createCookieMgrConfig");function te(Q,ue){return ue&&Q&&(0,_.kJ)(Q.ignoreCookies)?Q.ignoreCookies[v.ou](ue)!==-1:!1}a(te,"_isIgnoredCookie");function Z(Q,ue){return ue&&Q&&(0,_.kJ)(Q.blockedCookies)&&Q.blockedCookies[v.ou](ue)!==-1?!0:te(Q,ue)}a(Z,"_isBlockedCookie");function re(Q,ue){var De;if(Q)De=Q.getCookieMgr();else if(ue){var Fe=ue[v.Lk];Fe[F]?De=Fe[F]:De=ce(ue)}return De||(De=A(ue,(Q||{})[v.eZ])),De}a(re,"safeGetCookieMgr");function ce(Q,ue){var De,Fe=$(Q||U),ne=Fe.path||"/",Ge=Fe.domain,et=Fe[y]!==!1,st=(De={isEnabled:function(){var Y=et&&Se(ue),ee=U[F];return Y&&ee&&st!==ee&&(Y=L(ee)),Y}},De[v.$h]=function(Y){et=Y!==!1},De.set=function(Y,ee,ae,ye,ke){var Ue=!1;if(L(st)&&!Z(Fe,Y)){var pe={},Ae=(0,_.nd)(ee||I.qS),Me=Ae[v.ou](";");if(Me!==-1&&(Ae=(0,_.nd)(ee[v.zc](0,Me)),pe=ie(ee[v.zc](Me+1))),(0,_.sO)(pe,"domain",ye||Ge,_.fQ,_.o8),!(0,_.le)(ae)){var Ze=(0,w.w1)();if((0,_.o8)(pe[x])){var Oe=(0,_.m6)(),$e=Oe+ae*1e3;if($e>0){var pt=new Date;pt.setTime($e),(0,_.sO)(pe,x,me(pt,Ze?D:h)||me(pt,Ze?D:h)||I.qS,_.fQ)}}Ze||(0,_.sO)(pe,"max-age",I.qS+ae,null,_.o8)}var ot=(0,w.k$)();ot&&ot.protocol==="https:"&&((0,_.sO)(pe,"secure",null,null,_.o8),G===null&&(G=!he(((0,w.jW)()||{})[v.qV])),G&&(0,_.sO)(pe,"SameSite","None",null,_.o8)),(0,_.sO)(pe,"path",ke||ne,null,_.o8);var Re=Fe.setCookie||_e;Re(Y,j(Ae,pe)),Ue=!0}return Ue},De.get=function(Y){var ee=I.qS;return L(st)&&!te(Fe,Y)&&(ee=(Fe.getCookie||Ve)(Y)),ee},De.del=function(Y,ee){var ae=!1;return L(st)&&(ae=st.purge(Y,ee)),ae},De.purge=function(Y,ee){var ae,ye=!1;if(Se(ue)){var ke=(ae={},ae.path=ee||"/",ae[x]="Thu, 01 Jan 1970 00:00:01 GMT",ae);(0,w.w1)()||(ke["max-age"]="0");var Ue=Fe.delCookie||_e;Ue(Y,j(I.qS,ke)),ye=!0}return ye},De);return st[F]=st,st}a(ce,"createCookieMgr");function Se(Q){if(V===null){V=!1;try{var ue=M||{};V=ue[S]!==void 0}catch(De){(0,p.kP)(Q,2,68,"Cannot access document.cookie - "+(0,_.jj)(De),{exception:(0,w.eU)(De)})}}return V}a(Se,"areCookiesSupported");function ie(Q){var ue={};if(Q&&Q[v.R5]){var De=(0,_.nd)(Q)[v.w6](";");(0,_.tO)(De,function(Fe){if(Fe=(0,_.nd)(Fe||I.qS),Fe){var ne=Fe[v.ou]("=");ne===-1?ue[Fe]=null:ue[(0,_.nd)(Fe[v.zc](0,ne))]=(0,_.nd)(Fe[v.zc](ne+1))}})}return ue}a(ie,"_extractParts");function me(Q,ue){return(0,_.mf)(Q[ue])?Q[ue]():null}a(me,"_formatDate");function j(Q,ue){var De=Q||I.qS;return(0,_.rW)(ue,function(Fe,ne){De+="; "+Fe+((0,_.le)(ne)?I.qS:"="+ne)}),De}a(j,"_formatCookieValue");function Ve(Q){var ue=I.qS;if(M){var De=M[S]||I.qS;le!==De&&(W=ie(De),le=De),ue=(0,_.nd)(W[Q]||I.qS)}return ue}a(Ve,"_getCookieValue");function _e(Q,ue){M&&(M[S]=Q+"="+ue)}a(_e,"_setCookieValue");function he(Q){return(0,_.HD)(Q)?!!((0,_._Q)(Q,"CPU iPhone OS 12")||(0,_._Q)(Q,"iPad; CPU OS 12")||(0,_._Q)(Q,"Macintosh; Intel Mac OS X 10_14")&&(0,_._Q)(Q,"Version/")&&(0,_._Q)(Q,"Safari")||(0,_._Q)(Q,"Macintosh; Intel Mac OS X 10_14")&&(0,_.Id)(Q,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,_._Q)(Q,"Chrome/5")||(0,_._Q)(Q,"Chrome/6")||(0,_._Q)(Q,"UnrealEngine")&&!(0,_._Q)(Q,"Chrome")||(0,_._Q)(Q,"UCBrowser/12")||(0,_._Q)(Q,"UCBrowser/11")):!1}a(he,"uaDisallowsSameSiteNone")},5843:(fe,l,E)=>{"use strict";E.d(l,{GW:()=>B,Jj:()=>F,DO:()=>G,Tr:()=>le,zB:()=>W,oF:()=>A,vn:()=>L,ej:()=>$,d8:()=>te,kT:()=>Z});var v=E(2091),p=E(8096),w=E(3242),_=E(7630),I=E(4869),D=E(6708),h=E(6041),S=E(4878),x=null,y,b=null;function B(){var re=G();return re[p.zc](0,8)+"-"+re[p.zc](8,12)+"-"+re[p.zc](12,16)+"-"+re[p.zc](16,20)+"-"+re[p.zc](20)}a(B,"newGuid");function F(){var re=(0,_.r)();return re&&re.now?re.now():(0,D.m6)()}a(F,"perfNow");function V(re,ce){if(re&&ce){var Se=re[_DYN_LENGTH],ie=Se-ce[_DYN_LENGTH];return re[_DYN_SUBSTRING](ie>=0?ie:0,Se)===ce}return!1}a(V,"strEndsWith");function G(){for(var re=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ce=h.qS,Se,ie=0;ie<4;ie++)Se=(0,S._l)(),ce+=re[Se&15]+re[Se>>4&15]+re[Se>>8&15]+re[Se>>12&15]+re[Se>>16&15]+re[Se>>20&15]+re[Se>>24&15]+re[Se>>28&15];var me=re[8+((0,S._l)()&3)|0];return ce[p.Jn](0,8)+ce[p.Jn](9,4)+"4"+ce[p.Jn](13,3)+me+ce[p.Jn](16,3)+ce[p.Jn](19,12)}a(G,"generateW3CId");var le={_canUseCookies:void 0,isTypeof:D.Ym,isUndefined:D.o8,isNullOrUndefined:D.le,hasOwnProperty:D.nr,isFunction:D.mf,isObject:D.Kn,isDate:D.J_,isArray:D.kJ,isError:D.VZ,isString:D.HD,isNumber:D.hj,isBoolean:D.jn,toISOString:D.Y6,arrForEach:D.tO,arrIndexOf:D.UA,arrMap:D.Mr,arrReduce:D.Xz,strTrim:D.nd,objCreate:v.pu,objKeys:D.FY,objDefineAccessors:D.l_,addEventHandler:I.Ib,dateNow:D.m6,isIE:_.w1,disableCookies:A,newGuid:B,perfNow:F,newId:S.pZ,randomValue:S.az,random32:S._l,mwcRandomSeed:S.CN,mwcRandom32:S.F6,generateW3CId:G},M=/[xy]/g,W={Attach:I.pZ,AttachEvent:I.pZ,Detach:I.pD,DetachEvent:I.pD};function U(re,ce){var Se=(0,w.kj)(re,ce),ie=le._canUseCookies;return x===null&&(x=[],y=ie,(0,D.l_)(le,"_canUseCookies",function(){return y},function(me){y=me,(0,D.tO)(x,function(j){j[p.$h](me)})})),(0,D.UA)(x,Se)===-1&&x[p.MW](Se),(0,D.jn)(ie)&&Se[p.$h](ie),(0,D.jn)(y)&&Se[p.$h](y),Se}a(U,"_legacyCookieMgr");function A(){U()[p.$h](!1)}a(A,"disableCookies");function L(re){return U(null,re).isEnabled()}a(L,"canUseCookies");function $(re,ce){return U(null,re).get(ce)}a($,"getCookie");function te(re,ce,Se,ie){U(null,re).set(ce,Se,null,ie)}a(te,"setCookie");function Z(re,ce){return U(null,re).del(ce)}a(Z,"deleteCookie")},5883:(fe,l,E)=>{"use strict";E.d(l,{J:()=>F,K:()=>V});var v=E(4392),p=E(8096),w=E(6708),_=E(6041),I=E(4878),D=v.RJ,h="2.8.12",S="."+(0,I.pZ)(6),x=0;function y(G,le,M){if(D)try{return D(G,le,{value:M,enumerable:!1,configurable:!0}),!0}catch(W){}return!1}a(y,"_createAccessor");function b(G){return G[p.xv]===1||G[p.xv]===9||!+G[p.xv]}a(b,"_canAcceptData");function B(G,le){var M=le[G.id];if(!M){M={};try{b(le)&&(y(le,G.id,M)||(le[G.id]=M))}catch(W){}}return M}a(B,"_getCache");function F(G,le){return le===void 0&&(le=!1),(0,w.Gf)(G+x+++(le?"."+h:_.qS)+S)}a(F,"createUniqueNamespace");function V(G){var le={id:F("_aiData-"+(G||_.qS)+"."+h),accept:function(M){return b(M)},get:function(M,W,U,A){var L=M[le.id];return L?L[(0,w.Gf)(W)]:(A&&(L=B(le,M),L[(0,w.Gf)(W)]=U),U)},kill:function(M,W){if(M&&M[W])try{delete M[W]}catch(U){}}};return le}a(V,"createElmNodeData")},7158:(fe,l,E)=>{"use strict";E.d(l,{j:()=>S,p:()=>x});var v=E(8096),p=E(7630),w=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],_=null,I;function D(y,b){return function(){var B=arguments,F=S(b);if(F){var V=F.listener;V&&V[y]&&V[y][v.ZV](V,B)}}}a(D,"_listenerProxyFunc");function h(){var y=(0,p.a8)("Microsoft");return y&&(_=y.ApplicationInsights),_}a(h,"_getExtensionNamespace");function S(y){var b=_;return!b&&y.disableDbgExt!==!0&&(b=_||h()),b?b.ChromeDbgExt:null}a(S,"getDebugExt");function x(y){if(!I){I={};for(var b=0;b<w[v.R5];b++)I[w[b]]=D(w[b],y)}return I}a(x,"getDebugListener")},5018:(fe,l,E)=>{"use strict";E.d(l,{lQ:()=>B,vH:()=>F,AQ:()=>V,kP:()=>le,jV:()=>M,L4:()=>W});var v=E(1679),p=E(8096),w=E(7158),_=E(7630),I=E(6708),D=E(6041),h="AI (Internal): ",S="AI: ",x="AITR_";function y(U){return U?'"'+U[p.i7](/\"/g,D.qS)+'"':D.qS}a(y,"_sanitizeDiagnosticText");function b(U,A){var L=(0,_.dr)();if(L){var $="log";L[U]&&($=U),(0,I.mf)(L[$])&&L[$](A)}}a(b,"_logToConsole");var B=function(){function U(A,L,$,te){$===void 0&&($=!1);var Z=this;Z[p.Gc]=A,Z[p.gU]=($?S:h)+A;var re=D.qS;(0,_.nS)()&&(re=(0,_.xA)().stringify(te));var ce=(L?" message:"+y(L):D.qS)+(te?" props:"+y(re):D.qS);Z[p.gU]+=ce}return a(U,"_InternalLogMessage"),U.dataType="MessageData",U}();function F(U,A){return(U||{})[p.eZ]||new V(A)}a(F,"safeGetLogger");var V=function(){function U(A){this.identifier="DiagnosticLogger",this.queue=[];var L=0,$={},te,Z,re,ce;(0,v.Z)(U,this,function(Se){me(A||{}),Se.consoleLoggingLevel=function(){return te},Se.telemetryLoggingLevel=function(){return Z},Se.maxInternalMessageLimit=function(){return re},Se[p.Fr]=function(){return ce},Se.throwInternal=function(_e,he,Q,ue,De){De===void 0&&(De=!1);var Fe=new B(he,Q,De,ue);if(ce)throw(0,_.eU)(Fe);var ne=_e===1?D.ys:D.cL;if((0,I.o8)(Fe[p.gU]))Ve("throw"+(_e===1?"Critical":"Warning"),Fe);else{if(De){var Ge=+Fe[p.Gc];!$[Ge]&&te>=_e&&(Se[ne](Fe[p.gU]),$[Ge]=!0)}else te>=_e&&Se[ne](Fe[p.gU]);ie(_e,Fe)}},Se[D.cL]=function(_e){b("warn",_e),Ve("warning",_e)},Se[D.ys]=function(_e){b("error",_e),Ve("error",_e)},Se.resetInternalMessageCount=function(){L=0,$={}},Se[p.jk]=ie;function ie(_e,he){if(!j()){var Q=!0,ue=x+he[p.Gc];if($[ue]?Q=!1:$[ue]=!0,Q&&(_e<=Z&&(Se.queue[p.MW](he),L++,Ve(_e===1?"error":"warn",he)),L===re)){var De="Internal events throttle limit per PageView reached for this app.",Fe=new B(23,De,!1);Se.queue[p.MW](Fe),_e===1?Se[D.ys](De):Se[D.cL](De)}}}a(ie,"_logInternalMessage");function me(_e){te=(0,I.v4)(_e.loggingLevelConsole,0),Z=(0,I.v4)(_e.loggingLevelTelemetry,1),re=(0,I.v4)(_e.maxMessageLimit,25),ce=(0,I.v4)(_e.enableDebug,(0,I.v4)(_e[p.Fr],!1))}a(me,"_setDefaultsFromConfig");function j(){return L>=re}a(j,"_areInternalMessagesThrottled");function Ve(_e,he){var Q=(0,w.j)(A||{});Q&&Q[p.mc]&&Q[p.mc](_e,he)}a(Ve,"_debugExtMsg")})}return a(U,"DiagnosticLogger"),U.__ieDyn=1,U}();function G(U){return U||new V}a(G,"_getLogger");function le(U,A,L,$,te,Z){Z===void 0&&(Z=!1),G(U).throwInternal(A,L,$,te,Z)}a(le,"_throwInternal");function M(U,A){G(U)[D.cL](A)}a(M,"_warnToConsole");function W(U,A,L){G(U)[p.jk](A,L)}a(W,"_logInternalMessage")},7630:(fe,l,E)=>{"use strict";E.d(l,{dI:()=>Se,a8:()=>ie,Ym:()=>me,Jj:()=>j,Nv:()=>Ve,Me:()=>_e,d6:()=>he,jW:()=>Q,fE:()=>ue,s1:()=>De,k$:()=>Fe,dr:()=>ne,r:()=>Ge,nS:()=>et,xA:()=>st,MX:()=>Y,gz:()=>ee,b$:()=>ae,w1:()=>ye,sA:()=>ke,eU:()=>Ue,MF:()=>Ae,JO:()=>Me,cp:()=>Ze,Z3:()=>Oe,ed:()=>pt,pI:()=>ot});var v=E(4392),p=E(2091),w=E(8096),_=E(6708),I=E(6041),D="window",h="document",S="documentMode",x="navigator",y="history",b="location",B="console",F="performance",V="JSON",G="crypto",le="msCrypto",M="ReactNative",W="msie",U="trident/",A="XMLHttpRequest",L=null,$=null,te=!1,Z=null,re=null;function ce(Re,O){var be=!1;if(Re){try{if(be=O in Re,!be){var Xe=Re[v.hB];Xe&&(be=O in Xe)}}catch(yr){}if(!be)try{var Jt=new Re;be=!(0,_.o8)(Jt[O])}catch(yr){}}return be}a(ce,"_hasProperty");function Se(Re){te=Re}a(Se,"setEnableEnvMocks");function ie(Re){var O=(0,p.Rd)();return O&&O[Re]?O[Re]:Re===D&&me()?window:null}a(ie,"getGlobalInst");function me(){return Boolean(typeof window===v.fK&&window)}a(me,"hasWindow");function j(){return me()?window:ie(D)}a(j,"getWindow");function Ve(){return Boolean(typeof document===v.fK&&document)}a(Ve,"hasDocument");function _e(){return Ve()?document:ie(h)}a(_e,"getDocument");function he(){return Boolean(typeof navigator===v.fK&&navigator)}a(he,"hasNavigator");function Q(){return he()?navigator:ie(x)}a(Q,"getNavigator");function ue(){return Boolean(typeof history===v.fK&&history)}a(ue,"hasHistory");function De(){return ue()?history:ie(y)}a(De,"getHistory");function Fe(Re){if(Re&&te){var O=ie("__mockLocation");if(O)return O}return typeof location===v.fK&&location?location:ie(b)}a(Fe,"getLocation");function ne(){return typeof console!==v.jA?console:ie(B)}a(ne,"getConsole");function Ge(){return ie(F)}a(Ge,"getPerformance");function et(){return Boolean(typeof JSON===v.fK&&JSON||ie(V)!==null)}a(et,"hasJSON");function st(){return et()?JSON||ie(V):null}a(st,"getJSON");function Y(){return ie(G)}a(Y,"getCrypto");function ee(){return ie(le)}a(ee,"getMsCrypto");function ae(){var Re=Q();return Re&&Re.product?Re.product===M:!1}a(ae,"isReactNative");function ye(){var Re=Q();if(Re&&(Re[w.qV]!==$||L===null)){$=Re[w.qV];var O=($||I.qS)[w.T1]();L=(0,_._Q)(O,W)||(0,_._Q)(O,U)}return L}a(ye,"isIE");function ke(Re){if(Re===void 0&&(Re=null),!Re){var O=Q()||{};Re=O?(O[w.qV]||I.qS)[w.T1]():I.qS}var be=(Re||I.qS)[w.T1]();if((0,_._Q)(be,W)){var Xe=_e()||{};return Math.max(parseInt(be[w.w6](W)[1]),Xe[S]||0)}else if((0,_._Q)(be,U)){var Jt=parseInt(be[w.w6](U)[1]);if(Jt)return Jt+4}return null}a(ke,"getIEVersion");function Ue(Re){var O=Object[v.hB].toString[w._S](Re),be=I.qS;return O==="[object Error]"?be="{ stack: '"+Re.stack+"', message: '"+Re.message+"', name: '"+Re[w.I]+"'":et()&&(be=st().stringify(Re)),O+be}a(Ue,"dumpObj");function pe(Re){if(!Re||!isString(Re)){var O=Q()||{};Re=O?(O[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var be=(Re||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return be[_DYN_INDEX_OF]("safari")>=0}a(pe,"isSafari");function Ae(){return re===null&&(re=he()&&Boolean(Q().sendBeacon)),re}a(Ae,"isBeaconsSupported");function Me(Re){var O=!1;try{O=!!ie("fetch");var be=ie("Request");O&&Re&&be&&(O=ce(be,"keepalive"))}catch(Xe){}return O}a(Me,"isFetchSupported");function Ze(){return Z===null&&(Z=typeof XDomainRequest!==v.jA,Z&&Oe()&&(Z=Z&&!ce(ie(A),"withCredentials"))),Z}a(Ze,"useXDomainRequest");function Oe(){var Re=!1;try{var O=ie(A);Re=!!O}catch(be){}return Re}a(Oe,"isXhrSupported");function $e(Re,O){if(Re)for(var be=0;be<Re[w.R5];be++){var Xe=Re[be];if(Xe[w.I]&&Xe[w.I]===O)return Xe}return{}}a($e,"_getNamedValue");function pt(Re){var O=_e();return O&&Re?$e(O.querySelectorAll("meta"),Re).content:null}a(pt,"findMetaTag");function ot(Re){var O,be=Ge();if(be){var Xe=be.getEntriesByType("navigation")||[];O=$e((Xe[w.R5]>0?Xe[0]:{}).serverTiming,Re).description}return O}a(ot,"findNamedServerTiming")},4869:(fe,l,E)=>{"use strict";E.d(l,{um:()=>ce,jU:()=>_e,XO:()=>he,QY:()=>Q,pZ:()=>ue,pD:()=>De,Ib:()=>Fe,C1:()=>ne,yw:()=>et,nJ:()=>st,c9:()=>Y,JA:()=>ee,TJ:()=>ae,C9:()=>ye,nD:()=>ke,Yl:()=>Ue});var v=E(8096),p=E(5883),w=E(7630),_=E(6708),I=E(6041),D="on",h="attachEvent",S="addEventListener",x="detachEvent",y="removeEventListener",b="events",B="visibilitychange",F="pagehide",V="pageshow",G="unload",le="beforeunload",M=(0,p.J)("aiEvtPageHide"),W=(0,p.J)("aiEvtPageShow"),U=/\.[\.]+/g,A=/[\.]+$/,L=1,$=(0,p.K)("events"),te=/^([^.]*)(?:\.(.+)|)/;function Z(pe){return pe&&pe[v.i7]?pe[v.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,I.qS):pe}a(Z,"_normalizeNamespace");function re(pe,Ae){var Me;if(Ae){var Ze=I.qS;(0,_.kJ)(Ae)?(Ze=I.qS,(0,_.tO)(Ae,function($e){$e=Z($e),$e&&($e[0]!=="."&&($e="."+$e),Ze+=$e)})):Ze=Z(Ae),Ze&&(Ze[0]!=="."&&(Ze="."+Ze),pe=(pe||I.qS)+Ze)}var Oe=te.exec(pe||I.qS)||[];return Me={},Me[v.P6]=Oe[1],Me.ns=(Oe[2]||I.qS).replace(U,".").replace(A,I.qS)[v.w6](".").sort().join("."),Me}a(re,"_getEvtNamespace");function ce(pe,Ae,Me){var Ze=[],Oe=$.get(pe,b,{},!1),$e=re(Ae,Me);return(0,_.rW)(Oe,function(pt,ot){(0,_.tO)(ot,function(Re){var O;(!$e[v.P6]||$e[v.P6]===Re.evtName[v.P6])&&(!$e.ns||$e.ns===$e.ns)&&Ze[v.MW]((O={},O[v.I]=Re.evtName[v.P6]+(Re.evtName.ns?"."+Re.evtName.ns:I.qS),O.handler=Re[v.Kn],O))})}),Ze}a(ce,"__getRegisteredEvents");function Se(pe,Ae,Me){Me===void 0&&(Me=!0);var Ze=$.get(pe,b,{},Me),Oe=Ze[Ae];return Oe||(Oe=Ze[Ae]=[]),Oe}a(Se,"_getRegisteredEvents");function ie(pe,Ae,Me,Ze){pe&&Ae&&Ae[v.P6]&&(pe[y]?pe[y](Ae[v.P6],Me,Ze):pe[x]&&pe[x](D+Ae[v.P6],Me))}a(ie,"_doDetach");function me(pe,Ae,Me,Ze){var Oe=!1;return pe&&Ae&&Ae[v.P6]&&Me&&(pe[S]?(pe[S](Ae[v.P6],Me,Ze),Oe=!0):pe[h]&&(pe[h](D+Ae[v.P6],Me),Oe=!0)),Oe}a(me,"_doAttach");function j(pe,Ae,Me,Ze){for(var Oe=Ae[v.R5];Oe--;){var $e=Ae[Oe];$e&&(!Me.ns||Me.ns===$e.evtName.ns)&&(!Ze||Ze($e))&&(ie(pe,$e.evtName,$e[v.Kn],$e.capture),Ae[v.cb](Oe,1))}}a(j,"_doUnregister");function Ve(pe,Ae,Me){if(Ae[v.P6])j(pe,Se(pe,Ae[v.P6]),Ae,Me);else{var Ze=$.get(pe,b,{});(0,_.rW)(Ze,function(Oe,$e){j(pe,$e,Ae,Me)}),(0,_.FY)(Ze)[v.R5]===0&&$.kill(pe,b)}}a(Ve,"_unregisterEvents");function _e(pe,Ae){var Me;return Ae?((0,_.kJ)(Ae)?Me=[pe].concat(Ae):Me=[pe,Ae],Me=re("xx",Me).ns[v.w6](".")):Me=pe,Me}a(_e,"mergeEvtNamespace");function he(pe,Ae,Me,Ze,Oe){var $e;Oe===void 0&&(Oe=!1);var pt=!1;if(pe)try{var ot=re(Ae,Ze);if(pt=me(pe,ot,Me,Oe),pt&&$.accept(pe)){var Re=($e={guid:L++,evtName:ot},$e[v.Kn]=Me,$e.capture=Oe,$e);Se(pe,ot.type)[v.MW](Re)}}catch(O){}return pt}a(he,"eventOn");function Q(pe,Ae,Me,Ze,Oe){if(Oe===void 0&&(Oe=!1),pe)try{var $e=re(Ae,Ze),pt=!1;Ve(pe,$e,function(ot){return $e.ns&&!Me||ot[v.Kn]===Me?(pt=!0,!0):!1}),pt||ie(pe,$e,Me,Oe)}catch(ot){}}a(Q,"eventOff");function ue(pe,Ae,Me,Ze){return Ze===void 0&&(Ze=!1),he(pe,Ae,Me,null,Ze)}a(ue,"attachEvent");function De(pe,Ae,Me,Ze){Ze===void 0&&(Ze=!1),Q(pe,Ae,Me,null,Ze)}a(De,"detachEvent");function Fe(pe,Ae,Me){var Ze=!1,Oe=(0,w.Jj)();Oe&&(Ze=he(Oe,pe,Ae,Me),Ze=he(Oe.body,pe,Ae,Me)||Ze);var $e=(0,w.Me)();return $e&&(Ze=he($e,pe,Ae,Me)||Ze),Ze}a(Fe,"addEventHandler");function ne(pe,Ae,Me){var Ze=(0,w.Jj)();Ze&&(Q(Ze,pe,Ae,Me),Q(Ze.body,pe,Ae,Me));var Oe=(0,w.Me)();Oe&&Q(Oe,pe,Ae,Me)}a(ne,"removeEventHandler");function Ge(pe,Ae,Me,Ze){var Oe=!1;return Ae&&pe&&pe[v.R5]>0&&(0,_.tO)(pe,function($e){$e&&(!Me||(0,_.UA)(Me,$e)===-1)&&(Oe=Fe($e,Ae,Ze)||Oe)}),Oe}a(Ge,"_addEventListeners");function et(pe,Ae,Me,Ze){var Oe=!1;return Ae&&pe&&(0,_.kJ)(pe)&&(Oe=Ge(pe,Ae,Me,Ze),!Oe&&Me&&Me[v.R5]>0&&(Oe=Ge(pe,Ae,null,Ze))),Oe}a(et,"addEventListeners");function st(pe,Ae,Me){pe&&(0,_.kJ)(pe)&&(0,_.tO)(pe,function(Ze){Ze&&ne(Ze,Ae,Me)})}a(st,"removeEventListeners");function Y(pe,Ae,Me){return et([le,G,F],pe,Ae,Me)}a(Y,"addPageUnloadEventListener");function ee(pe,Ae){st([le,G,F],pe,Ae)}a(ee,"removePageUnloadEventListener");function ae(pe,Ae,Me){function Ze(pt){var ot=(0,w.Me)();pe&&ot&&ot.visibilityState==="hidden"&&pe(pt)}a(Ze,"_handlePageVisibility");var Oe=_e(M,Me),$e=Ge([F],pe,Ae,Oe);return(!Ae||(0,_.UA)(Ae,B)===-1)&&($e=Ge([B],Ze,Ae,Oe)||$e),!$e&&Ae&&($e=ae(pe,null,Me)),$e}a(ae,"addPageHideEventListener");function ye(pe,Ae){var Me=_e(M,Ae);st([F],pe,Me),st([B],null,Me)}a(ye,"removePageHideEventListener");function ke(pe,Ae,Me){function Ze(pt){var ot=(0,w.Me)();pe&&ot&&ot.visibilityState==="visible"&&pe(pt)}a(Ze,"_handlePageVisibility");var Oe=_e(W,Me),$e=Ge([V],pe,Ae,Oe);return $e=Ge([B],Ze,Ae,Oe)||$e,!$e&&Ae&&($e=ke(pe,null,Me)),$e}a(ke,"addPageShowEventListener");function Ue(pe,Ae){var Me=_e(W,Ae);st([V],pe,Me),st([B],null,Me)}a(Ue,"removePageShowEventListener")},6708:(fe,l,E)=>{"use strict";E.d(l,{Ym:()=>ue,o8:()=>De,le:()=>ne,BX:()=>Ge,nr:()=>et,Kn:()=>st,mf:()=>Y,Gf:()=>ae,rW:()=>ye,Id:()=>ke,xe:()=>pe,_Q:()=>Me,J_:()=>Ze,kJ:()=>Oe,VZ:()=>pt,HD:()=>ot,hj:()=>Re,jn:()=>O,Y6:()=>Jt,tO:()=>br,UA:()=>P,Mr:()=>d,Xz:()=>m,nd:()=>J,FY:()=>ve,l_:()=>ht,_A:()=>Pt,FL:()=>Ot,Xi:()=>Vt,m6:()=>Hr,jj:()=>mn,sO:()=>an,qK:()=>Vr,v4:()=>On,F:()=>yn,fQ:()=>$n,_y:()=>In,cf:()=>tn,Oi:()=>on,Vb:()=>ri,hl:()=>ni,Ax:()=>ii,mm:()=>An});var v=E(4392),p=E(2091),w=E(8096),_=E(6041),I="toISOString",D="endsWith",h="startsWith",S="indexOf",x="map",y="reduce",b="trim",B="toString",F="__proto__",V="constructor",G=v.RJ,le=v.Pw.freeze,M=v.Pw.seal,W=v.Pw.keys,U=String[v.hB],A=U[b],L=U[D],$=U[h],te=Date[v.hB],Z=te[I],re=Array.isArray,ce=v.V4[B],Se=v.CY[B],ie=Se[w._S](v.Pw),me=/-([a-z])/g,j=/([^\w\d_$])/g,Ve=/^(\d+[\w\d_$])/,_e=Object.getPrototypeOf;function he(z){if(z){if(_e)return _e(z);var we=z[F]||z[v.hB]||z[V];if(we)return we}return null}a(he,"_getObjProto");function Q(z){return ce[_DYN_CALL](z)}a(Q,"objToString");function ue(z,we){return typeof z===we}a(ue,"isTypeof");function De(z){return z===void 0||typeof z===v.jA}a(De,"isUndefined");function Fe(z){return!De(z)}a(Fe,"isNotUndefined");function ne(z){return z===null||De(z)}a(ne,"isNullOrUndefined");function Ge(z){return!ne(z)}a(Ge,"isNotNullOrUndefined");function et(z,we){return!!(z&&v.CY[w._S](z,we))}a(et,"hasOwnProperty");function st(z){return!!(z&&typeof z===v.fK)}a(st,"isObject");function Y(z){return!!(z&&typeof z===v.cb)}a(Y,"isFunction");function ee(z){return z&&Y(z.then)}a(ee,"isPromiseLike");function ae(z){var we=z;return we&&ot(we)&&(we=we[w.i7](me,function(Pe,ze){return ze.toUpperCase()}),we=we[w.i7](j,"_"),we=we[w.i7](Ve,function(Pe,ze){return"_"+ze})),we}a(ae,"normalizeJsName");function ye(z,we){if(z)for(var Pe in z)v.CY[w._S](z,Pe)&&we[w._S](z,Pe,z[Pe])}a(ye,"objForEachKey");function ke(z,we){var Pe=!1;return z&&we&&!(Pe=z===we)&&(Pe=L?z[D](we):Ue(z,we)),Pe}a(ke,"strEndsWith");function Ue(z,we){var Pe=!1,ze=we?we[w.R5]:0,at=z?z[w.R5]:0;if(ze&&at&&at>=ze&&!(Pe=z===we)){for(var nt=at-1,mt=ze-1;mt>=0;mt--){if(z[nt]!=we[mt])return!1;nt--}Pe=!0}return Pe}a(Ue,"_strEndsWithPoly");function pe(z,we){var Pe=!1;return z&&we&&!(Pe=z===we)&&(Pe=$?z[h](we):Ae(z,we)),Pe}a(pe,"strStartsWith");function Ae(z,we){var Pe=!1,ze=we?we[w.R5]:0;if(z&&ze&&z[w.R5]>=ze&&!(Pe=z===we)){for(var at=0;at<ze;at++)if(z[at]!==we[at])return!1;Pe=!0}return Pe}a(Ae,"_strStartsWithPoly");function Me(z,we){return z&&we?z[w.ou](we)!==-1:!1}a(Me,"strContains");function Ze(z){return!!(z&&ce[w._S](z)==="[object Date]")}a(Ze,"isDate");var Oe=re||$e;function $e(z){return!!(z&&ce[w._S](z)==="[object Array]")}a($e,"_isArrayPoly");function pt(z){return!!(z&&ce[w._S](z)==="[object Error]")}a(pt,"isError");function ot(z){return typeof z=="string"}a(ot,"isString");function Re(z){return typeof z=="number"}a(Re,"isNumber");function O(z){return typeof z=="boolean"}a(O,"isBoolean");function be(z){return typeof z=="symbol"}a(be,"isSymbol");function Xe(z){var we=!1;if(z&&typeof z=="object"){var Pe=_e?_e(z):he(z);Pe?(Pe[V]&&v.CY[w._S](Pe,V)&&(Pe=Pe[V]),we=typeof Pe===v.cb&&Se[w._S](Pe)===ie):we=!0}return we}a(Xe,"isPlainObject");function Jt(z){if(z)return Z?z[I]():yr(z)}a(Jt,"toISOString");function yr(z){if(z&&z.getUTCFullYear){var we=a(function(Pe){var ze=String(Pe);return ze[w.R5]===1&&(ze="0"+ze),ze},"pad");return z.getUTCFullYear()+"-"+we(z.getUTCMonth()+1)+"-"+we(z.getUTCDate())+"T"+we(z.getUTCHours())+":"+we(z.getUTCMinutes())+":"+we(z.getUTCSeconds())+"."+String((z.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(yr,"_toISOStringPoly");function br(z,we,Pe){var ze=z[w.R5];try{for(var at=0;at<ze&&!(at in z&&we[w._S](Pe||z,z[at],at,z)===-1);at++);}catch(nt){}}a(br,"arrForEach");function P(z,we,Pe){if(z){if(z[S])return z[S](we,Pe);var ze=z[w.R5],at=Pe||0;try{for(var nt=Math.max(at>=0?at:ze-Math.abs(at),0);nt<ze;nt++)if(nt in z&&z[nt]===we)return nt}catch(mt){}}return-1}a(P,"arrIndexOf");function d(z,we,Pe){var ze;if(z){if(z[x])return z[x](we,Pe);var at=z[w.R5],nt=Pe||z;ze=new Array(at);try{for(var mt=0;mt<at;mt++)mt in z&&(ze[mt]=we[w._S](nt,z[mt],z))}catch(Rt){}}return ze}a(d,"arrMap");function m(z,we,Pe){var ze;if(z){if(z[y])return z[y](we,Pe);var at=z[w.R5],nt=0;if(arguments[w.R5]>=3)ze=arguments[2];else{for(;nt<at&&!(nt in z);)nt++;ze=z[nt++]}for(;nt<at;)nt in z&&(ze=we(ze,z[nt],nt,z)),nt++}return ze}a(m,"arrReduce");function J(z){return z&&(z=A&&z[b]?z[b]():z[w.i7]?z[w.i7](/^\s+|(?=\s)\s+$/g,_.qS):z),z}a(J,"strTrim");var de=!{toString:null}.propertyIsEnumerable("toString"),Ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function ve(z){var we=typeof z;if(we!==v.cb&&(we!==v.fK||z===null)&&(0,p.ZU)("objKeys called on non-object"),!de&&W)return W(z);var Pe=[];for(var ze in z)z&&v.CY[w._S](z,ze)&&Pe[w.MW](ze);if(de)for(var at=Ne[w.R5],nt=0;nt<at;nt++)z&&v.CY[w._S](z,Ne[nt])&&Pe[w.MW](Ne[nt]);return Pe}a(ve,"objKeys");function ht(z,we,Pe,ze){if(G)try{var at={enumerable:!0,configurable:!0};return Pe&&(at.get=Pe),ze&&(at.set=ze),G(z,we,at),!0}catch(nt){}return!1}a(ht,"objDefineAccessors");function It(z){return z}a(It,"_doNothing");function Pt(z){return le&&ye(z,function(we,Pe){(Oe(Pe)||st(Pe))&&le(Pe)}),Ot(z)}a(Pt,"deepFreeze");var Ot=le||It,Vt=M||It;function Hr(){var z=Date;return z.now?z.now():new z().getTime()}a(Hr,"dateNow");function mn(z){return pt(z)?z[w.I]:_.qS}a(mn,"getExceptionName");function an(z,we,Pe,ze,at){var nt=Pe;return z&&(nt=z[we],nt!==Pe&&(!at||at(nt))&&(!ze||ze(Pe))&&(nt=Pe,z[we]=nt)),nt}a(an,"setValue");function Vr(z,we,Pe){var ze;return z?(ze=z[we],!ze&&ne(ze)&&(ze=De(Pe)?{}:Pe,z[we]=ze)):ze=De(Pe)?{}:Pe,ze}a(Vr,"getSetValue");function On(z,we){return ne(z)?we:z}a(On,"getCfgValue");function yn(z){return!z}a(yn,"isNotTruthy");function $n(z){return!!z}a($n,"isTruthy");function In(z){throw new Error(z)}a(In,"throwError");function Dr(z,we){var Pe=null,ze=null;return Y(z)?Pe=z:ze=z,function(){var at=arguments;if(Pe&&(ze=Pe()),ze)return ze[we][w.ZV](ze,at)}}a(Dr,"_createProxyFunction");function tn(z,we,Pe){if(z&&we&&st(z)&&st(we)){var ze=a(function(nt){if(ot(nt)){var mt=we[nt];Y(mt)?(!Pe||Pe(nt,!0,we,z))&&(z[nt]=Dr(we,nt)):(!Pe||Pe(nt,!1,we,z))&&(et(z,nt)&&delete z[nt],ht(z,nt,function(){return we[nt]},function(Rt){we[nt]=Rt})||(z[nt]=mt))}},"_loop_1");for(var at in we)ze(at)}return z}a(tn,"proxyAssign");function on(z,we,Pe,ze,at){z&&we&&Pe&&(at!==!1||De(z[we]))&&(z[we]=Dr(Pe,ze))}a(on,"proxyFunctionAs");function ri(z,we,Pe,ze){return z&&we&&st(z)&&Oe(Pe)&&br(Pe,function(at){ot(at)&&on(z,at,we,at,ze)}),z}a(ri,"proxyFunctions");function ni(z){return function(){function we(){var Pe=this;z&&ye(z,function(ze,at){Pe[ze]=at})}return a(we,"class_1"),we}()}a(ni,"createClassFromInterface");function ii(z){return z&&v.rl&&(z=(0,v.Pw)((0,v.rl)({},z))),z}a(ii,"optimizeObject");function An(z,we,Pe,ze,at,nt){var mt=arguments,Rt=mt[0]||{},Ut=mt[w.R5],rr=!1,Tt=1;for(Ut>0&&O(Rt)&&(rr=Rt,Rt=mt[Tt]||{},Tt++),st(Rt)||(Rt={});Tt<Ut;Tt++){var qt=mt[Tt],Kt=Oe(qt),Yt=st(qt);for(var Mt in qt){var Mr=Kt&&Mt in qt||Yt&&v.CY[w._S](qt,Mt);if(!!Mr){var xr=qt[Mt],En=void 0;if(rr&&xr&&((En=Oe(xr))||Xe(xr))){var sn=Rt[Mt];En?Oe(sn)||(sn=[]):Xe(sn)||(sn={}),xr=An(rr,sn,xr)}xr!==void 0&&(Rt[Mt]=xr)}}}return Rt}a(An,"objExtend")},6041:(fe,l,E)=>{"use strict";E.d(l,{qS:()=>v,Z:()=>p,oV:()=>w,DN:()=>_,mE:()=>I,Zh:()=>D,js:()=>h,hL:()=>S,yi:()=>x,uC:()=>y,$F:()=>b,f_:()=>B,C$:()=>F,ys:()=>V,cL:()=>G,kl:()=>le});var v="",p="channels",w="core",_="createPerfMgr",I="disabled",D="extensionConfig",h="extensions",S="processTelemetry",x="priority",y="eventsSent",b="eventsDiscarded",B="eventsSendRequest",F="perfEvent",V="errorToConsole",G="warnToConsole",le="getPerfMgr"},1880:(fe,l,E)=>{"use strict";E.d(l,{f:()=>D});var v=E(1679),p=E(8096),w=E(6708),_=E(6041);function I(h,S,x,y){(0,w.tO)(h,function(b){if(b&&b[S])if(x)setTimeout(function(){return y(b)},0);else try{y(b)}catch(B){}})}a(I,"_runListeners");var D=function(){function h(S){this.listeners=[];var x=!!(S||{}).perfEvtsSendAll;(0,v.Z)(h,this,function(y){y[p.g]=function(b){y.listeners[p.MW](b)},y[p.n7]=function(b){for(var B=(0,w.UA)(y[p.dE],b);B>-1;)y.listeners[p.cb](B,1),B=(0,w.UA)(y[p.dE],b)},y[_.uC]=function(b){I(y[p.dE],_.uC,!0,function(B){B[_.uC](b)})},y[_.$F]=function(b,B){I(y[p.dE],_.$F,!0,function(F){F[_.$F](b,B)})},y[_.f_]=function(b,B){I(y[p.dE],_.f_,B,function(F){F[_.f_](b,B)})},y[_.C$]=function(b){b&&(x||!b[p.PL]())&&I(y[p.dE],_.C$,!1,function(B){b[p.d]?setTimeout(function(){return B[_.C$](b)},0):B[_.C$](b)})}})}return a(h,"NotificationManager"),h.__ieDyn=1,h}()},9288:(fe,l,E)=>{"use strict";E.d(l,{zn:()=>x,Jk:()=>y,Lm:()=>B,j5:()=>V});var v=E(1679),p=E(8096),w=E(6708),_=E(6041),I="ctx",D="ParentContextKey",h="ChildrenContextKey",S=null,x=function(){function G(le,M,W){var U=this,A=!1;if(U.start=(0,w.m6)(),U[p.I]=le,U[p.d]=W,U[p.PL]=function(){return!1},(0,w.mf)(M)){var L;A=(0,w.l_)(U,"payload",function(){return!L&&(0,w.mf)(M)&&(L=M(),M=null),L})}U[p.T]=function($){return $?$===G[D]||$===G[h]?U[$]:(U[I]||{})[$]:null},U[p.wu]=function($,te){if($)if($===G[D])U[$]||(U[p.PL]=function(){return!0}),U[$]=te;else if($===G[h])U[$]=te;else{var Z=U[I]=U[I]||{};Z[$]=te}},U[p.Km]=function(){var $=0,te=U[p.T](G[h]);if((0,w.kJ)(te))for(var Z=0;Z<te[p.R5];Z++){var re=te[Z];re&&($+=re[p.Z_])}U[p.Z_]=(0,w.m6)()-U.start,U.exTime=U[p.Z_]-$,U[p.Km]=function(){},!A&&(0,w.mf)(M)&&(U.payload=M())}}return a(G,"PerfEvent"),G.ParentContextKey="parent",G.ChildrenContextKey="childEvts",G}(),y=function(){function G(le){this.ctx={},(0,v.Z)(G,this,function(M){M.create=function(W,U,A){return new x(W,U,A)},M.fire=function(W){W&&(W[p.Km](),le&&(0,w.mf)(le[_.C$])&&le[_.C$](W))},M[p.wu]=function(W,U){if(W){var A=M[I]=M[I]||{};A[W]=U}},M[p.T]=function(W){return(M[I]||{})[W]}})}return a(G,"PerfManager"),G.__ieDyn=1,G}(),b="CoreUtils.doPerf";function B(G,le,M,W,U){if(G){var A=G;if(A[_.kl]&&(A=A[_.kl]()),A){var L=void 0,$=A[p.T](b);try{if(L=A.create(le(),W,U),L){if($&&L[p.wu]&&(L[p.wu](x[D],$),$[p.T]&&$[p.wu])){var te=$[p.T](x[h]);te||(te=[],$[p.wu](x[h],te)),te[p.MW](L)}return A[p.wu](b,L),M(L)}}catch(Z){L&&L[p.wu]&&L[p.wu]("exception",Z)}finally{L&&A.fire(L),A[p.wu](b,$)}}}return M()}a(B,"doPerf");function F(G){S=G}a(F,"setGblPerfMgr");function V(){return S}a(V,"getGblPerfMgr")},1589:(fe,l,E)=>{"use strict";E.d(l,{CD:()=>V,Bt:()=>G,xy:()=>le,jV:()=>M,Vi:()=>U});var v=E(8096),p=E(5018),w=E(7630),_=E(6708),I=E(6041),D=E(9288),h=E(3833),S="TelemetryPluginChain",x="_hasRun",y="_getTelCtx",b=0;function B(A,L,$){for(;A;){if(A[v.TO]()===$)return A;A=A[v.W2]()}return M([$],L[v.TC]||{},L)}a(B,"_getNextProxyStart");function F(A,L,$,te){var Z=null,re=[];te!==null&&(Z=te?B(A,$,te):A);var ce={_next:ie,ctx:{core:function(){return $},diagLog:function(){return(0,p.vH)($,L)},getCfg:function(){return L},getExtCfg:me,getConfig:j,hasNext:function(){return!!Z},getNext:function(){return Z},setNext:function(_e){Z=_e},iterate:Ve,onComplete:Se}};function Se(_e,he){for(var Q=[],ue=2;ue<arguments.length;ue++)Q[ue-2]=arguments[ue];_e&&re[v.MW]({func:_e,self:(0,_.o8)(he)?ce.ctx:he,args:Q})}a(Se,"_addOnComplete");function ie(){var _e=Z;if(Z=_e?_e[v.W2]():null,!_e){var he=re;he&&he[v.R5]>0&&((0,_.tO)(he,function(Q){try{Q.func[v._S](Q.self,Q.args)}catch(ue){(0,p.kP)($[v.eZ],2,73,"Unexpected Exception during onComplete - "+(0,w.eU)(ue))}}),re=[])}return _e}a(ie,"_moveNext");function me(_e,he,Q){he===void 0&&(he={}),Q===void 0&&(Q=0);var ue;if(L){var De=L[I.Zh];De&&_e&&(ue=De[_e])}if(!ue)ue=he;else if((0,_.Kn)(he)&&Q!==0){var Fe=(0,_.mm)(!0,he,ue);L&&Q===2&&(0,_.rW)(he,function(ne){if((0,_.le)(Fe[ne])){var Ge=L[ne];(0,_.le)(Ge)||(Fe[ne]=Ge)}}),ue=Fe}return ue}a(me,"_getExtCfg");function j(_e,he,Q){Q===void 0&&(Q=!1);var ue,De=me(_e,null);return De&&!(0,_.le)(De[he])?ue=De[he]:L&&!(0,_.le)(L[he])&&(ue=L[he]),(0,_.le)(ue)?Q:ue}a(j,"_getConfig");function Ve(_e){for(var he;he=ce._next();){var Q=he[v.TO]();Q&&_e(Q)}}return a(Ve,"_iterateChain"),ce}a(F,"_createInternalContext");function V(A,L,$,te){var Z=F(A,L,$,te),re=Z.ctx;function ce(ie){var me=Z._next();return me&&me[I.hL](ie,re),!me}a(ce,"_processNext");function Se(ie,me){return ie===void 0&&(ie=null),(0,_.kJ)(ie)&&(ie=M(ie,L,$,me)),V(ie||re[v.W2](),L,$,me)}return a(Se,"_createNew"),re[v.uL]=ce,re[v.zV]=Se,re}a(V,"createProcessTelemetryContext");function G(A,L,$){var te=L[v.TC]||{},Z=F(A,te,L,$),re=Z.ctx;function ce(ie){var me=Z._next();return me&&me.unload(re,ie),!me}a(ce,"_processNext");function Se(ie,me){return ie===void 0&&(ie=null),(0,_.kJ)(ie)&&(ie=M(ie,te,L,me)),G(ie||re[v.W2](),L,me)}return a(Se,"_createNew"),re[v.uL]=ce,re[v.zV]=Se,re}a(G,"createProcessTelemetryUnloadContext");function le(A,L,$){var te=L[v.TC]||{},Z=F(A,te,L,$),re=Z.ctx;function ce(ie){return re.iterate(function(me){(0,_.mf)(me[v.Tu])&&me[v.Tu](re,ie)})}a(ce,"_processNext");function Se(ie,me){return ie===void 0&&(ie=null),(0,_.kJ)(ie)&&(ie=M(ie,te,L,me)),le(ie||re[v.W2](),L,me)}return a(Se,"_createNew"),re[v.uL]=ce,re[v.zV]=Se,re}a(le,"createProcessTelemetryUpdateContext");function M(A,L,$,te){var Z=null,re=!te;if((0,_.kJ)(A)&&A[v.R5]>0){var ce=null;(0,_.tO)(A,function(Se){if(!re&&te===Se&&(re=!0),re&&Se&&(0,_.mf)(Se[I.hL])){var ie=W(Se,L,$);Z||(Z=ie),ce&&ce._setNext(ie),ce=ie}})}return te&&!Z?M([te],L,$):Z}a(M,"createTelemetryProxyChain");function W(A,L,$){var te=null,Z=(0,_.mf)(A[I.hL]),re=(0,_.mf)(A[v.Jd]),ce;A?ce=A[v.pZ]+"-"+A[I.yi]+"-"+b++:ce="Unknown-0-"+b++;var Se={getPlugin:function(){return A},getNext:function(){return te},processTelemetry:j,unload:Ve,update:_e,_id:ce,_setNext:function(he){te=he}};function ie(){var he;return A&&(0,_.mf)(A[y])&&(he=A[y]()),he||(he=V(Se,L,$)),he}a(ie,"_getTelCtx");function me(he,Q,ue,De,Fe){var ne=!1,Ge=A?A[v.pZ]:S,et=he[x];return et||(et=he[x]={}),he.setNext(te),A&&(0,D.Lm)(he[I.oV](),function(){return Ge+":"+ue},function(){et[ce]=!0;try{var st=te?te._id:I.qS;st&&(et[st]=!1),ne=Q(he)}catch(ee){var Y=te?et[te._id]:!0;Y&&(ne=!0),(!te||!Y)&&(0,p.kP)(he[v.mc](),1,73,"Plugin ["+Ge+"] failed during "+ue+" - "+(0,w.eU)(ee)+", run flags: "+(0,w.eU)(et))}},De,Fe),ne}a(me,"_processChain");function j(he,Q){Q=Q||ie();function ue(De){if(!A||!Z)return!1;var Fe=(0,h.OY)(A);return Fe[v.fi]||Fe[I.mE]?!1:(re&&A[v.Jd](te),A[I.hL](he,De),!0)}a(ue,"_callProcessTelemetry"),me(Q,ue,"processTelemetry",function(){return{item:he}},!he.sync)||Q[v.uL](he)}a(j,"_processTelemetry");function Ve(he,Q){function ue(){var De=!1;if(A){var Fe=(0,h.OY)(A),ne=A[I.oV]||Fe[I.oV];A&&(!ne||ne===he.core())&&!Fe[v.fi]&&(Fe[I.oV]=null,Fe[v.fi]=!0,Fe[v.yl]=!1,A[v.fi]&&A[v.fi](he,Q)===!0&&(De=!0))}return De}a(ue,"_callTeardown"),me(he,ue,"unload",function(){},Q[v.d])||he[v.uL](Q)}a(Ve,"_unloadPlugin");function _e(he,Q){function ue(){var De=!1;if(A){var Fe=(0,h.OY)(A),ne=A[I.oV]||Fe[I.oV];A&&(!ne||ne===he.core())&&!Fe[v.fi]&&A[v.Tu]&&A[v.Tu](he,Q)===!0&&(De=!0)}return De}a(ue,"_callUpdate"),me(he,ue,"update",function(){},!1)||he[v.uL](Q)}return a(_e,"_updatePlugin"),(0,_.FL)(Se)}a(W,"createTelemetryPluginProxy");var U=function(){function A(L,$,te,Z){var re=this,ce=V(L,$,te,Z);(0,_.Vb)(re,ce,(0,_.FY)(ce))}return a(A,"ProcessTelemetryContext"),A}()},4878:(fe,l,E)=>{"use strict";E.d(l,{az:()=>B,_l:()=>F,CN:()=>V,F6:()=>G,pZ:()=>le});var v=E(8096),p=E(7630),w=E(6708),_=E(6041),I=4294967296,D=4294967295,h=!1,S=123456789,x=987654321;function y(M){M<0&&(M>>>=0),S=123456789+M&D,x=987654321-M&D,h=!0}a(y,"_mwcSeed");function b(){try{var M=(0,w.m6)()&2147483647;y((Math.random()*I^M)+M)}catch(W){}}a(b,"_autoSeedMwc");function B(M){return M>0?Math.floor(F()/D*(M+1))>>>0:0}a(B,"randomValue");function F(M){var W=0,U=(0,p.MX)()||(0,p.gz)();return U&&U.getRandomValues&&(W=U.getRandomValues(new Uint32Array(1))[0]&D),W===0&&(0,p.w1)()&&(h||b(),W=G()&D),W===0&&(W=Math.floor(I*Math.random()|0)),M||(W>>>=0),W}a(F,"random32");function V(M){M?y(M):b()}a(V,"mwcRandomSeed");function G(M){x=36969*(x&65535)+(x>>16)&D,S=18e3*(S&65535)+(S>>16)&D;var W=(x<<16)+(S&65535)>>>0&D|0;return M||(W>>>=0),W}a(G,"mwcRandom32");function le(M){M===void 0&&(M=22);for(var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=F()>>>0,A=0,L=_.qS;L[v.R5]<M;)A++,L+=W.charAt(U&63),U>>>=6,A===5&&(U=(F()<<2&4294967295|U&3)>>>0,A=0);return L}a(le,"newId")},3833:(fe,l,E)=>{"use strict";E.d(l,{OY:()=>h,bP:()=>S,AA:()=>x,Yn:()=>b});var v=E(8096),p=E(5883),w=E(6708),_=E(6041),I=E(4206),D=(0,p.K)("plugin");function h(B){return D.get(B,"state",{},!0)}a(h,"_getPluginState");function S(B,F){for(var V=[],G=null,le=B[v.W2](),M;le;){var W=le[v.TO]();if(W){G&&(0,w.mf)(G[v.Jd])&&(0,w.mf)(W[_.hL])&&G[v.Jd](W);var U=!1;(0,w.mf)(W[v.yl])?U=W[v.yl]():(M=h(W),U=M[v.yl]),U||V[v.MW](W),G=W,le=le[v.W2]()}}(0,w.tO)(V,function(A){var L=B[_.oV]();A[v.VL](B.getCfg(),L,F,B[v.W2]()),M=h(A),!A[_.oV]&&!M[_.oV]&&(M[_.oV]=L),M[v.yl]=!0,delete M[v.fi]})}a(S,"initializePlugins");function x(B){return B.sort(function(F,V){var G=0;if(V){var le=(0,w.mf)(V[_.hL]);(0,w.mf)(F[_.hL])?G=le?F[_.yi]-V[_.yi]:1:le&&(G=-1)}else G=F?1:-1;return G})}a(x,"sortPlugins");function y(B,F,V,G){var le=0;function M(){for(;le<B[_DYN_LENGTH];){var W=B[le++];if(W){var U=W._doUnload||W[_DYN__DO_TEARDOWN];if(isFunction(U)&&U[_DYN_CALL](W,F,V,M)===!0)return!0}}}return a(M,"_doUnload"),M()}a(y,"unloadComponents");function b(B){var F={};return{getName:function(){return F[v.I]},setName:function(V){B&&B.setName(V),F[v.I]=V},getTraceId:function(){return F[v.nY]},setTraceId:function(V){B&&B.setTraceId(V),(0,I.jN)(V)&&(F[v.nY]=V)},getSpanId:function(){return F[v._d]},setSpanId:function(V){B&&B.setSpanId(V),(0,I.Lc)(V)&&(F[v._d]=V)},getTraceFlags:function(){return F[v.T0]},setTraceFlags:function(V){B&&B.setTraceFlags(V),F[v.T0]=V}}}a(b,"createDistributedTraceContext")},310:(fe,l,E)=>{"use strict";E.d(l,{Y:()=>I});var v=E(8096),p=E(5018),w=E(7630),_=E(6708);function I(){var D=[];function h(x){x&&D[v.MW](x)}a(h,"_addHandler");function S(x,y){(0,_.tO)(D,function(b){try{b(x,y)}catch(B){(0,p.kP)(x[v.mc](),2,73,"Unexpected error calling unload handler - "+(0,w.eU)(B))}}),D=[]}return a(S,"_runHandlers"),{add:h,run:S}}a(I,"createUnloadHandlerContainer")},4206:(fe,l,E)=>{"use strict";E.d(l,{SU:()=>V,j_:()=>G,jN:()=>le,Lc:()=>M,J6:()=>W,Pn:()=>U,aR:()=>A,lq:()=>L});var v=E(8096),p=E(5843),w=E(7630),_=E(6708),I=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,D="00",h="ff",S="00000000000000000000000000000000",x="0000000000000000",y=1;function b($,te,Z){return $&&$[v.R5]===te&&$!==Z?!!$.match(/^[\da-f]*$/):!1}a(b,"_isValid");function B($,te,Z){return b($,te)?$:Z}a(B,"_formatValue");function F($){(isNaN($)||$<0||$>255)&&($=1);for(var te=$.toString(16);te[v.R5]<2;)te="0"+te;return te}a(F,"_formatFlags");function V($,te,Z,re){var ce;return ce={},ce[v.PA]=b(re,2,h)?re:D,ce[v.nY]=le($)?$:(0,p.DO)(),ce.spanId=M(te)?te:(0,p.DO)()[v.Jn](0,16),ce.traceFlags=Z>=0&&Z<=255?Z:1,ce}a(V,"createTraceParent");function G($){var te;if(!$||((0,_.kJ)($)&&($=$[0]||""),!$||!(0,_.HD)($)||$[v.R5]>8192))return null;var Z=I.exec((0,_.nd)($));return!Z||Z[1]===h||Z[2]===S||Z[3]===x?null:(te={},te[v.PA]=Z[1],te[v.nY]=Z[2],te[v._d]=Z[3],te[v.T0]=parseInt(Z[4],16),te)}a(G,"parseTraceParent");function le($){return b($,32,S)}a(le,"isValidTraceId");function M($){return b($,16,x)}a(M,"isValidSpanId");function W($){return!(!$||!b($[v.PA],2,h)||!b($[v.nY],32,S)||!b($[v._d],16,x)||!b(F($[v.T0]),2))}a(W,"isValidTraceParent");function U($){return W($)?($[v.T0]&y)===y:!1}a(U,"isSampledFlag");function A($){if($){var te=F($[v.T0]);b(te,2)||(te="01");var Z=$[v.PA]||D;return Z!=="00"&&Z!=="ff"&&(Z=D),"".concat(Z,"-").concat(B($.traceId,32,S),"-").concat(B($.spanId,16,x),"-").concat(te)}return""}a(A,"formatTraceParent");function L(){var $="traceparent",te=G((0,w.ed)($));return te||(te=G((0,w.pI)($))),te}a(L,"findW3cTraceParent")},8096:(fe,l,E)=>{"use strict";E.d(l,{VL:()=>v,I:()=>p,tb:()=>w,pZ:()=>_,MW:()=>I,yl:()=>D,TC:()=>h,p$:()=>S,eZ:()=>x,R5:()=>y,Z_:()=>b,uL:()=>B,SD:()=>F,g:()=>V,n7:()=>G,LS:()=>le,Fc:()=>M,TO:()=>W,kL:()=>U,iC:()=>A,cb:()=>L,fi:()=>$,Gc:()=>te,gU:()=>Z,d:()=>re,F3:()=>ce,Tu:()=>Se,W2:()=>ie,mc:()=>me,Jd:()=>j,zV:()=>Ve,Lk:()=>_e,ou:()=>he,zc:()=>Q,qV:()=>ue,w6:()=>De,$h:()=>Fe,Jn:()=>ne,xv:()=>Ge,ZV:()=>et,i7:()=>st,Fr:()=>Y,jk:()=>ee,T1:()=>ae,_S:()=>ye,P6:()=>ke,Kn:()=>Ue,dE:()=>pe,PL:()=>Ae,T:()=>Me,wu:()=>Ze,Km:()=>Oe,nY:()=>$e,_d:()=>pt,T0:()=>ot,PA:()=>Re});var v="initialize",p="name",w="getNotifyMgr",_="identifier",I="push",D="isInitialized",h="config",S="instrumentationKey",x="logger",y="length",b="time",B="processNext",F="getProcessTelContext",V="addNotificationListener",G="removeNotificationListener",le="stopPollingInternalLogs",M="onComplete",W="getPlugin",U="flush",A="_extensions",L="splice",$="teardown",te="messageId",Z="message",re="isAsync",ce="_doTeardown",Se="update",ie="getNext",me="diagLog",j="setNextPlugin",Ve="createNew",_e="cookieCfg",he="indexOf",Q="substring",ue="userAgent",De="split",Fe="setEnabled",ne="substr",Ge="nodeType",et="apply",st="replace",Y="enableDebugExceptions",ee="logInternalMessage",ae="toLowerCase",ye="call",ke="type",Ue="handler",pe="listeners",Ae="isChildEvt",Me="getCtx",Ze="setCtx",Oe="complete",$e="traceId",pt="spanId",ot="traceFlags",Re="version"},4392:(fe,l,E)=>{"use strict";E.d(l,{cb:()=>v,fK:()=>p,jA:()=>w,hB:()=>_,bO:()=>I,Pw:()=>h,V4:()=>S,rl:()=>x,yu:()=>y,RJ:()=>b,CY:()=>B});var v="function",p="object",w="undefined",_="prototype",I="hasOwnProperty",D="default",h=Object,S=h[_],x=h.assign,y=h.create,b=h.defineProperty,B=S[I]},2091:(fe,l,E)=>{"use strict";E.d(l,{Rd:()=>w,ZU:()=>_,pu:()=>I});var v=E(4392),p=null;function w(D){D===void 0&&(D=!0);var h=D===!1?null:p;return h||(typeof globalThis!==v.jA&&(h=globalThis),!h&&typeof self!==v.jA&&(h=self),!h&&typeof window!==v.jA&&(h=window),!h&&typeof E.g!==v.jA&&(h=E.g),p=h),h}a(w,"getGlobal");function _(D){throw new TypeError(D)}a(_,"throwTypeError");function I(D){var h=v.yu;if(h)return h(D);if(D==null)return{};var S=typeof D;S!==v.fK&&S!==v.cb&&_("Object prototype may only be an Object:"+D);function x(){}return a(x,"tmpFunc"),x[v.hB]=D,new x}a(I,"objCreateFn")},1088:(fe,l,E)=>{"use strict";E.d(l,{uc:()=>B,ne:()=>V,$h:()=>Z});var v=E(4392),p=E(2091),w=((0,p.Rd)()||{}).Symbol,_=((0,p.Rd)()||{}).Reflect,I=!!w,D=!!_,h="decorate",S="metadata",x="getOwnPropertySymbols",y="iterator",b=a(function(ie){for(var me,j=1,Ve=arguments.length;j<Ve;j++){me=arguments[j];for(var _e in me)v.V4[v.bO].call(me,_e)&&(ie[_e]=me[_e])}return ie},"__objAssignFnImpl"),B=v.rl||b,F=a(function(ie,me){return F=v.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Ve){j.__proto__=Ve}||function(j,Ve){for(var _e in Ve)Ve[v.bO](_e)&&(j[_e]=Ve[_e])},F(ie,me)},"extendStaticsFn");function V(ie,me){typeof me!==v.cb&&me!==null&&(0,p.ZU)("Class extends value "+String(me)+" is not a constructor or null"),F(ie,me);function j(){this.constructor=ie}a(j,"__"),ie[v.hB]=me===null?(0,p.pu)(me):(j[v.hB]=me[v.hB],new j)}a(V,"__extendsFn");function G(ie,me){var j={};for(var Ve in ie)ObjHasOwnProperty.call(ie,Ve)&&me.indexOf(Ve)<0&&(j[Ve]=ie[Ve]);if(ie!=null&&typeof ObjClass[x]===strShimFunction)for(var _e=0,he=ObjClass[x](ie);_e<he.length;_e++)me.indexOf(he[_e])<0&&ObjProto.propertyIsEnumerable.call(ie,he[_e])&&(j[he[_e]]=ie[he[_e]]);return j}a(G,"__restFn");function le(ie,me,j,Ve){var _e=arguments.length,he=_e<3?me:Ve===null?Ve=ObjClass.getOwnPropertyDescriptor(me,j):Ve,Q;if(D&&typeof _[h]===strShimFunction)he=_[h](ie,me,j,Ve);else for(var ue=ie.length-1;ue>=0;ue--)(Q=ie[ue])&&(he=(_e<3?Q(he):_e>3?Q(me,j,he):Q(me,j))||he);return _e>3&&he&&ObjDefineProperty(me,j,he),he}a(le,"__decorateFn");function M(ie,me){return function(j,Ve){me(j,Ve,ie)}}a(M,"__paramFn");function W(ie,me){if(D&&_[S]===strShimFunction)return _[S](ie,me)}a(W,"__metadataFn");function U(ie,me){for(var j in ie)j!==strDefault&&!ObjHasOwnProperty.call(me,j)&&A(me,ie,j)}a(U,"__exportStarFn");function A(ie,me,j,Ve){Ve===void 0&&(Ve=j),ObjCreate?ObjDefineProperty(ie,Ve,{enumerable:!0,get:function(){return me[j]}}):ie[Ve]=me[j]}a(A,"__createBindingFn");function L(ie){var me=typeof w===strShimFunction&&w[y],j=me&&ie[me],Ve=0;if(j)return j.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&Ve>=ie.length&&(ie=void 0),{value:ie&&ie[Ve++],done:!ie}}};throwTypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}a(L,"__valuesFn");function $(ie,me){var j=typeof w===strShimFunction&&ie[w[y]];if(!j)return ie;var Ve=j.call(ie),_e,he=[],Q;try{for(;(me===void 0||me-- >0)&&!(_e=Ve.next()).done;)he.push(_e.value)}catch(ue){Q={error:ue}}finally{try{_e&&!_e.done&&(j=Ve.return)&&j.call(Ve)}finally{if(Q)throw Q.error}}return he}a($,"__readFn");function te(){for(var ie=arguments,me=0,j=0,Ve=ie.length;j<Ve;j++)me+=ie[j].length;for(var _e=Array(me),he=0,j=0;j<Ve;j++)for(var Q=ie[j],ue=0,De=Q.length;ue<De;ue++,he++)_e[he]=Q[ue];return _e}a(te,"__spreadArraysFn");function Z(ie,me){for(var j=0,Ve=me.length,_e=ie.length;j<Ve;j++,_e++)ie[_e]=me[j];return ie}a(Z,"__spreadArrayFn");function re(ie,me){return ObjDefineProperty?ObjDefineProperty(ie,"raw",{value:me}):ie.raw=me,ie}a(re,"__makeTemplateObjectFn");function ce(ie){if(ie&&ie.__esModule)return ie;var me={};if(ie!=null)for(var j in ie)j!==strDefault&&Object.prototype.hasOwnProperty.call(ie,j)&&A(me,ie,j);return ObjCreate?ObjDefineProperty(me,strDefault,{enumerable:!0,value:ie}):me[strDefault]=ie,me}a(ce,"__importStarFn");function Se(ie){return ie&&ie.__esModule?ie:{strDefault:ie}}a(Se,"__importDefaultFn")},3268:(fe,l,E)=>{"use strict";E.r(l),E.d(l,{AppInsightsCore:()=>za.F,ApplicationInsights:()=>as,CoreUtils:()=>xr.Tr,Sender:()=>vo,SeverityLevel:()=>is,_InternalMessageId:()=>xa.v,arrForEach:()=>O.tO,isNullOrUndefined:()=>O.le,proxyFunctions:()=>O.Vb,throwError:()=>O._y});var v=E(1679),p=E(1088),w="AppInsightsPropertiesPlugin",_="AppInsightsChannelPlugin",I="ApplicationInsightsAnalytics",D="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",h="sampleRate",S="ProcessLegacy",x="http.method",y="https://dc.services.visualstudio.com",b="/v2/track",B="not_specified",F="iKey",V="split",G="length",le="toLowerCase",M="ingestionendpoint",W="toString",U="removeItem",A="name",L="message",$="count",te="preTriggerDate",Z="disabled",re="interval",ce="daysOfMonth",Se="date",ie="getUTCDate",me="stringify",j="pathname",Ve="correlationHeaderExcludePatterns",_e="indexOf",he="extensionConfig",Q="exceptions",ue="parsedStack",De="properties",Fe="measurements",ne="sizeInBytes",Ge="typeName",et="severityLevel",st="problemGroup",Y="isManual",ee="CreateFromInterface",ae="assembly",ye="hasFullStack",ke="level",Ue="method",pe="fileName",Ae="line",Me="duration",Ze="receivedResponse",Oe="substring",$e="sanitizeKeyAndAddUniqueness",pt="sanitizeException",ot="sanitizeProperties",Re="sanitizeMeasurements",O=E(6708),be=E(5018),Xe=E(7630),Jt;function yr(N,C,k){var q=C[G],ge=br(N,C);if(ge[G]!==q){for(var Ie=0,Ke=ge;k[Ke]!==void 0;)Ie++,Ke=ge[Oe](0,150-3)+It(Ie);ge=Ke}return ge}a(yr,"dataSanitizeKeyAndAddUniqueness");function br(N,C){var k;return C&&(C=(0,O.nd)(C[W]()),C[G]>150&&(k=C[Oe](0,150),(0,be.kP)(N,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:C},!0))),k||C}a(br,"dataSanitizeKey");function P(N,C,k){k===void 0&&(k=1024);var q;return C&&(k=k||1024,C=(0,O.nd)(C),C.toString()[G]>k&&(q=C[W]()[Oe](0,k),(0,be.kP)(N,2,61,"string value is too long. It has been truncated to "+k+" characters.",{value:C},!0))),q||C}a(P,"dataSanitizeString");function d(N,C){return ht(N,C,2048,66)}a(d,"dataSanitizeUrl");function m(N,C){var k;return C&&C[G]>32768&&(k=C[Oe](0,32768),(0,be.kP)(N,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:C},!0)),k||C}a(m,"dataSanitizeMessage");function J(N,C){var k;if(C){var q=""+C;q[G]>32768&&(k=q[Oe](0,32768),(0,be.kP)(N,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:C},!0))}return k||C}a(J,"dataSanitizeException");function de(N,C){if(C){var k={};(0,O.rW)(C,function(q,ge){if((0,O.Kn)(ge)&&(0,Xe.nS)())try{ge=(0,Xe.xA)()[me](ge)}catch(Ie){(0,be.kP)(N,2,49,"custom property is not valid",{exception:Ie},!0)}ge=P(N,ge,8192),q=yr(N,q,k),k[q]=ge}),C=k}return C}a(de,"dataSanitizeProperties");function Ne(N,C){if(C){var k={};(0,O.rW)(C,function(q,ge){q=yr(N,q,k),k[q]=ge}),C=k}return C}a(Ne,"dataSanitizeMeasurements");function ve(N,C){return C&&ht(N,C,128,69)[W]()}a(ve,"dataSanitizeId");function ht(N,C,k,q){var ge;return C&&(C=(0,O.nd)(C),C[G]>k&&(ge=C[Oe](0,k),(0,be.kP)(N,2,q,"input is too long, it has been truncated to "+k+" characters.",{data:C},!0))),ge||C}a(ht,"dataSanitizeInput");function It(N){var C="00"+N;return C.substr(C[G]-3)}a(It,"dsPadNumber");var Pt=(Jt={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Jt[$e]=yr,Jt.sanitizeKey=br,Jt.sanitizeString=P,Jt.sanitizeUrl=d,Jt.sanitizeMessage=m,Jt[pt]=J,Jt[ot]=de,Jt[Re]=Ne,Jt.sanitizeId=ve,Jt.sanitizeInput=ht,Jt.padNumber=It,Jt.trim=O.nd,Jt),Ot=function(){function N(C,k,q,ge){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Ie=this;Ie.ver=2,Ie[A]=P(C,k)||B,Ie[De]=de(C,q),Ie[Fe]=Ne(C,ge)}return a(N,"Event"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Event",N.dataType="EventData",N}(),Vt=function(){function N(C,k,q,ge,Ie){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ke=this;Ke.ver=2,k=k||B,Ke[L]=m(C,k),Ke[De]=de(C,ge),Ke[Fe]=Ne(C,Ie),q&&(Ke[et]=q)}return a(N,"Trace"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Message",N.dataType="MessageData",N}(),Hr="";function mn(N,C){return C===void 0&&(C=!1),N==null?C:N.toString()[le]()==="true"}a(mn,"stringToBoolOrDefault");function an(N){(isNaN(N)||N<0)&&(N=0),N=Math.round(N);var C=Hr+N%1e3,k=Hr+Math.floor(N/1e3)%60,q=Hr+Math.floor(N/(1e3*60))%60,ge=Hr+Math.floor(N/(1e3*60*60))%24,Ie=Math.floor(N/(1e3*60*60*24));return C=C[G]===1?"00"+C:C[G]===2?"0"+C:C,k=k[G]<2?"0"+k:k,q=q[G]<2?"0"+q:q,ge=ge[G]<2?"0"+ge:ge,(Ie>0?Ie+".":Hr)+ge+":"+q+":"+k+"."+C}a(an,"msToTimeSpan");function Vr(N,C){var k=null;return(0,O.tO)(N,function(q){if(q.identifier===C)return k=q,-1}),k}a(Vr,"getExtensionByName");function On(N,C,k,q,ge){return!ge&&(0,O.HD)(N)&&(N==="Script error."||N==="Script error")}a(On,"isCrossOriginError");var yn=function(){function N(C,k,q,ge,Ie,Ke,tt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=ve(C,tt),Dt.url=d(C,q),Dt[A]=P(C,k)||B,isNaN(ge)||(Dt[Me]=an(ge)),Dt[De]=de(C,Ie),Dt[Fe]=Ne(C,Ke)}return a(N,"PageView"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",N.dataType="PageviewData",N}(),$n=function(){function N(C,k,q,ge,Ie,Ke,tt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=d(C,q),Dt[A]=P(C,k)||B,Dt[De]=de(C,Ie),Dt[Fe]=Ne(C,Ke),tt&&(Dt.domProcessing=tt.domProcessing,Dt[Me]=tt[Me],Dt.networkConnect=tt.networkConnect,Dt.perfTotal=tt.perfTotal,Dt[Ze]=tt[Ze],Dt.sentRequest=tt.sentRequest)}return a(N,"PageViewPerformance"),N.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",N.dataType="PageviewPerformanceData",N}(),In="<no_method>",Dr="error",tn="stack",on="stackDetails",ri="errorSrc",ni="message",ii="description";function An(N,C){var k=N;return k&&!(0,O.HD)(k)&&(JSON&&JSON[me]?(k=JSON[me](N),C&&(!k||k==="{}")&&((0,O.mf)(N[W])?k=N[W]():k=""+N)):k=""+N+" - (Missing JSON.stringify)"),k||""}a(An,"_stringify");function z(N,C){var k=N;return N&&(k&&!(0,O.HD)(k)&&(k=N[ni]||N[ii]||k),k&&!(0,O.HD)(k)&&(k=An(k,!0)),N.filename&&(k=k+" @"+(N.filename||"")+":"+(N.lineno||"?")+":"+(N.colno||"?"))),C&&C!=="String"&&C!=="Object"&&C!=="Error"&&(k||"")[_e](C)===-1&&(k=C+": "+k),k||""}a(z,"_formatMessage");function we(N){try{if((0,O.Kn)(N))return"hasFullStack"in N&&"typeName"in N}catch(C){}return!1}a(we,"_isExceptionDetailsInternal");function Pe(N){try{if((0,O.Kn)(N))return"ver"in N&&"exceptions"in N&&"properties"in N}catch(C){}return!1}a(Pe,"_isExceptionInternal");function ze(N){return N&&N.src&&(0,O.HD)(N.src)&&N.obj&&(0,O.kJ)(N.obj)}a(ze,"_isStackDetails");function at(N){var C=N||"";(0,O.HD)(C)||((0,O.HD)(C[tn])?C=C[tn]:C=""+C);var k=C[V](`
`);return{src:C,obj:k}}a(at,"_convertStackObj");function nt(N){for(var C=[],k=N[V](`
`),q=0;q<k[G];q++){var ge=k[q];k[q+1]&&(ge+="@"+k[q+1],q++),C.push(ge)}return{src:N,obj:C}}a(nt,"_getOperaStack");function mt(N){var C=null;if(N)try{if(N[tn])C=at(N[tn]);else if(N[Dr]&&N[Dr][tn])C=at(N[Dr][tn]);else if(N.exception&&N.exception[tn])C=at(N.exception[tn]);else if(ze(N))C=N;else if(ze(N[on]))C=N[on];else if(window&&window.opera&&N[ni])C=nt(N[L]);else if(N.reason&&N.reason[tn])C=at(N.reason[tn]);else if((0,O.HD)(N))C=at(N);else{var k=N[ni]||N[ii]||"";(0,O.HD)(N[ri])&&(k&&(k+=`
`),k+=" from "+N[ri]),k&&(C=at(k))}}catch(q){C=at(q)}return C||{src:"",obj:null}}a(mt,"_getStackFromErrorObj");function Rt(N){var C="";return N&&(N.obj?(0,O.tO)(N.obj,function(k){C+=k+`
`}):C=N.src||""),C}a(Rt,"_formatStackTrace");function Ut(N){var C,k=N.obj;if(k&&k[G]>0){C=[];var q=0,ge=0;(0,O.tO)(k,function(Or){var xn=Or[W]();if(Yt.regex.test(xn)){var je=new Yt(xn,q++);ge+=je[ne],C.push(je)}});var Ie=32*1024;if(ge>Ie)for(var Ke=0,tt=C[G]-1,Dt=0,bt=Ke,jt=tt;Ke<tt;){var cr=C[Ke][ne],qr=C[tt][ne];if(Dt+=cr+qr,Dt>Ie){var fr=jt-bt+1;C.splice(bt,fr);break}bt=Ke,jt=tt,Ke++,tt--}}return C}a(Ut,"_parseStack");function rr(N){var C="";if(N&&(C=N.typeName||N[A]||"",!C))try{var k=/function (.{1,200})\(/,q=k.exec(N.constructor[W]());C=q&&q[G]>1?q[1]:""}catch(ge){}return C}a(rr,"_getErrorType");function Tt(N){if(N)try{if(!(0,O.HD)(N)){var C=rr(N),k=An(N,!1);return(!k||k==="{}")&&(N[Dr]&&(N=N[Dr],C=rr(N)),k=An(N,!0)),k[_e](C)!==0&&C!=="String"?C+":"+k:k}}catch(q){}return""+(N||"")}a(Tt,"_formatErrorCode");var qt=function(){function N(C,k,q,ge,Ie,Ke){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var tt=this;tt.ver=2,Pe(k)?(tt[Q]=k[Q]||[],tt[De]=k[De],tt[Fe]=k[Fe],k[et]&&(tt[et]=k[et]),k.id&&(tt.id=k.id),k[st]&&(tt[st]=k[st]),(0,O.le)(k[Y])||(tt[Y]=k[Y])):(q||(q={}),tt[Q]=[new Kt(C,k,q)],tt[De]=de(C,q),tt[Fe]=Ne(C,ge),Ie&&(tt[et]=Ie),Ke&&(tt.id=Ke))}return a(N,"Exception"),N.CreateAutoException=function(C,k,q,ge,Ie,Ke,tt,Dt){var bt,jt=rr(Ie||Ke||C);return bt={},bt[L]=z(C,jt),bt.url=k,bt.lineNumber=q,bt.columnNumber=ge,bt.error=Tt(Ie||Ke||C),bt.evt=Tt(Ke||C),bt[Ge]=jt,bt.stackDetails=mt(tt||Ie||Ke),bt.errorSrc=Dt,bt},N.CreateFromInterface=function(C,k,q,ge){var Ie=k[Q]&&(0,O.Mr)(k[Q],function(tt){return Kt[ee](C,tt)}),Ke=new N(C,(0,p.uc)((0,p.uc)({},k),{exceptions:Ie}),q,ge);return Ke},N.prototype.toInterface=function(){var C,k=this,q=k.exceptions,ge=k.properties,Ie=k.measurements,Ke=k.severityLevel,tt=k.problemGroup,Dt=k.id,bt=k.isManual,jt=q instanceof Array&&(0,O.Mr)(q,function(cr){return cr.toInterface()})||void 0;return C={ver:"4.0"},C[Q]=jt,C.severityLevel=Ke,C.properties=ge,C.measurements=Ie,C.problemGroup=tt,C.id=Dt,C.isManual=bt,C},N.CreateSimpleException=function(C,k,q,ge,Ie,Ke){var tt;return{exceptions:[(tt={},tt[ye]=!0,tt.message=C,tt.stack=Ie,tt.typeName=k,tt)]}},N.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",N.dataType="ExceptionData",N.formatError=Tt,N}(),Kt=function(){function N(C,k,q){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ge=this;if(we(k))ge[Ge]=k[Ge],ge[L]=k[L],ge[tn]=k[tn],ge[ue]=k[ue]||[],ge[ye]=k[ye];else{var Ie=k,Ke=Ie&&Ie.evt;(0,O.VZ)(Ie)||(Ie=Ie[Dr]||Ke||Ie),ge[Ge]=P(C,rr(Ie))||B,ge[L]=m(C,z(k||Ie,ge[Ge]))||B;var tt=k[on]||mt(k);ge[ue]=Ut(tt),(0,O.kJ)(ge[ue])&&(0,O.Mr)(ge[ue],function(Dt){return Dt[ae]=P(C,Dt[ae])}),ge[tn]=J(C,Rt(tt)),ge.hasFullStack=(0,O.kJ)(ge.parsedStack)&&ge.parsedStack[G]>0,q&&(q[Ge]=q[Ge]||ge[Ge])}}return a(N,"_ExceptionDetails"),N.prototype.toInterface=function(){var C,k=this,q=k[ue]instanceof Array&&(0,O.Mr)(k[ue],function(Ie){return Ie.toInterface()}),ge=(C={id:k.id,outerId:k.outerId,typeName:k[Ge],message:k[L],hasFullStack:k[ye],stack:k[tn]},C[ue]=q||void 0,C);return ge},N.CreateFromInterface=function(C,k){var q=k[ue]instanceof Array&&(0,O.Mr)(k[ue],function(Ie){return Yt[ee](Ie)})||k[ue],ge=new N(C,(0,p.uc)((0,p.uc)({},k),{parsedStack:q}));return ge},N}(),Yt=function(){function N(C,k){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var q=this;if(q[ne]=0,typeof C=="string"){var ge=C;q[ke]=k,q[Ue]=In,q[ae]=(0,O.nd)(ge),q[pe]="",q[Ae]=0;var Ie=ge.match(N.regex);Ie&&Ie[G]>=5&&(q[Ue]=(0,O.nd)(Ie[2])||q[Ue],q[pe]=(0,O.nd)(Ie[4]),q[Ae]=parseInt(Ie[5])||0)}else q[ke]=C[ke],q[Ue]=C[Ue],q[ae]=C[ae],q[pe]=C[pe],q[Ae]=C[Ae],q[ne]=0;q.sizeInBytes+=q.method[G],q.sizeInBytes+=q.fileName[G],q.sizeInBytes+=q.assembly[G],q[ne]+=N.baseSize,q.sizeInBytes+=q.level.toString()[G],q.sizeInBytes+=q.line.toString()[G]}return a(N,"_StackFrame"),N.CreateFromInterface=function(C){return new N(C,null)},N.prototype.toInterface=function(){var C=this;return{level:C[ke],method:C[Ue],assembly:C[ae],fileName:C[pe],line:C[Ae]}},N.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,N.baseSize=58,N}(),Mt=function(){function N(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(N,"DataPoint"),N}(),Mr=function(){function N(C,k,q,ge,Ie,Ke,tt,Dt,bt){this.aiDataContract={ver:1,metrics:1,properties:0};var jt=this;jt.ver=2;var cr=new Mt;cr[$]=ge>0?ge:void 0,cr.max=isNaN(Ke)||Ke===null?void 0:Ke,cr.min=isNaN(Ie)||Ie===null?void 0:Ie,cr[A]=P(C,k)||B,cr.value=q,cr.stdDev=isNaN(tt)||tt===null?void 0:tt,jt.metrics=[cr],jt[De]=de(C,Dt),jt[Fe]=Ne(C,bt)}return a(N,"Metric"),N.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",N.dataType="MetricData",N}(),xr=E(5843),En=E(3242),sn=E(4878),hn=E(4869);function Hn(N){var C=null;if((0,O.mf)(Event))C=new Event(N);else{var k=(0,Xe.Me)();k&&k.createEvent&&(C=k.createEvent("Event"),C.initEvent(N,!0,!0))}return C}a(Hn,"createDomEvent");var Gn=E(4873),Kr=(0,Gn.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Wn=E(2091),er=(0,Gn.By)({LocalStorage:0,SessionStorage:1}),Qr=(0,Gn.By)({AI:0,AI_AND_W3C:1,W3C:2}),Ar=void 0,Er=void 0;function jr(){return Ri()?un(er.LocalStorage):null}a(jr,"_getLocalStorageObject");function un(N){try{if((0,O.le)((0,Wn.Rd)()))return null;var C=new Date()[W](),k=(0,Xe.a8)(N===er.LocalStorage?"localStorage":"sessionStorage");k.setItem(C,C);var q=k.getItem(C)!==C;if(k[U](C),!q)return k}catch(ge){}return null}a(un,"_getVerifiedStorageObject");function Fn(){return wi()?un(er.SessionStorage):null}a(Fn,"_getSessionStorageObject");function Yn(){Ar=!1,Er=!1}a(Yn,"utlDisableStorage");function Ai(){Ar=Ri(!0),Er=wi(!0)}a(Ai,"utlEnableStorage");function Ri(N){return(N||Ar===void 0)&&(Ar=!!un(er.LocalStorage)),Ar}a(Ri,"utlCanUseLocalStorage");function Zi(N,C){var k=jr();if(k!==null)try{return k.getItem(C)}catch(q){Ar=!1,(0,be.kP)(N,2,1,"Browser failed read of local storage. "+(0,O.jj)(q),{exception:(0,Xe.eU)(q)})}return null}a(Zi,"utlGetLocalStorage");function da(N,C,k){var q=jr();if(q!==null)try{return q.setItem(C,k),!0}catch(ge){Ar=!1,(0,be.kP)(N,2,3,"Browser failed write to local storage. "+(0,O.jj)(ge),{exception:(0,Xe.eU)(ge)})}return!1}a(da,"utlSetLocalStorage");function gt(N,C){var k=jr();if(k!==null)try{return k[U](C),!0}catch(q){Ar=!1,(0,be.kP)(N,2,5,"Browser failed removal of local storage item. "+(0,O.jj)(q),{exception:(0,Xe.eU)(q)})}return!1}a(gt,"utlRemoveStorage");function wi(N){return(N||Er===void 0)&&(Er=!!un(er.SessionStorage)),Er}a(wi,"utlCanUseSessionStorage");function Xi(){var N=[];return wi()&&(0,O.rW)((0,Xe.a8)("sessionStorage"),function(C){N.push(C)}),N}a(Xi,"utlGetSessionStorageKeys");function Sn(N,C){var k=Fn();if(k!==null)try{return k.getItem(C)}catch(q){Er=!1,(0,be.kP)(N,2,2,"Browser failed read of session storage. "+(0,O.jj)(q),{exception:(0,Xe.eU)(q)})}return null}a(Sn,"utlGetSessionStorage");function Ei(N,C,k){var q=Fn();if(q!==null)try{return q.setItem(C,k),!0}catch(ge){Er=!1,(0,be.kP)(N,2,4,"Browser failed write to session storage. "+(0,O.jj)(ge),{exception:(0,Xe.eU)(ge)})}return!1}a(Ei,"utlSetSessionStorage");function ui(N,C){var k=Fn();if(k!==null)try{return k[U](C),!0}catch(q){Er=!1,(0,be.kP)(N,2,6,"Browser failed removal of session storage item. "+(0,O.jj)(q),{exception:(0,Xe.eU)(q)})}return!1}a(ui,"utlRemoveSessionStorage");var qn=(0,Xe.Me)()||{},li=0,Ki=[null,null,null,null,null];function Mi(N){var C=li,k=Ki,q=k[C];return qn.createElement?k[C]||(q=k[C]=qn.createElement("a")):q={host:ut(N,!0)},q.href=N,C++,C>=k[G]&&(C=0),li=C,q}a(Mi,"urlParseUrl");function ci(N){var C,k=Mi(N);return k&&(C=k.href),C}a(ci,"urlGetAbsoluteUrl");function Gi(N){var C,k=Mi(N);return k&&(C=k[j]),C}a(Gi,"urlGetPathName");function We(N,C){return N?N.toUpperCase()+" "+C:C}a(We,"urlGetCompleteUrl");function ut(N,C){var k=wt(N,C)||"";if(k){var q=k.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(q!=null&&q[G]>3&&(0,O.HD)(q[2])&&q[2][G]>0)return q[2]+(q[3]||"")}return k}a(ut,"urlParseHost");function wt(N,C){var k=null;if(N){var q=N.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(q!=null&&q[G]>2&&(0,O.HD)(q[2])&&q[2][G]>0&&(k=q[2]||"",C&&q[G]>2)){var ge=(q[1]||"")[le](),Ie=q[3]||"";(ge==="http"&&Ie===":80"||ge==="https"&&Ie===":443")&&(Ie=""),k+=Ie}}return k}a(wt,"urlParseFullHost");var ft=[y+b,"https://breeze.aimon.applicationinsights.io"+b,"https://dc-int.services.visualstudio.com"+b];function kt(N){return(0,O.UA)(ft,N[le]())!==-1}a(kt,"isInternalApplicationInsightsEndpoint");var Zt={NotSpecified:B,createDomEvent:Hn,disableStorage:Yn,isInternalApplicationInsightsEndpoint:kt,canUseLocalStorage:Ri,getStorage:Zi,setStorage:da,removeStorage:gt,canUseSessionStorage:wi,getSessionStorageKeys:Xi,getSessionStorage:Sn,setSessionStorage:Ei,removeSessionStorage:ui,disableCookies:xr.oF,canUseCookies:xr.vn,disallowsSameSiteNone:En.UY,setCookie:xr.d8,stringToBoolOrDefault:mn,getCookie:xr.ej,deleteCookie:xr.kT,trim:O.nd,newId:sn.pZ,random32:function(){return(0,sn._l)(!0)},generateW3CId:xr.DO,isArray:O.kJ,isError:O.VZ,isDate:O.J_,toISOStringForIE8:O.Y6,getIEVersion:Xe.sA,msToTimeSpan:an,isCrossOriginError:On,dump:Xe.eU,getExceptionName:O.jj,addEventHandler:hn.pZ,IsBeaconApiSupported:Xe.MF,getExtension:Vr},St={parseUrl:Mi,getAbsoluteUrl:ci,getPathName:Gi,getCompleteUrl:We,parseHost:ut,parseFullHost:wt},nr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(N,C,k){if(!C||N&&N.disableCorrelationHeaders)return!1;if(N&&N[Ve]){for(var q=0;q<N.correlationHeaderExcludePatterns[G];q++)if(N[Ve][q].test(C))return!1}var ge=Mi(C).host[le]();if(ge&&(ge[_e](":443")!==-1||ge[_e](":80")!==-1)&&(ge=(wt(C,!0)||"")[le]()),(!N||!N.enableCorsCorrelation)&&ge&&ge!==k)return!1;var Ie=N&&N.correlationHeaderDomains;if(Ie){var Ke;if((0,O.tO)(Ie,function(bt){var jt=new RegExp(bt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ke=Ke||jt.test(ge)}),!Ke)return!1}var tt=N&&N.correlationHeaderExcludedDomains;if(!tt||tt[G]===0)return!0;for(var q=0;q<tt[G];q++){var Dt=new RegExp(tt[q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(ge))return!1}return ge&&ge[G]>0},getCorrelationContext:function(N){if(N){var C=nr.getCorrelationContextValue(N,Kr[1]);if(C&&C!==nr.correlationIdPrefix)return C}},getCorrelationContextValue:function(N,C){if(N)for(var k=N[V](","),q=0;q<k[G];++q){var ge=k[q][V]("=");if(ge[G]===2&&ge[0]===C)return ge[1]}}};function Wt(N,C,k,q){var ge,Ie=q,Ke=q;if(C&&C[G]>0){var tt=Mi(C);if(ge=tt.host,!Ie)if(tt[j]!=null){var Dt=tt.pathname[G]===0?"/":tt[j];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),Ke=tt[j],Ie=P(N,k?k+" "+Dt:Dt)}else Ie=P(N,C)}else ge=q,Ie=q;return{target:ge,name:Ie,data:Ke}}a(Wt,"AjaxHelperParseDependencyPath");function vr(){var N=(0,Xe.r)();if(N&&N.now&&N.timing){var C=N.now()+N.timing.navigationStart;if(C>0)return C}return(0,O.m6)()}a(vr,"dateTimeUtilsNow");function Rr(N,C){var k=null;return N!==0&&C!==0&&!(0,O.le)(N)&&!(0,O.le)(C)&&(k=C-N),k}a(Rr,"dateTimeUtilsDuration");var Jr={Now:vr,GetDuration:Rr};function Yr(N,C){var k=N||{};return{getName:function(){return k[_DYN_NAME]},setName:function(q){C&&C.setName(q),k[_DYN_NAME]=q},getTraceId:function(){return k.traceID},setTraceId:function(q){C&&C.setTraceId(q),isValidTraceId(q)&&(k.traceID=q)},getSpanId:function(){return k.parentID},setSpanId:function(q){C&&C.setSpanId(q),isValidSpanId(q)&&(k.parentID=q)},getTraceFlags:function(){return k.traceFlags},setTraceFlags:function(q){C&&C.setTraceFlags(q),k.traceFlags=q}}}a(Yr,"createDistributedTraceContextFromTrace");var rn=function(){function N(C,k,q,ge,Ie,Ke,tt,Dt,bt,jt,cr,qr){bt===void 0&&(bt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var fr=this;fr.ver=2,fr.id=k,fr[Me]=an(Ie),fr.success=Ke,fr.resultCode=tt+"",fr.type=P(C,bt);var Or=Wt(C,q,Dt,ge);fr.data=d(C,ge)||Or.data,fr.target=P(C,Or.target),jt&&(fr.target="".concat(fr.target," | ").concat(jt)),fr[A]=P(C,Or[A]),fr[De]=de(C,cr),fr[Fe]=Ne(C,qr)}return a(N,"RemoteDependencyData"),N.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",N.dataType="RemoteDependencyData",N}(),kr=E(5883),Bt=E(4063);function ir(N){var C="ai."+N+".";return function(k){return C+k}}a(ir,"_aiNameFunc");var _r=ir("application"),wr=ir("device"),K=ir("location"),X=ir("operation"),qe=ir("session"),dt=ir("user"),zt=ir("cloud"),$t=ir("internal"),hr=function(N){(0,p.ne)(C,N);function C(){return N.call(this)||this}return a(C,"ContextTagKeys"),C}((0,O.hl)({applicationVersion:_r("ver"),applicationBuild:_r("build"),applicationTypeId:_r("typeId"),applicationId:_r("applicationId"),applicationLayer:_r("layer"),deviceId:wr("id"),deviceIp:wr("ip"),deviceLanguage:wr("language"),deviceLocale:wr("locale"),deviceModel:wr("model"),deviceFriendlyName:wr("friendlyName"),deviceNetwork:wr("network"),deviceNetworkName:wr("networkName"),deviceOEMName:wr("oemName"),deviceOS:wr("os"),deviceOSVersion:wr("osVersion"),deviceRoleInstance:wr("roleInstance"),deviceRoleName:wr("roleName"),deviceScreenResolution:wr("screenResolution"),deviceType:wr("type"),deviceMachineName:wr("machineName"),deviceVMName:wr("vmName"),deviceBrowser:wr("browser"),deviceBrowserVersion:wr("browserVersion"),locationIp:K("ip"),locationCountry:K("country"),locationProvince:K("province"),locationCity:K("city"),operationId:X("id"),operationName:X("name"),operationParentId:X("parentId"),operationRootId:X("rootId"),operationSyntheticSource:X("syntheticSource"),operationCorrelationVector:X("correlationVector"),sessionId:qe("id"),sessionIsFirst:qe("isFirst"),sessionIsNew:qe("isNew"),userAccountAcquisitionDate:dt("accountAcquisitionDate"),userAccountId:dt("accountId"),userAgent:dt("userAgent"),userId:dt("id"),userStoreRegion:dt("storeRegion"),userAuthUserId:dt("authUserId"),userAnonymousUserAcquisitionDate:dt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:dt("authUserAcquisitionDate"),cloudName:zt("name"),cloudRole:zt("role"),cloudRoleVer:zt("roleVer"),cloudRoleInstance:zt("roleInstance"),cloudEnvironment:zt("environment"),cloudLocation:zt("location"),cloudDeploymentUnit:zt("deploymentUnit"),internalNodeName:$t("nodeName"),internalSdkVersion:$t("sdkVersion"),internalAgentVersion:$t("agentVersion"),internalSnippet:$t("snippet"),internalSdkSrc:$t("sdkSrc")})),pr={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ar=new hr,dr=function(){function N(C,k,q){var ge=this,Ie=this;Ie.ver=1,Ie.sampleRate=100,Ie.tags={},Ie[A]=P(C,q)||B,Ie.data=k,Ie.time=(0,O.Y6)(new Date),Ie.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ge.sampleRate===100?4:1},tags:1,data:1}}return a(N,"Envelope"),N}(),lr=function(){function N(C,k){this.aiDataContract={baseType:1,baseData:1},this.baseType=C,this.baseData=k}return a(N,"Data"),N}(),Qt="duration",xt="tags",Ir="deviceType",Fr="data",Ur="name",Zr="traceID",Xt="length",Nn="stringify",_n="measurements",Nr="dataType",ai="envelopeType",Ln="toString",Mn="onLine",yi="isOnline",fi="enqueue",hi="count",dn="push",Si="emitLineDelimitedJson",bi="clear",oi="batchPayloads",kn="markAsSent",si="clearSent",ki="bufferOverride",Ui="BUFFER_KEY",Vn="SENT_BUFFER_KEY",zn="MAX_BUFFER_SIZE",gn="namePrefix",di="maxBatchSizeInBytes",xe="triggerSend",it="diagLog",ct="onunloadDisableBeacon",Et="isBeaconApiDisabled",Nt="_sender",Ft="_senderConfig",ur="enableSessionStorageBuffer",Ce="_buffer",Je="samplingPercentage",Qe="instrumentationKey",yt="endpointUrl",Ht="customHeaders",tr="disableXhr",Sr="onunloadDisableFetch",Cr="disableTelemetry",Gr="baseType",xi="sampleRate",ea="convertUndefined",Yi="_xhrReadyStateChange",ln="_onError",gi="_onPartialSuccess",Bi="_onSuccess",ga="itemsAccepted",Bs="itemsReceived",pa="isRetryDisabled",oo="setRequestHeader",ba="maxBatchInterval",ta="eventsSendRequest",Ba="disableInstrumentationKeyValidation",va="getSamplingScore",ma="getHashCodeScore",ra="baseType",cn="baseData",Rn="properties",$a="true";function bn(N,C,k){return(0,O.sO)(N,C,k,O.fQ)}a(bn,"_setValueIf");function so(N,C,k){var q=k[xt]=k[xt]||{},ge=C.ext=C.ext||{},Ie=C[xt]=C[xt]||[],Ke=ge.user;Ke&&(bn(q,ar.userAuthUserId,Ke.authId),bn(q,ar.userId,Ke.id||Ke.localId));var tt=ge.app;tt&&bn(q,ar.sessionId,tt.sesId);var Dt=ge.device;Dt&&(bn(q,ar.deviceId,Dt.id||Dt.localId),bn(q,ar[Ir],Dt.deviceClass),bn(q,ar.deviceIp,Dt.ip),bn(q,ar.deviceModel,Dt.model),bn(q,ar[Ir],Dt[Ir]));var bt=C.ext.web;if(bt){bn(q,ar.deviceLanguage,bt.browserLang),bn(q,ar.deviceBrowserVersion,bt.browserVer),bn(q,ar.deviceBrowser,bt.browser);var jt=k[Fr]=k[Fr]||{},cr=jt[cn]=jt[cn]||{},qr=cr[Rn]=cr[Rn]||{};bn(qr,"domain",bt.domain),bn(qr,"isManual",bt.isManual?$a:null),bn(qr,"screenRes",bt.screenRes),bn(qr,"userConsent",bt.userConsent?$a:null)}var fr=ge.os;fr&&bn(q,ar.deviceOS,fr[Ur]);var Or=ge.trace;Or&&(bn(q,ar.operationParentId,Or.parentID),bn(q,ar.operationName,P(N,Or[Ur])),bn(q,ar.operationId,Or[Zr]));for(var xn={},je=Ie[Xt]-1;je>=0;je--){var fn=Ie[je];(0,O.rW)(fn,function(pn,Cn){xn[pn]=Cn}),Ie.splice(je,1)}(0,O.rW)(Ie,function(pn,Cn){xn[pn]=Cn});var Pr=(0,p.uc)((0,p.uc)({},q),xn);Pr[ar.internalSdkVersion]||(Pr[ar.internalSdkVersion]="javascript:".concat(Qo.Version)),k[xt]=(0,O.Ax)(Pr)}a(so,"_extractPartAExtensions");function Ii(N,C,k){(0,O.le)(N)||(0,O.rW)(N,function(q,ge){(0,O.hj)(ge)?k[q]=ge:(0,O.HD)(ge)?C[q]=ge:(0,Xe.nS)()&&(C[q]=(0,Xe.xA)()[Nn](ge))})}a(Ii,"_extractPropsAndMeasurements");function Fi(N,C){(0,O.le)(N)||(0,O.rW)(N,function(k,q){N[k]=q||C})}a(Fi,"_convertPropsUndefinedToCustomDefinedValue");function qi(N,C,k,q){var ge=new dr(N,q,C);bn(ge,"sampleRate",k[h]),(k[cn]||{}).startTime&&(ge.time=(0,O.Y6)(k[cn].startTime)),ge.iKey=k.iKey;var Ie=k.iKey.replace(/-/g,"");return ge[Ur]=ge[Ur].replace("{0}",Ie),so(N,k,ge),k[xt]=k[xt]||[],(0,O.Ax)(ge)}a(qi,"_createEnvelope");function Vi(N,C){(0,O.le)(C[cn])&&(0,be.kP)(N,1,46,"telemetryItem.baseData cannot be null.")}a(Vi,"EnvelopeCreatorInit");var Qo={Version:"2.8.12"};function Jo(N,C,k){Vi(N,C);var q=C[cn][_n]||{},ge=C[cn][Rn]||{};Ii(C[Fr],ge,q),(0,O.le)(k)||Fi(ge,k);var Ie=C[cn];if((0,O.le)(Ie))return(0,be.jV)(N,"Invalid input for dependency data"),null;var Ke=Ie[Rn]&&Ie[Rn][x]?Ie[Rn][x]:"GET",tt=new rn(N,Ie.id,Ie.target,Ie[Ur],Ie[Qt],Ie.success,Ie.responseCode,Ke,Ie.type,Ie.correlationContext,ge,q),Dt=new lr(rn[Nr],tt);return qi(N,rn[ai],C,Dt)}a(Jo,"DependencyEnvelopeCreator");function Ha(N,C,k){Vi(N,C);var q={},ge={};C[ra]!==Ot[Nr]&&(q.baseTypeSource=C[ra]),C[ra]===Ot[Nr]?(q=C[cn][Rn]||{},ge=C[cn][_n]||{}):C[cn]&&Ii(C[cn],q,ge),Ii(C[Fr],q,ge),(0,O.le)(k)||Fi(q,k);var Ie=C[cn][Ur],Ke=new Ot(N,Ie,q,ge),tt=new lr(Ot[Nr],Ke);return qi(N,Ot[ai],C,tt)}a(Ha,"EventEnvelopeCreator");function uo(N,C,k){Vi(N,C);var q=C[cn][_n]||{},ge=C[cn][Rn]||{};Ii(C[Fr],ge,q),(0,O.le)(k)||Fi(ge,k);var Ie=C[cn],Ke=qt.CreateFromInterface(N,Ie,ge,q),tt=new lr(qt[Nr],Ke);return qi(N,qt[ai],C,tt)}a(uo,"ExceptionEnvelopeCreator");function na(N,C,k){Vi(N,C);var q=C[cn],ge=q[Rn]||{},Ie=q[_n]||{};Ii(C[Fr],ge,Ie),(0,O.le)(k)||Fi(ge,k);var Ke=new Mr(N,q[Ur],q.average,q.sampleCount,q.min,q.max,q.stdDev,ge,Ie),tt=new lr(Mr[Nr],Ke);return qi(N,Mr[ai],C,tt)}a(na,"MetricEnvelopeCreator");function ya(N,C,k){Vi(N,C);var q,ge=C[cn];!(0,O.le)(ge)&&!(0,O.le)(ge[Rn])&&!(0,O.le)(ge[Rn][Qt])?(q=ge[Rn][Qt],delete ge[Rn][Qt]):!(0,O.le)(C[Fr])&&!(0,O.le)(C[Fr][Qt])&&(q=C[Fr][Qt],delete C[Fr][Qt]);var Ie=C[cn],Ke;((C.ext||{}).trace||{})[Zr]&&(Ke=C.ext.trace[Zr]);var tt=Ie.id||Ke,Dt=Ie[Ur],bt=Ie.uri,jt=Ie[Rn]||{},cr=Ie[_n]||{};if((0,O.le)(Ie.refUri)||(jt.refUri=Ie.refUri),(0,O.le)(Ie.pageType)||(jt.pageType=Ie.pageType),(0,O.le)(Ie.isLoggedIn)||(jt.isLoggedIn=Ie.isLoggedIn[Ln]()),!(0,O.le)(Ie[Rn])){var qr=Ie[Rn];(0,O.rW)(qr,function(xn,je){jt[xn]=je})}Ii(C[Fr],jt,cr),(0,O.le)(k)||Fi(jt,k);var fr=new yn(N,Dt,bt,q,jt,cr,tt),Or=new lr(yn[Nr],fr);return qi(N,yn[ai],C,Or)}a(ya,"PageViewEnvelopeCreator");function ia(N,C,k){Vi(N,C);var q=C[cn],ge=q[Ur],Ie=q.uri||q.url,Ke=q[Rn]||{},tt=q[_n]||{};Ii(C[Fr],Ke,tt),(0,O.le)(k)||Fi(Ke,k);var Dt=new $n(N,ge,Ie,void 0,Ke,tt,q),bt=new lr($n[Nr],Dt);return qi(N,$n[ai],C,bt)}a(ia,"PageViewPerformanceEnvelopeCreator");function Wa(N,C,k){Vi(N,C);var q=C[cn].message,ge=C[cn].severityLevel,Ie=C[cn][Rn]||{},Ke=C[cn][_n]||{};Ii(C[Fr],Ie,Ke),(0,O.le)(k)||Fi(Ie,k);var tt=new Vt(N,q,ge,Ie,Ke),Dt=new lr(Vt[Nr],tt);return qi(N,Vt[ai],C,Dt)}a(Wa,"TraceEnvelopeCreator");function lo(N,C){(0,hn.QY)(N,null,null,C)}a(lo,"_disableEvents");function Zo(N){var C,k=(0,Xe.Me)(),q=(0,Xe.jW)(),ge=!1,Ie=!0,Ke=(0,hn.jU)((0,kr.J)("OfflineListener"),N);try{if(Dt((0,Xe.Jj)())&&(ge=!0),k){var tt=k.body||k;tt.ononline&&Dt(tt)&&(ge=!0)}ge&&q&&!(0,O.le)(q[Mn])&&(Ie=q[Mn])}catch(fr){ge=!1}function Dt(fr){var Or=!1;return fr&&(Or=(0,hn.XO)(fr,"online",bt,Ke),Or&&(0,hn.XO)(fr,"offline",jt,Ke)),Or}a(Dt,"_enableEvents");function bt(){Ie=!0}a(bt,"_setOnline");function jt(){Ie=!1}a(jt,"_setOffline");function cr(){var fr=!0;return ge?fr=Ie:q&&!(0,O.le)(q[Mn])&&(fr=q[Mn]),fr}a(cr,"_isOnline");function qr(){var fr=(0,Xe.Jj)();if(fr&&ge){if(lo(fr,Ke),k){var Or=k.body||k;(0,O.o8)(Or.ononline)||lo(Or,Ke)}ge=!1}}return a(qr,"_unload"),C={},C[yi]=cr,C.isListening=function(){return ge},C.unload=qr,C}a(Zo,"createOfflineListener");var co=function(){function N(C,k){var q=[],ge=!1;this._get=function(){return q},this._set=function(Ie){return q=Ie,q},(0,v.Z)(N,this,function(Ie){Ie[fi]=function(Ke){if(Ie[hi]()>=k.eventsLimitInMem()){ge||((0,be.kP)(C,2,105,"Maximum in-memory buffer size reached: "+Ie[hi](),!0),ge=!0);return}q[dn](Ke)},Ie[hi]=function(){return q[Xt]},Ie.size=function(){for(var Ke=q[Xt],tt=0;tt<q[Xt];tt++)Ke+=q[tt][Xt];return k[Si]()||(Ke+=2),Ke},Ie[bi]=function(){q=[],ge=!1},Ie.getItems=function(){return q.slice(0)},Ie[oi]=function(Ke){if(Ke&&Ke[Xt]>0){var tt=k[Si]()?Ke.join(`
`):"["+Ke.join(",")+"]";return tt}return null}})}return a(N,"BaseSendBuffer"),N.__ieDyn=1,N}(),fo=function(N){(0,p.ne)(C,N);function C(k,q){var ge=N.call(this,k,q)||this;return(0,v.Z)(C,ge,function(Ie,Ke){Ie[kn]=function(tt){Ke[bi]()},Ie[si]=function(tt){}}),ge}return a(C,"ArraySendBuffer"),C.__ieDyn=1,C}(co),Xo=function(N){(0,p.ne)(C,N);function C(k,q){var ge=N.call(this,k,q)||this,Ie=!1,Ke=q[ki]()||{getItem:Sn,setItem:Ei},tt=Ke.getItem,Dt=Ke.setItem;return(0,v.Z)(C,ge,function(bt,jt){var cr=xn(C[Ui]),qr=xn(C[Vn]),fr=bt._set(cr.concat(qr));fr[Xt]>C[zn]&&(fr[Xt]=C[zn]),je(C[Vn],[]),je(C[Ui],fr),bt[fi]=function(fn){if(bt[hi]()>=C[zn]){Ie||((0,be.kP)(k,2,67,"Maximum buffer size reached: "+bt[hi](),!0),Ie=!0);return}jt[fi](fn),je(C[Ui],bt._get())},bt[bi]=function(){jt[bi](),je(C[Ui],bt._get()),je(C[Vn],[]),Ie=!1},bt[kn]=function(fn){je(C[Ui],bt._set(Or(fn,bt._get())));var Pr=xn(C[Vn]);Pr instanceof Array&&fn instanceof Array&&(Pr=Pr.concat(fn),Pr[Xt]>C[zn]&&((0,be.kP)(k,1,67,"Sent buffer reached its maximum size: "+Pr[Xt],!0),Pr[Xt]=C[zn]),je(C[Vn],Pr))},bt[si]=function(fn){var Pr=xn(C[Vn]);Pr=Or(fn,Pr),je(C[Vn],Pr)};function Or(fn,Pr){var pn=[];return(0,O.tO)(Pr,function(Cn){!(0,O.mf)(Cn)&&(0,O.UA)(fn,Cn)===-1&&pn[dn](Cn)}),pn}a(Or,"_removePayloadsFromBuffer");function xn(fn){var Pr=fn;try{Pr=q[gn]&&q[gn]()?q[gn]()+"_"+Pr:Pr;var pn=tt(k,Pr);if(pn){var Cn=(0,Xe.xA)().parse(pn);if((0,O.HD)(Cn)&&(Cn=(0,Xe.xA)().parse(Cn)),Cn&&(0,O.kJ)(Cn))return Cn}}catch(Qi){(0,be.kP)(k,1,42," storage key: "+Pr+", "+(0,O.jj)(Qi),{exception:(0,Xe.eU)(Qi)})}return[]}a(xn,"_getBuffer");function je(fn,Pr){var pn=fn;try{pn=q[gn]&&q[gn]()?q[gn]()+"_"+pn:pn;var Cn=JSON[Nn](Pr);Dt(k,pn,Cn)}catch(Qi){Dt(k,pn,JSON[Nn]([])),(0,be.kP)(k,2,41," storage key: "+pn+", "+(0,O.jj)(Qi)+". Buffer cleared",{exception:(0,Xe.eU)(Qi)})}}a(je,"_setBuffer")}),ge}return a(C,"SessionStorageSendBuffer"),C.BUFFER_KEY="AI_buffer",C.SENT_BUFFER_KEY="AI_sentBuffer",C.MAX_BUFFER_SIZE=2e3,C}(co),ho=function(){function N(C){(0,v.Z)(N,this,function(k){k.serialize=function(Ke){var tt=q(Ke,"root");try{return(0,Xe.xA)()[Nn](tt)}catch(Dt){(0,be.kP)(C,1,48,Dt&&(0,O.mf)(Dt[Ln])?Dt[Ln]():"Error serializing object",null,!0)}};function q(Ke,tt){var Dt="__aiCircularRefCheck",bt={};if(!Ke)return(0,be.kP)(C,1,48,"cannot serialize object because it is null or undefined",{name:tt},!0),bt;if(Ke[Dt])return(0,be.kP)(C,2,50,"Circular reference detected while serializing object",{name:tt},!0),bt;if(!Ke.aiDataContract){if(tt==="measurements")bt=Ie(Ke,"number",tt);else if(tt==="properties")bt=Ie(Ke,"string",tt);else if(tt==="tags")bt=Ie(Ke,"string",tt);else if((0,O.kJ)(Ke))bt=ge(Ke,tt);else{(0,be.kP)(C,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:tt},!0);try{(0,Xe.xA)()[Nn](Ke),bt=Ke}catch(jt){(0,be.kP)(C,1,48,jt&&(0,O.mf)(jt[Ln])?jt[Ln]():"Error serializing object",null,!0)}}return bt}return Ke[Dt]=!0,(0,O.rW)(Ke.aiDataContract,function(jt,cr){var qr=(0,O.mf)(cr)?cr()&1:cr&1,fr=(0,O.mf)(cr)?cr()&4:cr&4,Or=cr&2,xn=Ke[jt]!==void 0,je=(0,O.Kn)(Ke[jt])&&Ke[jt]!==null;if(qr&&!xn&&!Or)(0,be.kP)(C,1,24,"Missing required field specification. The field is required but not present on source",{field:jt,name:tt});else if(!fr){var fn=void 0;je?Or?fn=ge(Ke[jt],jt):fn=q(Ke[jt],jt):fn=Ke[jt],fn!==void 0&&(bt[jt]=fn)}}),delete Ke[Dt],bt}a(q,"_serializeObject");function ge(Ke,tt){var Dt;if(Ke)if(!(0,O.kJ)(Ke))(0,be.kP)(C,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:tt},!0);else{Dt=[];for(var bt=0;bt<Ke[Xt];bt++){var jt=Ke[bt],cr=q(jt,tt+"["+bt+"]");Dt[dn](cr)}}return Dt}a(ge,"_serializeArray");function Ie(Ke,tt,Dt){var bt;return Ke&&(bt={},(0,O.rW)(Ke,function(jt,cr){if(tt==="string")cr===void 0?bt[jt]="undefined":cr===null?bt[jt]="null":cr[Ln]?bt[jt]=cr[Ln]():bt[jt]="invalid field: toString() is not defined.";else if(tt==="number")if(cr===void 0)bt[jt]="undefined";else if(cr===null)bt[jt]="null";else{var qr=parseFloat(cr);isNaN(qr)?bt[jt]="NaN":bt[jt]=qr}else bt[jt]="invalid field: "+Dt+" is of unknown type.",(0,be.kP)(C,1,bt[jt],null,!0)})),bt}a(Ie,"_serializeStringMap")})}return a(N,"Serializer"),N.__ieDyn=1,N}(),$s=8,es=function(){function N(){}return a(N,"HashCodeScoreGenerator"),N.prototype.getHashCodeScore=function(C){var k=this.getHashCode(C)/N.INT_MAX_VALUE;return k*100},N.prototype.getHashCode=function(C){if(C==="")return 0;for(;C[Xt]<$s;)C=C.concat(C);for(var k=5381,q=0;q<C[Xt];++q)k=(k<<5)+k+C.charCodeAt(q),k=k&k;return Math.abs(k)},N.INT_MAX_VALUE=2147483647,N}(),Hs=function(){function N(){var C=this,k=new es,q=new hr;C[va]=function(ge){var Ie=0;return ge[xt]&&ge[xt][q.userId]?Ie=k.getHashCodeScore(ge[xt][q.userId]):ge.ext&&ge.ext.user&&ge.ext.user.id?Ie=k[ma](ge.ext.user.id):ge[xt]&&ge[xt][q.operationId]?Ie=k.getHashCodeScore(ge[xt][q.operationId]):ge.ext&&ge.ext.telemetryTrace&&ge.ext.telemetryTrace[Zr]?Ie=k.getHashCodeScore(ge.ext.telemetryTrace[Zr]):Ie=Math.random()*100,Ie}}return a(N,"SamplingScoreGenerator"),N}(),ts=function(){function N(C,k){this.INT_MAX_VALUE=2147483647;var q=k||(0,be.vH)(null);(C>100||C<0)&&(q.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:C},!0),C=100),this[xi]=C,this.samplingScoreGenerator=new Hs}return a(N,"Sample"),N.prototype.isSampledIn=function(C){var k=this[xi],q=!1;return k==null||k>=100||C.baseType===Mr[Nr]?!0:(q=this.samplingScoreGenerator[va](C)<k,q)},N}(),Pi,rs=65e3;function aa(N){try{return N.responseText}catch(C){}return null}a(aa,"_getResponseText");function go(){var N,C,k;return N={endpointUrl:function(){return y+b}},N[Si]=function(){return!1},N[ba]=function(){return 15e3},N[di]=function(){return 102400},N[Cr]=function(){return!1},N[ur]=function(){return!0},N[ki]=function(){return!1},N[pa]=function(){return!1},N[Et]=function(){return!0},N[tr]=function(){return!1},N[Sr]=function(){return!1},N[ct]=function(){return!1},N[Qe]=function(){return C},N[gn]=function(){return C},N[Je]=function(){return 100},N[Ht]=function(){return k},N[ea]=function(){return C},N.eventsLimitInMem=function(){return 1e4},N}a(go,"_getDefaultAppInsightsChannelConfig");var po=(Pi={},Pi[Ot.dataType]=Ha,Pi[Vt.dataType]=Wa,Pi[yn.dataType]=ya,Pi[$n.dataType]=ia,Pi[qt.dataType]=uo,Pi[Mr.dataType]=na,Pi[rn.dataType]=Jo,Pi),vo=function(N){(0,p.ne)(C,N);function C(){var k=N.call(this)||this;k.priority=1001,k.identifier=_,k._senderConfig=go();var q,ge,Ie,Ke,tt,Dt,bt,jt,cr=0,qr,fr,Or,xn;return(0,v.Z)(C,k,function(je,fn){Ya(),je.pause=function(){wo(),Ke=!0},je.resume=function(){Ke&&(Ke=!1,ge=null,je._buffer.size()>je._senderConfig[di]()&&je[xe](!0,null,10),Ka())},je.flush=function(Be,At,Lt){if(Be===void 0&&(Be=!0),!Ke){wo();try{je[xe](Be,null,Lt||1)}catch(or){(0,be.kP)(je[it](),1,22,"flush failed, telemetry will not be collected: "+(0,O.jj)(or),{exception:(0,Xe.eU)(or)})}}},je.onunloadFlush=function(){if(!Ke)if((je._senderConfig[ct]()===!1||je[Ft][Et]()===!1)&&(0,Xe.MF)())try{je[xe](!0,Qi,2)}catch(Be){(0,be.kP)(je[it](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,O.jj)(Be),{exception:(0,Xe.eU)(Be)})}else je.flush()},je.addHeader=function(Be,At){jt[Be]=At},je.initialize=function(Be,At,Lt,or){je.isInitialized()&&(0,be.kP)(je[it](),1,28,"Sender is already initialized"),fn.initialize(Be,At,Lt,or);var Tr=je._getTelCtx(),$r=je.identifier;Dt=new ho(At.logger),q=0,ge=null,Ie=0,je[Nt]=null,bt=0;var Br=je[it]();xn=(0,hn.jU)((0,kr.J)("Sender"),At.evtNamespace&&At.evtNamespace()),Or=Zo(xn);var Pn=go();(0,O.rW)(Pn,function(Qn,Tn){je[Ft][Qn]=function(){var Oi=Tr.getConfig($r,Qn,Tn());return!Oi&&Qn==="endpointUrl"&&(Oi=Tn()),Oi}});var pi=je[Ft][ur]()&&!!(je._senderConfig[ki]()||wi());je[Ce]=pi?new Xo(Br,je[Ft]):new fo(Br,je[Ft]),je._sample=new ts(je[Ft][Je](),Br),ss(Be)||(0,be.kP)(Br,1,100,"Invalid Instrumentation key "+Be[Qe]),!kt(je._senderConfig.endpointUrl())&&je._senderConfig.customHeaders()&&je._senderConfig.customHeaders()[Xt]>0&&(0,O.tO)(je[Ft][Ht](),function(Qn){k.addHeader(Qn.header,Qn.value)});var Un=je[Ft],Bn=null;!Un[tr]()&&(0,Xe.cp)()?Bn=Eo:!Un[tr]()&&(0,Xe.Z3)()&&(Bn=Ca),!Bn&&(0,Xe.JO)()&&(Bn=Ta),qr=Bn||Ca,!Un[Et]()&&(0,Xe.MF)()&&(Bn=sa),je[Nt]=Bn||Ca,!Un[Sr]()&&(0,Xe.JO)(!0)?fr=zs:(0,Xe.MF)()?fr=sa:!Un[tr]()&&(0,Xe.cp)()?fr=Eo:!Un[tr]()&&(0,Xe.Z3)()?fr=Ca:fr=qr},je.processTelemetry=function(Be,At){At=je._getTelCtx(At);var Lt=At[it]();try{if(je[Ft][Cr]())return;if(!Be){(0,be.kP)(Lt,1,7,"Cannot send empty telemetry");return}if(Be.baseData&&!Be[Gr]){(0,be.kP)(Lt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Be[Gr]||(Be[Gr]="EventData"),!je[Nt]){(0,be.kP)(Lt,1,28,"Sender was not initialized");return}if(Pr(Be))Be[h]=je._sample[xi];else{(0,be.kP)(Lt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:je._sample[xi]});return}var or=je[Ft][ea]()||void 0,Tr=Be.iKey||je[Ft][Qe](),$r=C.constructEnvelope(Be,Tr,Lt,or);if(!$r){(0,be.kP)(Lt,1,47,"Unable to create an AppInsights envelope");return}var Br=!1;if(Be[xt]&&Be[xt][S]&&((0,O.tO)(Be[xt][S],function(Bn){try{Bn&&Bn($r)===!1&&(Br=!0,(0,be.jV)(Lt,"Telemetry processor check returns false"))}catch(Qn){(0,be.kP)(Lt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,O.jj)(Qn),{exception:(0,Xe.eU)(Qn)},!0)}}),delete Be[xt][S]),Br)return;var Pn=Dt.serialize($r),pi=je[Ce],Un=pi.size();Un+Pn[Xt]>je[Ft][di]()&&(!Or||Or[yi]())&&je[xe](!0,null,10),pi[fi](Pn),Ka()}catch(Bn){(0,be.kP)(Lt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,O.jj)(Bn),{exception:(0,Xe.eU)(Bn)})}je.processNext(Be,At)},je[Yi]=function(Be,At,Lt){Be.readyState===4&&pn(Be.status,At,Be.responseURL,Lt,Ra(Be),aa(Be)||Be.response)},je[xe]=function(Be,At,Lt){if(Be===void 0&&(Be=!0),!Ke)try{var or=je[Ce];if(je[Ft][Cr]())or[bi]();else{if(or[hi]()>0){var Tr=or.getItems();os(Lt||0,Be),At?At.call(k,Tr,Be):je[Nt](Tr,Be)}Ie=+new Date}wo()}catch(Br){var $r=(0,Xe.sA)();(!$r||$r>9)&&(0,be.kP)(je[it](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,O.jj)(Br),{exception:(0,Xe.eU)(Br)})}},je._doTeardown=function(Be,At){je.onunloadFlush(),Or.unload(),Ya()},je[ln]=function(Be,At,Lt){(0,be.kP)(je[it](),2,26,"Failed to send telemetry.",{message:At}),je._buffer[si](Be)},je[gi]=function(Be,At){for(var Lt=[],or=[],Tr=At.errors.reverse(),$r=0,Br=Tr;$r<Br.length;$r++){var Pn=Br[$r],pi=Be.splice(Pn.index,1)[0];Aa(Pn.statusCode)?or[dn](pi):Lt[dn](pi)}Be[Xt]>0&&je[Bi](Be,At[ga]),Lt[Xt]>0&&je[ln](Lt,Ra(null,["partial success",At[ga],"of",At.itemsReceived].join(" "))),or[Xt]>0&&(Da(or),(0,be.kP)(je[it](),2,40,"Partial success. Delivered: "+Be[Xt]+", Failed: "+Lt[Xt]+". Will retry to send "+or[Xt]+" our of "+At[Bs]+" items"))},je[Bi]=function(Be,At){je._buffer[si](Be)},je._xdrOnLoad=function(Be,At){var Lt=aa(Be);if(Be&&(Lt+""=="200"||Lt===""))q=0,je[Bi](At,0);else{var or=_o(Lt);or&&or.itemsReceived&&or.itemsReceived>or[ga]&&!je[Ft][pa]()?je[gi](At,or):je[ln](At,Ia(Be))}};function Pr(Be){return je._sample.isSampledIn(Be)}a(Pr,"_isSampledIn");function pn(Be,At,Lt,or,Tr,$r){var Br=null;if(je._appId||(Br=_o($r),Br&&Br.appId&&(je._appId=Br.appId)),(Be<200||Be>=300)&&Be!==0){if((Be===301||Be===307||Be===308)&&!Cn(Lt)){je[ln](At,Tr);return}!je[Ft][pa]()&&Aa(Be)?(Da(At),(0,be.kP)(je[it](),2,40,". Response code "+Be+". Will retry to send "+At[Xt]+" items.")):je[ln](At,Tr)}else if(Or&&!Or[yi]()){if(!je[Ft][pa]()){var Pn=10;Da(At,Pn),(0,be.kP)(je[it](),2,40,". Offline - Response Code: ".concat(Be,". Offline status: ").concat(!Or.isOnline(),". Will retry to send ").concat(At.length," items."))}}else Cn(Lt),Be===206?(Br||(Br=_o($r)),Br&&!je[Ft][pa]()?je[gi](At,Br):je[ln](At,Tr)):(q=0,je[Bi](At,or))}a(pn,"_checkResponsStatus");function Cn(Be){return bt>=10?!1:!(0,O.le)(Be)&&Be!==""&&Be!==je[Ft][yt]()?(je[Ft][yt]=function(){return Be},++bt,!0):!1}a(Cn,"_checkAndUpdateEndPointUrl");function Qi(Be,At){fr?fr(Be,!1):sa(Be,At)}a(Qi,"_doUnloadSend");function wa(Be){var At=(0,Xe.jW)(),Lt=je[Ce],or=je[Ft][yt](),Tr=je._buffer[oi](Be),$r=new Blob([Tr],{type:"text/plain;charset=UTF-8"}),Br=At.sendBeacon(or,$r);return Br&&(Lt[kn](Be),je._onSuccess(Be,Be[Xt])),Br}a(wa,"_doBeaconSend");function sa(Be,At){if((0,O.kJ)(Be)&&Be[Xt]>0&&!wa(Be)){for(var Lt=[],or=0;or<Be[Xt];or++){var Tr=Be[or];wa([Tr])||Lt[dn](Tr)}Lt[Xt]>0&&(qr&&qr(Lt,!0),(0,be.kP)(je[it](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(sa,"_beaconSender");function Ca(Be,At){var Lt=new XMLHttpRequest,or=je[Ft][yt]();try{Lt[D]=!0}catch($r){}Lt.open("POST",or,At),Lt[oo]("Content-type","application/json"),kt(or)&&Lt[oo](Kr[6],Kr[7]),(0,O.tO)((0,O.FY)(jt),function($r){Lt[oo]($r,jt[$r])}),Lt.onreadystatechange=function(){return je._xhrReadyStateChange(Lt,Be,Be[Xt])},Lt.onerror=function($r){return je[ln](Be,Ra(Lt),$r)};var Tr=je._buffer[oi](Be);Lt.send(Tr),je._buffer[kn](Be)}a(Ca,"_xhrSender");function zs(Be,At){if((0,O.kJ)(Be)){for(var Lt=Be[Xt],or=0;or<Be[Xt];or++)Lt+=Be[or][Xt];cr+Lt<=rs?yo(Be,!1):(0,Xe.MF)()?sa(Be,At):(qr&&qr(Be,!0),(0,be.kP)(je[it](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(zs,"_fetchKeepAliveSender");function Ta(Be,At){yo(Be,!0)}a(Ta,"_fetchSender");function yo(Be,At){var Lt,or=je[Ft][yt](),Tr=je._buffer[oi](Be),$r=new Blob([Tr],{type:"application/json"}),Br=new Headers,Pn=Tr[Xt],pi=!1,Un=!1;kt(or)&&Br.append(Kr[6],Kr[7]),(0,O.tO)((0,O.FY)(jt),function(Tn){Br.append(Tn,jt[Tn])});var Bn=(Lt={method:"POST",headers:Br,body:$r},Lt[D]=!0,Lt);At||(Bn.keepalive=!0,pi=!0,cr+=Pn);var Qn=new Request(or,Bn);try{Qn[D]=!0}catch(Tn){}je._buffer[kn](Be);try{fetch(Qn).then(function(Tn){At||(cr-=Pn,Pn=0),Un||(Un=!0,Tn.ok?Tn.text().then(function(Oi){pn(Tn.status,Be,Tn.url,Be[Xt],Tn.statusText,Oi)}):je[ln](Be,Tn.statusText))}).catch(function(Tn){At||(cr-=Pn,Pn=0),Un||(Un=!0,je[ln](Be,Tn.message))})}catch(Tn){Un||je[ln](Be,(0,Xe.eU)(Tn))}pi&&!Un&&(Un=!0,je._onSuccess(Be,Be[Xt]))}a(yo,"_doFetchSender");function _o(Be){try{if(Be&&Be!==""){var At=(0,Xe.xA)().parse(Be);if(At&&At.itemsReceived&&At.itemsReceived>=At[ga]&&At.itemsReceived-At.itemsAccepted===At.errors[Xt])return At}}catch(Lt){(0,be.kP)(je[it](),1,43,"Cannot parse the response. "+(0,O.jj)(Lt),{response:Be})}return null}a(_o,"_parseResponse");function Da(Be,At){if(At===void 0&&(At=1),!(!Be||Be[Xt]===0)){var Lt=je[Ce];Lt[si](Be),q++;for(var or=0,Tr=Be;or<Tr.length;or++){var $r=Tr[or];Lt[fi]($r)}js(At),Ka()}}a(Da,"_resendPayload");function js(Be){var At=10,Lt;if(q<=1)Lt=At;else{var or=(Math.pow(2,q)-1)/2,Tr=Math.floor(Math.random()*or*At)+1;Tr=Be*Tr,Lt=Math.max(Math.min(Tr,3600),At)}var $r=(0,O.m6)()+Lt*1e3;ge=$r}a(js,"_setRetryTime");function Ka(){if(!tt&&!Ke){var Be=ge?Math.max(0,ge-(0,O.m6)()):0,At=Math.max(je[Ft][ba](),Be);tt=setTimeout(function(){tt=null,je[xe](!0,null,1)},At)}}a(Ka,"_setupTimer");function wo(){clearTimeout(tt),tt=null,ge=null}a(wo,"_clearScheduledTimer");function Aa(Be){return Be===401||Be===403||Be===408||Be===429||Be===500||Be===502||Be===503||Be===504}a(Aa,"_isRetriable");function Ra(Be,At){return Be?"XMLHttpRequest,Status:"+Be.status+",Response:"+aa(Be)||0||0:At}a(Ra,"_formatErrorMessageXhr");function Eo(Be,At){var Lt=je[Ce],or=(0,Xe.Jj)(),Tr=new XDomainRequest;Tr.onload=function(){return je._xdrOnLoad(Tr,Be)},Tr.onerror=function(pi){return je[ln](Be,Ia(Tr),pi)};var $r=or&&or.location&&or.location.protocol||"";if(je[Ft][yt]().lastIndexOf($r,0)!==0){(0,be.kP)(je[it](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Lt[bi]();return}var Br=je[Ft][yt]().replace(/^(https?:)/,"");Tr.open("POST",Br);var Pn=Lt[oi](Be);Tr.send(Pn),Lt[kn](Be)}a(Eo,"_xdrSender");function Ia(Be,At){return Be?"XDomainRequest,Response:"+aa(Be)||0:At}a(Ia,"_formatErrorMessageXdr");function Ga(){var Be="getNotifyMgr";return je.core[Be]?je.core[Be]():je.core._notificationManager}a(Ga,"_getNotifyMgr");function os(Be,At){var Lt=Ga();if(Lt&&Lt[ta])try{Lt[ta](Be,At)}catch(or){(0,be.kP)(je[it](),1,74,"send request notification failed: "+(0,O.jj)(or),{exception:(0,Xe.eU)(or)})}}a(os,"_notifySendRequest");function ss(Be){var At=(0,O.le)(Be[Ba])?!1:Be[Ba];if(At)return!0;var Lt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",or=new RegExp(Lt);return or.test(Be[Qe])}a(ss,"_validateInstrumentationKey");function Ya(){je[Nt]=null,je[Ce]=null,je._appId=null,je._sample=null,jt={},Or=null,q=0,ge=null,Ie=null,Ke=!1,tt=null,Dt=null,bt=0,cr=0,qr=null,fr=null,xn=null}a(Ya,"_initDefaults")}),k}return a(C,"Sender"),C.constructEnvelope=function(k,q,ge,Ie){var Ke;q!==k.iKey&&!(0,O.le)(q)?Ke=(0,p.uc)((0,p.uc)({},k),{iKey:q}):Ke=k;var tt=po[Ke.baseType]||Ha;return tt(ge,Ke,Ie)},C}(Bt.i),ns=";",Ci="=";function mo(N){if(!N)return{};var C=N[V](ns),k=(0,O.Xz)(C,function(ge,Ie){var Ke=Ie[V](Ci);if(Ke[G]===2){var tt=Ke[0][le](),Dt=Ke[1];ge[tt]=Dt}return ge},{});if((0,O.FY)(k)[G]>0){if(k.endpointsuffix){var q=k.location?k.location+".":"";k[M]=k[M]||"https://"+q+"dc."+k.endpointsuffix}k[M]=k[M]||y}return k}a(mo,"parseConnectionString");var Ws={parse:mo},za=E(5121),_a="instrumentationKey",ja="connectionString",oa="diagnosticLogInterval",xa=E(7310),is=(0,Gn.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),as=function(){function N(C){var k=new za.F;((0,O.le)(C)||(0,O.le)(C[_a])&&(0,O.le)(C[ja]))&&(0,O._y)("Invalid input configuration"),(0,v.Z)(N,this,function(q){if(C[ja]){var ge=mo(C[ja]),Ie=ge.ingestionendpoint;C.endpointUrl=Ie?Ie+b:C.endpointUrl,C[_a]=ge.instrumentationkey||C[_a]}q.config=C,Ke(),q.initialize=Ke,q.getSKUDefaults=function(){q.config[oa]=q.config[oa]&&q.config[oa]>0?q.config[oa]:1e4},q.getSKUDefaults(),(0,O.Vb)(q,k,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Ke(){k.initialize(q.config,[new vo]),k.pollInternalLogs()}a(Ke,"_initialize")})}return a(N,"ApplicationInsights"),N.__ieDyn=1,N}()},1679:(fe,l,E)=>{"use strict";E.d(l,{Z:()=>st});/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var v,p="undefined",w="constructor",_="prototype",I="function",D="_dynInstFuncs",h="_isDynProxy",S="_dynClass",x="_dynCls$",y="_dynInstChk",b=y,B="_dfOpts",F="_unknown_",V="__proto__",G="_dyn"+V,le="__dynProto$Gbl",M="_dynInstProto",W="useBaseInst",U="setInstFuncs",A=Object,L=A.getPrototypeOf,$=A.getOwnPropertyNames;function te(){var Y;return typeof globalThis!==p&&(Y=globalThis),!Y&&typeof self!==p&&(Y=self),!Y&&typeof window!==p&&(Y=window),!Y&&typeof E.g!==p&&(Y=E.g),Y||{}}a(te,"_getGlobal");var Z=te(),re=Z[le]||(Z[le]={o:(v={},v[U]=!0,v[W]=!0,v),n:1e3});function ce(Y,ee){return Y&&A[_].hasOwnProperty.call(Y,ee)}a(ce,"_hasOwnProperty");function Se(Y){return Y&&(Y===A[_]||Y===Array[_])}a(Se,"_isObjectOrArrayPrototype");function ie(Y){return Se(Y)||Y===Function[_]}a(ie,"_isObjectArrayOrFunctionPrototype");function me(Y){var ee;if(Y){if(L)return L(Y);var ae=Y[V]||Y[_]||(Y[w]?Y[w][_]:null);ee=Y[G]||ae,ce(Y,G)||(delete Y[M],ee=Y[G]=Y[M]||Y[G],Y[M]=ae)}return ee}a(me,"_getObjProto");function j(Y,ee){var ae=[];if($)ae=$(Y);else for(var ye in Y)typeof ye=="string"&&ce(Y,ye)&&ae.push(ye);if(ae&&ae.length>0)for(var ke=0;ke<ae.length;ke++)ee(ae[ke])}a(j,"_forEachProp");function Ve(Y,ee,ae){return ee!==w&&typeof Y[ee]===I&&(ae||ce(Y,ee))}a(Ve,"_isDynamicCandidate");function _e(Y){throw new TypeError("DynamicProto: "+Y)}a(_e,"_throwTypeError");function he(Y){var ee={};return j(Y,function(ae){!ee[ae]&&Ve(Y,ae,!1)&&(ee[ae]=Y[ae])}),ee}a(he,"_getInstanceFuncs");function Q(Y,ee){for(var ae=Y.length-1;ae>=0;ae--)if(Y[ae]===ee)return!0;return!1}a(Q,"_hasVisited");function ue(Y,ee,ae,ye){function ke(Me,Ze,Oe){var $e=Ze[Oe];if($e[h]&&ye){var pt=Me[D]||{};pt[b]!==!1&&($e=(pt[Ze[S]]||{})[Oe]||$e)}return function(){return $e.apply(Me,arguments)}}a(ke,"_instFuncProxy");var Ue={};j(ae,function(Me){Ue[Me]=ke(ee,ae,Me)});for(var pe=me(Y),Ae=[];pe&&!ie(pe)&&!Q(Ae,pe);)j(pe,function(Me){!Ue[Me]&&Ve(pe,Me,!L)&&(Ue[Me]=ke(ee,pe,Me))}),Ae.push(pe),pe=me(pe);return Ue}a(ue,"_getBaseFuncs");function De(Y,ee,ae,ye){var ke=null;if(Y&&ce(ae,S)){var Ue=Y[D]||{};if(ke=(Ue[ae[S]]||{})[ee],ke||_e("Missing ["+ee+"] "+I),!ke[y]&&Ue[b]!==!1){for(var pe=!ce(Y,ee),Ae=me(Y),Me=[];pe&&Ae&&!ie(Ae)&&!Q(Me,Ae);){var Ze=Ae[ee];if(Ze){pe=Ze===ye;break}Me.push(Ae),Ae=me(Ae)}try{pe&&(Y[ee]=ke),ke[y]=1}catch(Oe){Ue[b]=!1}}}return ke}a(De,"_getInstFunc");function Fe(Y,ee,ae){var ye=ee[Y];return ye===ae&&(ye=me(ee)[Y]),typeof ye!==I&&_e("["+Y+"] is not a "+I),ye}a(Fe,"_getProtoFunc");function ne(Y,ee,ae,ye,ke){function Ue(Me,Ze){var Oe=a(function(){var $e=De(this,Ze,Me,Oe)||Fe(Ze,Me,Oe);return $e.apply(this,arguments)},"dynProtoProxy");return Oe[h]=1,Oe}if(a(Ue,"_createDynamicPrototype"),!Se(Y)){var pe=ae[D]=ae[D]||{},Ae=pe[ee]=pe[ee]||{};pe[b]!==!1&&(pe[b]=!!ke),j(ae,function(Me){Ve(ae,Me,!1)&&ae[Me]!==ye[Me]&&(Ae[Me]=ae[Me],delete ae[Me],(!ce(Y,Me)||Y[Me]&&!Y[Me][h])&&(Y[Me]=Ue(Y,Me)))})}}a(ne,"_populatePrototype");function Ge(Y,ee){if(L){for(var ae=[],ye=me(ee);ye&&!ie(ye)&&!Q(ae,ye);){if(ye===Y)return!0;ae.push(ye),ye=me(ye)}return!1}return!0}a(Ge,"_checkPrototype");function et(Y,ee){return ce(Y,_)?Y.name||ee||F:((Y||{})[w]||{}).name||ee||F}a(et,"_getObjName");function st(Y,ee,ae,ye){ce(Y,_)||_e("theClass is an invalid class definition.");var ke=Y[_];Ge(ke,ee)||_e("["+et(Y)+"] not in hierarchy of ["+et(ee)+"]");var Ue=null;ce(ke,S)?Ue=ke[S]:(Ue=x+et(Y,"_")+"$"+re.n,re.n++,ke[S]=Ue);var pe=st[B],Ae=!!pe[W];Ae&&ye&&ye[W]!==void 0&&(Ae=!!ye[W]);var Me=he(ee),Ze=ue(ke,ee,Me,Ae);ae(ee,Ze);var Oe=!!L&&!!pe[U];Oe&&ye&&(Oe=!!ye[U]),ne(ke,Ue,ee,Me,Oe!==!1)}a(st,"dynamicProto"),st[B]=re.o},6232:(fe,l,E)=>{"use strict";const v=E(8641),p=E(8692),w=E(1474),_=E(5870),I=a((D,h={})=>{let S=[];if(Array.isArray(D))for(let x of D){let y=I.create(x,h);Array.isArray(y)?S.push(...y):S.push(y)}else S=[].concat(I.create(D,h));return h&&h.expand===!0&&h.nodupes===!0&&(S=[...new Set(S)]),S},"braces");I.parse=(D,h={})=>_(D,h),I.stringify=(D,h={})=>v(typeof D=="string"?I.parse(D,h):D,h),I.compile=(D,h={})=>(typeof D=="string"&&(D=I.parse(D,h)),p(D,h)),I.expand=(D,h={})=>{typeof D=="string"&&(D=I.parse(D,h));let S=w(D,h);return h.noempty===!0&&(S=S.filter(Boolean)),h.nodupes===!0&&(S=[...new Set(S)]),S},I.create=(D,h={})=>D===""||D.length<3?[D]:h.expand!==!0?I.compile(D,h):I.expand(D,h),fe.exports=I},8692:(fe,l,E)=>{"use strict";const v=E(1516),p=E(3596),w=a((_,I={})=>{let D=a((h,S={})=>{let x=p.isInvalidBrace(S),y=h.invalid===!0&&I.escapeInvalid===!0,b=x===!0||y===!0,B=I.escapeInvalid===!0?"\\":"",F="";if(h.isOpen===!0||h.isClose===!0)return B+h.value;if(h.type==="open")return b?B+h.value:"(";if(h.type==="close")return b?B+h.value:")";if(h.type==="comma")return h.prev.type==="comma"?"":b?h.value:"|";if(h.value)return h.value;if(h.nodes&&h.ranges>0){let V=p.reduce(h.nodes),G=v(...V,{...I,wrap:!1,toRegex:!0});if(G.length!==0)return V.length>1&&G.length>1?`(${G})`:G}if(h.nodes)for(let V of h.nodes)F+=D(V,h);return F},"walk");return D(_)},"compile");fe.exports=w},7007:fe=>{"use strict";fe.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(fe,l,E)=>{"use strict";const v=E(1516),p=E(8641),w=E(3596),_=a((D="",h="",S=!1)=>{let x=[];if(D=[].concat(D),h=[].concat(h),!h.length)return D;if(!D.length)return S?w.flatten(h).map(y=>`{${y}}`):h;for(let y of D)if(Array.isArray(y))for(let b of y)x.push(_(b,h,S));else for(let b of h)S===!0&&typeof b=="string"&&(b=`{${b}}`),x.push(Array.isArray(b)?_(y,b,S):y+b);return w.flatten(x)},"append"),I=a((D,h={})=>{let S=h.rangeLimit===void 0?1e3:h.rangeLimit,x=a((y,b={})=>{y.queue=[];let B=b,F=b.queue;for(;B.type!=="brace"&&B.type!=="root"&&B.parent;)B=B.parent,F=B.queue;if(y.invalid||y.dollar){F.push(_(F.pop(),p(y,h)));return}if(y.type==="brace"&&y.invalid!==!0&&y.nodes.length===2){F.push(_(F.pop(),["{}"]));return}if(y.nodes&&y.ranges>0){let M=w.reduce(y.nodes);if(w.exceedsLimit(...M,h.step,S))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let W=v(...M,h);W.length===0&&(W=p(y,h)),F.push(_(F.pop(),W)),y.nodes=[];return}let V=w.encloseBrace(y),G=y.queue,le=y;for(;le.type!=="brace"&&le.type!=="root"&&le.parent;)le=le.parent,G=le.queue;for(let M=0;M<y.nodes.length;M++){let W=y.nodes[M];if(W.type==="comma"&&y.type==="brace"){M===1&&G.push(""),G.push("");continue}if(W.type==="close"){F.push(_(F.pop(),G,V));continue}if(W.value&&W.type!=="open"){G.push(_(G.pop(),W.value));continue}W.nodes&&x(W,y)}return G},"walk");return w.flatten(x(D))},"expand");fe.exports=I},5870:(fe,l,E)=>{"use strict";const v=E(8641),{MAX_LENGTH:p,CHAR_BACKSLASH:w,CHAR_BACKTICK:_,CHAR_COMMA:I,CHAR_DOT:D,CHAR_LEFT_PARENTHESES:h,CHAR_RIGHT_PARENTHESES:S,CHAR_LEFT_CURLY_BRACE:x,CHAR_RIGHT_CURLY_BRACE:y,CHAR_LEFT_SQUARE_BRACKET:b,CHAR_RIGHT_SQUARE_BRACKET:B,CHAR_DOUBLE_QUOTE:F,CHAR_SINGLE_QUOTE:V,CHAR_NO_BREAK_SPACE:G,CHAR_ZERO_WIDTH_NOBREAK_SPACE:le}=E(7007),M=a((W,U={})=>{if(typeof W!="string")throw new TypeError("Expected a string");let A=U||{},L=typeof A.maxLength=="number"?Math.min(p,A.maxLength):p;if(W.length>L)throw new SyntaxError(`Input length (${W.length}), exceeds max characters (${L})`);let $={type:"root",input:W,nodes:[]},te=[$],Z=$,re=$,ce=0,Se=W.length,ie=0,me=0,j,Ve={};const _e=a(()=>W[ie++],"advance"),he=a(Q=>{if(Q.type==="text"&&re.type==="dot"&&(re.type="text"),re&&re.type==="text"&&Q.type==="text"){re.value+=Q.value;return}return Z.nodes.push(Q),Q.parent=Z,Q.prev=re,re=Q,Q},"push");for(he({type:"bos"});ie<Se;)if(Z=te[te.length-1],j=_e(),!(j===le||j===G)){if(j===w){he({type:"text",value:(U.keepEscaping?j:"")+_e()});continue}if(j===B){he({type:"text",value:"\\"+j});continue}if(j===b){ce++;let Q=!0,ue;for(;ie<Se&&(ue=_e());){if(j+=ue,ue===b){ce++;continue}if(ue===w){j+=_e();continue}if(ue===B&&(ce--,ce===0))break}he({type:"text",value:j});continue}if(j===h){Z=he({type:"paren",nodes:[]}),te.push(Z),he({type:"text",value:j});continue}if(j===S){if(Z.type!=="paren"){he({type:"text",value:j});continue}Z=te.pop(),he({type:"text",value:j}),Z=te[te.length-1];continue}if(j===F||j===V||j===_){let Q=j,ue;for(U.keepQuotes!==!0&&(j="");ie<Se&&(ue=_e());){if(ue===w){j+=ue+_e();continue}if(ue===Q){U.keepQuotes===!0&&(j+=ue);break}j+=ue}he({type:"text",value:j});continue}if(j===x){me++;let Q=re.value&&re.value.slice(-1)==="$"||Z.dollar===!0;Z=he({type:"brace",open:!0,close:!1,dollar:Q,depth:me,commas:0,ranges:0,nodes:[]}),te.push(Z),he({type:"open",value:j});continue}if(j===y){if(Z.type!=="brace"){he({type:"text",value:j});continue}let Q="close";Z=te.pop(),Z.close=!0,he({type:Q,value:j}),me--,Z=te[te.length-1];continue}if(j===I&&me>0){if(Z.ranges>0){Z.ranges=0;let Q=Z.nodes.shift();Z.nodes=[Q,{type:"text",value:v(Z)}]}he({type:"comma",value:j}),Z.commas++;continue}if(j===D&&me>0&&Z.commas===0){let Q=Z.nodes;if(me===0||Q.length===0){he({type:"text",value:j});continue}if(re.type==="dot"){if(Z.range=[],re.value+=j,re.type="range",Z.nodes.length!==3&&Z.nodes.length!==5){Z.invalid=!0,Z.ranges=0,re.type="text";continue}Z.ranges++,Z.args=[];continue}if(re.type==="range"){Q.pop();let ue=Q[Q.length-1];ue.value+=re.value+j,re=ue,Z.ranges--;continue}he({type:"dot",value:j});continue}he({type:"text",value:j})}do if(Z=te.pop(),Z.type!=="root"){Z.nodes.forEach(De=>{De.nodes||(De.type==="open"&&(De.isOpen=!0),De.type==="close"&&(De.isClose=!0),De.nodes||(De.type="text"),De.invalid=!0)});let Q=te[te.length-1],ue=Q.nodes.indexOf(Z);Q.nodes.splice(ue,1,...Z.nodes)}while(te.length>0);return he({type:"eos"}),$},"parse");fe.exports=M},8641:(fe,l,E)=>{"use strict";const v=E(3596);fe.exports=(p,w={})=>{let _=a((I,D={})=>{let h=w.escapeInvalid&&v.isInvalidBrace(D),S=I.invalid===!0&&w.escapeInvalid===!0,x="";if(I.value)return(h||S)&&v.isOpenOrClose(I)?"\\"+I.value:I.value;if(I.value)return I.value;if(I.nodes)for(let y of I.nodes)x+=_(y);return x},"stringify");return _(p)}},3596:(fe,l)=>{"use strict";l.isInteger=E=>typeof E=="number"?Number.isInteger(E):typeof E=="string"&&E.trim()!==""?Number.isInteger(Number(E)):!1,l.find=(E,v)=>E.nodes.find(p=>p.type===v),l.exceedsLimit=(E,v,p=1,w)=>w===!1||!l.isInteger(E)||!l.isInteger(v)?!1:(Number(v)-Number(E))/Number(p)>=w,l.escapeNode=(E,v=0,p)=>{let w=E.nodes[v];!w||(p&&w.type===p||w.type==="open"||w.type==="close")&&w.escaped!==!0&&(w.value="\\"+w.value,w.escaped=!0)},l.encloseBrace=E=>E.type!=="brace"?!1:E.commas>>0+E.ranges>>0==0?(E.invalid=!0,!0):!1,l.isInvalidBrace=E=>E.type!=="brace"?!1:E.invalid===!0||E.dollar?!0:E.commas>>0+E.ranges>>0==0||E.open!==!0||E.close!==!0?(E.invalid=!0,!0):!1,l.isOpenOrClose=E=>E.type==="open"||E.type==="close"?!0:E.open===!0||E.close===!0,l.reduce=E=>E.reduce((v,p)=>(p.type==="text"&&v.push(p.value),p.type==="range"&&(p.type="text"),v),[]),l.flatten=(...E)=>{const v=[],p=a(w=>{for(let _=0;_<w.length;_++){let I=w[_];Array.isArray(I)?p(I,v):I!==void 0&&v.push(I)}return v},"flat");return p(E),v}},1516:(fe,l,E)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const v=E(6529),p=E(2999),w=a(A=>A!==null&&typeof A=="object"&&!Array.isArray(A),"isObject"),_=a(A=>L=>A===!0?Number(L):String(L),"transform"),I=a(A=>typeof A=="number"||typeof A=="string"&&A!=="","isValidValue"),D=a(A=>Number.isInteger(+A),"isNumber"),h=a(A=>{let L=`${A}`,$=-1;if(L[0]==="-"&&(L=L.slice(1)),L==="0")return!1;for(;L[++$]==="0";);return $>0},"zeros"),S=a((A,L,$)=>typeof A=="string"||typeof L=="string"?!0:$.stringify===!0,"stringify"),x=a((A,L,$)=>{if(L>0){let te=A[0]==="-"?"-":"";te&&(A=A.slice(1)),A=te+A.padStart(te?L-1:L,"0")}return $===!1?String(A):A},"pad"),y=a((A,L)=>{let $=A[0]==="-"?"-":"";for($&&(A=A.slice(1),L--);A.length<L;)A="0"+A;return $?"-"+A:A},"toMaxLen"),b=a((A,L)=>{A.negatives.sort((ce,Se)=>ce<Se?-1:ce>Se?1:0),A.positives.sort((ce,Se)=>ce<Se?-1:ce>Se?1:0);let $=L.capture?"":"?:",te="",Z="",re;return A.positives.length&&(te=A.positives.join("|")),A.negatives.length&&(Z=`-(${$}${A.negatives.join("|")})`),te&&Z?re=`${te}|${Z}`:re=te||Z,L.wrap?`(${$}${re})`:re},"toSequence"),B=a((A,L,$,te)=>{if($)return p(A,L,{wrap:!1,...te});let Z=String.fromCharCode(A);if(A===L)return Z;let re=String.fromCharCode(L);return`[${Z}-${re}]`},"toRange"),F=a((A,L,$)=>{if(Array.isArray(A)){let te=$.wrap===!0,Z=$.capture?"":"?:";return te?`(${Z}${A.join("|")})`:A.join("|")}return p(A,L,$)},"toRegex"),V=a((...A)=>new RangeError("Invalid range arguments: "+v.inspect(...A)),"rangeError"),G=a((A,L,$)=>{if($.strictRanges===!0)throw V([A,L]);return[]},"invalidRange"),le=a((A,L)=>{if(L.strictRanges===!0)throw new TypeError(`Expected step "${A}" to be a number`);return[]},"invalidStep"),M=a((A,L,$=1,te={})=>{let Z=Number(A),re=Number(L);if(!Number.isInteger(Z)||!Number.isInteger(re)){if(te.strictRanges===!0)throw V([A,L]);return[]}Z===0&&(Z=0),re===0&&(re=0);let ce=Z>re,Se=String(A),ie=String(L),me=String($);$=Math.max(Math.abs($),1);let j=h(Se)||h(ie)||h(me),Ve=j?Math.max(Se.length,ie.length,me.length):0,_e=j===!1&&S(A,L,te)===!1,he=te.transform||_(_e);if(te.toRegex&&$===1)return B(y(A,Ve),y(L,Ve),!0,te);let Q={negatives:[],positives:[]},ue=a(ne=>Q[ne<0?"negatives":"positives"].push(Math.abs(ne)),"push"),De=[],Fe=0;for(;ce?Z>=re:Z<=re;)te.toRegex===!0&&$>1?ue(Z):De.push(x(he(Z,Fe),Ve,_e)),Z=ce?Z-$:Z+$,Fe++;return te.toRegex===!0?$>1?b(Q,te):F(De,null,{wrap:!1,...te}):De},"fillNumbers"),W=a((A,L,$=1,te={})=>{if(!D(A)&&A.length>1||!D(L)&&L.length>1)return G(A,L,te);let Z=te.transform||(_e=>String.fromCharCode(_e)),re=`${A}`.charCodeAt(0),ce=`${L}`.charCodeAt(0),Se=re>ce,ie=Math.min(re,ce),me=Math.max(re,ce);if(te.toRegex&&$===1)return B(ie,me,!1,te);let j=[],Ve=0;for(;Se?re>=ce:re<=ce;)j.push(Z(re,Ve)),re=Se?re-$:re+$,Ve++;return te.toRegex===!0?F(j,null,{wrap:!1,options:te}):j},"fillLetters"),U=a((A,L,$,te={})=>{if(L==null&&I(A))return[A];if(!I(A)||!I(L))return G(A,L,te);if(typeof $=="function")return U(A,L,1,{transform:$});if(w($))return U(A,L,0,$);let Z={...te};return Z.capture===!0&&(Z.wrap=!0),$=$||Z.step||1,D($)?D(A)&&D(L)?M(A,L,$,Z):W(A,L,Math.max(Math.abs($),1),Z):$!=null&&!w($)?le($,Z):U(A,L,1,$)},"fill");fe.exports=U},3338:fe=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */fe.exports=function(l){return typeof l=="number"?l-l==0:typeof l=="string"&&l.trim()!==""?Number.isFinite?Number.isFinite(+l):isFinite(+l):!1}},5179:(fe,l,E)=>{fe=E.nmd(fe);var v=200,p="__lodash_hash_undefined__",w=1,_=2,I=9007199254740991,D="[object Arguments]",h="[object Array]",S="[object AsyncFunction]",x="[object Boolean]",y="[object Date]",b="[object Error]",B="[object Function]",F="[object GeneratorFunction]",V="[object Map]",G="[object Number]",le="[object Null]",M="[object Object]",W="[object Promise]",U="[object Proxy]",A="[object RegExp]",L="[object Set]",$="[object String]",te="[object Symbol]",Z="[object Undefined]",re="[object WeakMap]",ce="[object ArrayBuffer]",Se="[object DataView]",ie="[object Float32Array]",me="[object Float64Array]",j="[object Int8Array]",Ve="[object Int16Array]",_e="[object Int32Array]",he="[object Uint8Array]",Q="[object Uint8ClampedArray]",ue="[object Uint16Array]",De="[object Uint32Array]",Fe=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,Ge=/^(?:0|[1-9]\d*)$/,et={};et[ie]=et[me]=et[j]=et[Ve]=et[_e]=et[he]=et[Q]=et[ue]=et[De]=!0,et[D]=et[h]=et[ce]=et[x]=et[Se]=et[y]=et[b]=et[B]=et[V]=et[G]=et[M]=et[A]=et[L]=et[$]=et[re]=!1;var st=typeof E.g=="object"&&E.g&&E.g.Object===Object&&E.g,Y=typeof self=="object"&&self&&self.Object===Object&&self,ee=st||Y||Function("return this")(),ae=l&&!l.nodeType&&l,ye=ae&&!0&&fe&&!fe.nodeType&&fe,ke=ye&&ye.exports===ae,Ue=ke&&st.process,pe=function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch(K){}}(),Ae=pe&&pe.isTypedArray;function Me(K,X){for(var qe=-1,dt=K==null?0:K.length,zt=0,$t=[];++qe<dt;){var hr=K[qe];X(hr,qe,K)&&($t[zt++]=hr)}return $t}a(Me,"arrayFilter");function Ze(K,X){for(var qe=-1,dt=X.length,zt=K.length;++qe<dt;)K[zt+qe]=X[qe];return K}a(Ze,"arrayPush");function Oe(K,X){for(var qe=-1,dt=K==null?0:K.length;++qe<dt;)if(X(K[qe],qe,K))return!0;return!1}a(Oe,"arraySome");function $e(K,X){for(var qe=-1,dt=Array(K);++qe<K;)dt[qe]=X(qe);return dt}a($e,"baseTimes");function pt(K){return function(X){return K(X)}}a(pt,"baseUnary");function ot(K,X){return K.has(X)}a(ot,"cacheHas");function Re(K,X){return K==null?void 0:K[X]}a(Re,"getValue");function O(K){var X=-1,qe=Array(K.size);return K.forEach(function(dt,zt){qe[++X]=[zt,dt]}),qe}a(O,"mapToArray");function be(K,X){return function(qe){return K(X(qe))}}a(be,"overArg");function Xe(K){var X=-1,qe=Array(K.size);return K.forEach(function(dt){qe[++X]=dt}),qe}a(Xe,"setToArray");var Jt=Array.prototype,yr=Function.prototype,br=Object.prototype,P=ee["__core-js_shared__"],d=yr.toString,m=br.hasOwnProperty,J=function(){var K=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),de=br.toString,Ne=RegExp("^"+d.call(m).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=ke?ee.Buffer:void 0,ht=ee.Symbol,It=ee.Uint8Array,Pt=br.propertyIsEnumerable,Ot=Jt.splice,Vt=ht?ht.toStringTag:void 0,Hr=Object.getOwnPropertySymbols,mn=ve?ve.isBuffer:void 0,an=be(Object.keys,Object),Vr=li(ee,"DataView"),On=li(ee,"Map"),yn=li(ee,"Promise"),$n=li(ee,"Set"),In=li(ee,"WeakMap"),Dr=li(Object,"create"),tn=kt(Vr),on=kt(On),ri=kt(yn),ni=kt($n),ii=kt(In),An=ht?ht.prototype:void 0,z=An?An.valueOf:void 0;function we(K){var X=-1,qe=K==null?0:K.length;for(this.clear();++X<qe;){var dt=K[X];this.set(dt[0],dt[1])}}a(we,"Hash");function Pe(){this.__data__=Dr?Dr(null):{},this.size=0}a(Pe,"hashClear");function ze(K){var X=this.has(K)&&delete this.__data__[K];return this.size-=X?1:0,X}a(ze,"hashDelete");function at(K){var X=this.__data__;if(Dr){var qe=X[K];return qe===p?void 0:qe}return m.call(X,K)?X[K]:void 0}a(at,"hashGet");function nt(K){var X=this.__data__;return Dr?X[K]!==void 0:m.call(X,K)}a(nt,"hashHas");function mt(K,X){var qe=this.__data__;return this.size+=this.has(K)?0:1,qe[K]=Dr&&X===void 0?p:X,this}a(mt,"hashSet"),we.prototype.clear=Pe,we.prototype.delete=ze,we.prototype.get=at,we.prototype.has=nt,we.prototype.set=mt;function Rt(K){var X=-1,qe=K==null?0:K.length;for(this.clear();++X<qe;){var dt=K[X];this.set(dt[0],dt[1])}}a(Rt,"ListCache");function Ut(){this.__data__=[],this.size=0}a(Ut,"listCacheClear");function rr(K){var X=this.__data__,qe=un(X,K);if(qe<0)return!1;var dt=X.length-1;return qe==dt?X.pop():Ot.call(X,qe,1),--this.size,!0}a(rr,"listCacheDelete");function Tt(K){var X=this.__data__,qe=un(X,K);return qe<0?void 0:X[qe][1]}a(Tt,"listCacheGet");function qt(K){return un(this.__data__,K)>-1}a(qt,"listCacheHas");function Kt(K,X){var qe=this.__data__,dt=un(qe,K);return dt<0?(++this.size,qe.push([K,X])):qe[dt][1]=X,this}a(Kt,"listCacheSet"),Rt.prototype.clear=Ut,Rt.prototype.delete=rr,Rt.prototype.get=Tt,Rt.prototype.has=qt,Rt.prototype.set=Kt;function Yt(K){var X=-1,qe=K==null?0:K.length;for(this.clear();++X<qe;){var dt=K[X];this.set(dt[0],dt[1])}}a(Yt,"MapCache");function Mt(){this.size=0,this.__data__={hash:new we,map:new(On||Rt),string:new we}}a(Mt,"mapCacheClear");function Mr(K){var X=qn(this,K).delete(K);return this.size-=X?1:0,X}a(Mr,"mapCacheDelete");function xr(K){return qn(this,K).get(K)}a(xr,"mapCacheGet");function En(K){return qn(this,K).has(K)}a(En,"mapCacheHas");function sn(K,X){var qe=qn(this,K),dt=qe.size;return qe.set(K,X),this.size+=qe.size==dt?0:1,this}a(sn,"mapCacheSet"),Yt.prototype.clear=Mt,Yt.prototype.delete=Mr,Yt.prototype.get=xr,Yt.prototype.has=En,Yt.prototype.set=sn;function hn(K){var X=-1,qe=K==null?0:K.length;for(this.__data__=new Yt;++X<qe;)this.add(K[X])}a(hn,"SetCache");function Hn(K){return this.__data__.set(K,p),this}a(Hn,"setCacheAdd");function Gn(K){return this.__data__.has(K)}a(Gn,"setCacheHas"),hn.prototype.add=hn.prototype.push=Hn,hn.prototype.has=Gn;function Kr(K){var X=this.__data__=new Rt(K);this.size=X.size}a(Kr,"Stack");function Wn(){this.__data__=new Rt,this.size=0}a(Wn,"stackClear");function er(K){var X=this.__data__,qe=X.delete(K);return this.size=X.size,qe}a(er,"stackDelete");function Qr(K){return this.__data__.get(K)}a(Qr,"stackGet");function Ar(K){return this.__data__.has(K)}a(Ar,"stackHas");function Er(K,X){var qe=this.__data__;if(qe instanceof Rt){var dt=qe.__data__;if(!On||dt.length<v-1)return dt.push([K,X]),this.size=++qe.size,this;qe=this.__data__=new Yt(dt)}return qe.set(K,X),this.size=qe.size,this}a(Er,"stackSet"),Kr.prototype.clear=Wn,Kr.prototype.delete=er,Kr.prototype.get=Qr,Kr.prototype.has=Ar,Kr.prototype.set=Er;function jr(K,X){var qe=nr(K),dt=!qe&&St(K),zt=!qe&&!dt&&vr(K),$t=!qe&&!dt&&!zt&&Bt(K),hr=qe||dt||zt||$t,pr=hr?$e(K.length,String):[],ar=pr.length;for(var dr in K)(X||m.call(K,dr))&&!(hr&&(dr=="length"||zt&&(dr=="offset"||dr=="parent")||$t&&(dr=="buffer"||dr=="byteLength"||dr=="byteOffset")||Gi(dr,ar)))&&pr.push(dr);return pr}a(jr,"arrayLikeKeys");function un(K,X){for(var qe=K.length;qe--;)if(Zt(K[qe][0],X))return qe;return-1}a(un,"assocIndexOf");function Fn(K,X,qe){var dt=X(K);return nr(K)?dt:Ze(dt,qe(K))}a(Fn,"baseGetAllKeys");function Yn(K){return K==null?K===void 0?Z:le:Vt&&Vt in Object(K)?Ki(K):ft(K)}a(Yn,"baseGetTag");function Ai(K){return kr(K)&&Yn(K)==D}a(Ai,"baseIsArguments");function Ri(K,X,qe,dt,zt){return K===X?!0:K==null||X==null||!kr(K)&&!kr(X)?K!==K&&X!==X:Zi(K,X,qe,dt,Ri,zt)}a(Ri,"baseIsEqual");function Zi(K,X,qe,dt,zt,$t){var hr=nr(K),pr=nr(X),ar=hr?h:ci(K),dr=pr?h:ci(X);ar=ar==D?M:ar,dr=dr==D?M:dr;var lr=ar==M,Qt=dr==M,xt=ar==dr;if(xt&&vr(K)){if(!vr(X))return!1;hr=!0,lr=!1}if(xt&&!lr)return $t||($t=new Kr),hr||Bt(K)?Xi(K,X,qe,dt,zt,$t):Sn(K,X,ar,qe,dt,zt,$t);if(!(qe&w)){var Ir=lr&&m.call(K,"__wrapped__"),Fr=Qt&&m.call(X,"__wrapped__");if(Ir||Fr){var Ur=Ir?K.value():K,Zr=Fr?X.value():X;return $t||($t=new Kr),zt(Ur,Zr,qe,dt,$t)}}return xt?($t||($t=new Kr),Ei(K,X,qe,dt,zt,$t)):!1}a(Zi,"baseIsEqualDeep");function da(K){if(!rn(K)||ut(K))return!1;var X=Jr(K)?Ne:ne;return X.test(kt(K))}a(da,"baseIsNative");function gt(K){return kr(K)&&Yr(K.length)&&!!et[Yn(K)]}a(gt,"baseIsTypedArray");function wi(K){if(!wt(K))return an(K);var X=[];for(var qe in Object(K))m.call(K,qe)&&qe!="constructor"&&X.push(qe);return X}a(wi,"baseKeys");function Xi(K,X,qe,dt,zt,$t){var hr=qe&w,pr=K.length,ar=X.length;if(pr!=ar&&!(hr&&ar>pr))return!1;var dr=$t.get(K);if(dr&&$t.get(X))return dr==X;var lr=-1,Qt=!0,xt=qe&_?new hn:void 0;for($t.set(K,X),$t.set(X,K);++lr<pr;){var Ir=K[lr],Fr=X[lr];if(dt)var Ur=hr?dt(Fr,Ir,lr,X,K,$t):dt(Ir,Fr,lr,K,X,$t);if(Ur!==void 0){if(Ur)continue;Qt=!1;break}if(xt){if(!Oe(X,function(Zr,Xt){if(!ot(xt,Xt)&&(Ir===Zr||zt(Ir,Zr,qe,dt,$t)))return xt.push(Xt)})){Qt=!1;break}}else if(!(Ir===Fr||zt(Ir,Fr,qe,dt,$t))){Qt=!1;break}}return $t.delete(K),$t.delete(X),Qt}a(Xi,"equalArrays");function Sn(K,X,qe,dt,zt,$t,hr){switch(qe){case Se:if(K.byteLength!=X.byteLength||K.byteOffset!=X.byteOffset)return!1;K=K.buffer,X=X.buffer;case ce:return!(K.byteLength!=X.byteLength||!$t(new It(K),new It(X)));case x:case y:case G:return Zt(+K,+X);case b:return K.name==X.name&&K.message==X.message;case A:case $:return K==X+"";case V:var pr=O;case L:var ar=dt&w;if(pr||(pr=Xe),K.size!=X.size&&!ar)return!1;var dr=hr.get(K);if(dr)return dr==X;dt|=_,hr.set(K,X);var lr=Xi(pr(K),pr(X),dt,zt,$t,hr);return hr.delete(K),lr;case te:if(z)return z.call(K)==z.call(X)}return!1}a(Sn,"equalByTag");function Ei(K,X,qe,dt,zt,$t){var hr=qe&w,pr=ui(K),ar=pr.length,dr=ui(X),lr=dr.length;if(ar!=lr&&!hr)return!1;for(var Qt=ar;Qt--;){var xt=pr[Qt];if(!(hr?xt in X:m.call(X,xt)))return!1}var Ir=$t.get(K);if(Ir&&$t.get(X))return Ir==X;var Fr=!0;$t.set(K,X),$t.set(X,K);for(var Ur=hr;++Qt<ar;){xt=pr[Qt];var Zr=K[xt],Xt=X[xt];if(dt)var Nn=hr?dt(Xt,Zr,xt,X,K,$t):dt(Zr,Xt,xt,K,X,$t);if(!(Nn===void 0?Zr===Xt||zt(Zr,Xt,qe,dt,$t):Nn)){Fr=!1;break}Ur||(Ur=xt=="constructor")}if(Fr&&!Ur){var _n=K.constructor,Nr=X.constructor;_n!=Nr&&"constructor"in K&&"constructor"in X&&!(typeof _n=="function"&&_n instanceof _n&&typeof Nr=="function"&&Nr instanceof Nr)&&(Fr=!1)}return $t.delete(K),$t.delete(X),Fr}a(Ei,"equalObjects");function ui(K){return Fn(K,ir,Mi)}a(ui,"getAllKeys");function qn(K,X){var qe=K.__data__;return We(X)?qe[typeof X=="string"?"string":"hash"]:qe.map}a(qn,"getMapData");function li(K,X){var qe=Re(K,X);return da(qe)?qe:void 0}a(li,"getNative");function Ki(K){var X=m.call(K,Vt),qe=K[Vt];try{K[Vt]=void 0;var dt=!0}catch($t){}var zt=de.call(K);return dt&&(X?K[Vt]=qe:delete K[Vt]),zt}a(Ki,"getRawTag");var Mi=Hr?function(K){return K==null?[]:(K=Object(K),Me(Hr(K),function(X){return Pt.call(K,X)}))}:_r,ci=Yn;(Vr&&ci(new Vr(new ArrayBuffer(1)))!=Se||On&&ci(new On)!=V||yn&&ci(yn.resolve())!=W||$n&&ci(new $n)!=L||In&&ci(new In)!=re)&&(ci=a(function(K){var X=Yn(K),qe=X==M?K.constructor:void 0,dt=qe?kt(qe):"";if(dt)switch(dt){case tn:return Se;case on:return V;case ri:return W;case ni:return L;case ii:return re}return X},"getTag"));function Gi(K,X){return X=X==null?I:X,!!X&&(typeof K=="number"||Ge.test(K))&&K>-1&&K%1==0&&K<X}a(Gi,"isIndex");function We(K){var X=typeof K;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?K!=="__proto__":K===null}a(We,"isKeyable");function ut(K){return!!J&&J in K}a(ut,"isMasked");function wt(K){var X=K&&K.constructor,qe=typeof X=="function"&&X.prototype||br;return K===qe}a(wt,"isPrototype");function ft(K){return de.call(K)}a(ft,"objectToString");function kt(K){if(K!=null){try{return d.call(K)}catch(X){}try{return K+""}catch(X){}}return""}a(kt,"toSource");function Zt(K,X){return K===X||K!==K&&X!==X}a(Zt,"eq");var St=Ai(function(){return arguments}())?Ai:function(K){return kr(K)&&m.call(K,"callee")&&!Pt.call(K,"callee")},nr=Array.isArray;function Wt(K){return K!=null&&Yr(K.length)&&!Jr(K)}a(Wt,"isArrayLike");var vr=mn||wr;function Rr(K,X){return Ri(K,X)}a(Rr,"isEqual");function Jr(K){if(!rn(K))return!1;var X=Yn(K);return X==B||X==F||X==S||X==U}a(Jr,"isFunction");function Yr(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=I}a(Yr,"isLength");function rn(K){var X=typeof K;return K!=null&&(X=="object"||X=="function")}a(rn,"isObject");function kr(K){return K!=null&&typeof K=="object"}a(kr,"isObjectLike");var Bt=Ae?pt(Ae):gt;function ir(K){return Wt(K)?jr(K):wi(K)}a(ir,"keys");function _r(){return[]}a(_r,"stubArray");function wr(){return!1}a(wr,"stubFalse"),fe.exports=Rr},919:(fe,l,E)=>{"use strict";const v=E(6391),p=E(6232),w=E(6796),_=E(292),I=a(h=>h===""||h==="./","isEmptyString"),D=a((h,S,x)=>{S=[].concat(S),h=[].concat(h);let y=new Set,b=new Set,B=new Set,F=0,V=a(M=>{B.add(M.output),x&&x.onResult&&x.onResult(M)},"onResult");for(let M=0;M<S.length;M++){let W=w(String(S[M]),{...x,onResult:V},!0),U=W.state.negated||W.state.negatedExtglob;U&&F++;for(let A of h){let L=W(A,!0);!(U?!L.isMatch:L.isMatch)||(U?y.add(L.output):(y.delete(L.output),b.add(L.output)))}}let le=(F===S.length?[...B]:[...b]).filter(M=>!y.has(M));if(x&&le.length===0){if(x.failglob===!0)throw new Error(`No matches found for "${S.join(", ")}"`);if(x.nonull===!0||x.nullglob===!0)return x.unescape?S.map(M=>M.replace(/\\/g,"")):S}return le},"micromatch");D.match=D,D.matcher=(h,S)=>w(h,S),D.isMatch=(h,S,x)=>w(S,x)(h),D.any=D.isMatch,D.not=(h,S,x={})=>{S=[].concat(S).map(String);let y=new Set,b=[],B=a(V=>{x.onResult&&x.onResult(V),b.push(V.output)},"onResult"),F=new Set(D(h,S,{...x,onResult:B}));for(let V of b)F.has(V)||y.add(V);return[...y]},D.contains=(h,S,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${v.inspect(h)}"`);if(Array.isArray(S))return S.some(y=>D.contains(h,y,x));if(typeof S=="string"){if(I(h)||I(S))return!1;if(h.includes(S)||h.startsWith("./")&&h.slice(2).includes(S))return!0}return D.isMatch(h,S,{...x,contains:!0})},D.matchKeys=(h,S,x)=>{if(!_.isObject(h))throw new TypeError("Expected the first argument to be an object");let y=D(Object.keys(h),S,x),b={};for(let B of y)b[B]=h[B];return b},D.some=(h,S,x)=>{let y=[].concat(h);for(let b of[].concat(S)){let B=w(String(b),x);if(y.some(F=>B(F)))return!0}return!1},D.every=(h,S,x)=>{let y=[].concat(h);for(let b of[].concat(S)){let B=w(String(b),x);if(!y.every(F=>B(F)))return!1}return!0},D.all=(h,S,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${v.inspect(h)}"`);return[].concat(S).every(y=>w(y,x)(h))},D.capture=(h,S,x)=>{let y=_.isWindows(x),B=w.makeRe(String(h),{...x,capture:!0}).exec(y?_.toPosixSlashes(S):S);if(B)return B.slice(1).map(F=>F===void 0?"":F)},D.makeRe=(...h)=>w.makeRe(...h),D.scan=(...h)=>w.scan(...h),D.parse=(h,S)=>{let x=[];for(let y of[].concat(h||[]))for(let b of p(String(y),S))x.push(w.parse(b,S));return x},D.braces=(h,S)=>{if(typeof h!="string")throw new TypeError("Expected a string");return S&&S.nobrace===!0||!/\{.*\}/.test(h)?[h]:p(h,S)},D.braceExpand=(h,S)=>{if(typeof h!="string")throw new TypeError("Expected a string");return D.braces(h,{...S,expand:!0})},fe.exports=D},6796:(fe,l,E)=>{"use strict";fe.exports=E(5761)},3889:(fe,l,E)=>{"use strict";const v=E(6470),p="\\\\/",w=`[^${p}]`,_="\\.",I="\\+",D="\\?",h="\\/",S="(?=.)",x="[^/]",y=`(?:${h}|$)`,b=`(?:^|${h})`,B=`${_}{1,2}${y}`,F=`(?!${_})`,V=`(?!${b}${B})`,G=`(?!${_}{0,1}${y})`,le=`(?!${B})`,M=`[^.${h}]`,W=`${x}*?`,U={DOT_LITERAL:_,PLUS_LITERAL:I,QMARK_LITERAL:D,SLASH_LITERAL:h,ONE_CHAR:S,QMARK:x,END_ANCHOR:y,DOTS_SLASH:B,NO_DOT:F,NO_DOTS:V,NO_DOT_SLASH:G,NO_DOTS_SLASH:le,QMARK_NO_DOT:M,STAR:W,START_ANCHOR:b},A={...U,SLASH_LITERAL:`[${p}]`,QMARK:w,STAR:`${w}*?`,DOTS_SLASH:`${_}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${_})`,NO_DOTS:`(?!(?:^|[${p}])${_}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${_}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${_}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},L={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fe.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:L,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:v.sep,extglobChars($){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${$.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars($){return $===!0?A:U}}},3969:(fe,l,E)=>{"use strict";const v=E(3889),p=E(292),{MAX_LENGTH:w,POSIX_REGEX_SOURCE:_,REGEX_NON_SPECIAL_CHARS:I,REGEX_SPECIAL_CHARS_BACKREF:D,REPLACEMENTS:h}=v,S=a((b,B)=>{if(typeof B.expandRange=="function")return B.expandRange(...b,B);b.sort();const F=`[${b.join("-")}]`;try{new RegExp(F)}catch(V){return b.map(G=>p.escapeRegex(G)).join("..")}return F},"expandRange"),x=a((b,B)=>`Missing ${b}: "${B}" - use "\\\\${B}" to match literal characters`,"syntaxError"),y=a((b,B)=>{if(typeof b!="string")throw new TypeError("Expected a string");b=h[b]||b;const F={...B},V=typeof F.maxLength=="number"?Math.min(w,F.maxLength):w;let G=b.length;if(G>V)throw new SyntaxError(`Input length: ${G}, exceeds maximum allowed length: ${V}`);const le={type:"bos",value:"",output:F.prepend||""},M=[le],W=F.capture?"":"?:",U=p.isWindows(B),A=v.globChars(U),L=v.extglobChars(A),{DOT_LITERAL:$,PLUS_LITERAL:te,SLASH_LITERAL:Z,ONE_CHAR:re,DOTS_SLASH:ce,NO_DOT:Se,NO_DOT_SLASH:ie,NO_DOTS_SLASH:me,QMARK:j,QMARK_NO_DOT:Ve,STAR:_e,START_ANCHOR:he}=A,Q=a(Re=>`(${W}(?:(?!${he}${Re.dot?ce:$}).)*?)`,"globstar"),ue=F.dot?"":Se,De=F.dot?j:Ve;let Fe=F.bash===!0?Q(F):_e;F.capture&&(Fe=`(${Fe})`),typeof F.noext=="boolean"&&(F.noextglob=F.noext);const ne={input:b,index:-1,start:0,dot:F.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:M};b=p.removePrefix(b,ne),G=b.length;const Ge=[],et=[],st=[];let Y=le,ee;const ae=a(()=>ne.index===G-1,"eos"),ye=ne.peek=(Re=1)=>b[ne.index+Re],ke=ne.advance=()=>b[++ne.index]||"",Ue=a(()=>b.slice(ne.index+1),"remaining"),pe=a((Re="",O=0)=>{ne.consumed+=Re,ne.index+=O},"consume"),Ae=a(Re=>{ne.output+=Re.output!=null?Re.output:Re.value,pe(Re.value)},"append"),Me=a(()=>{let Re=1;for(;ye()==="!"&&(ye(2)!=="("||ye(3)==="?");)ke(),ne.start++,Re++;return Re%2==0?!1:(ne.negated=!0,ne.start++,!0)},"negate"),Ze=a(Re=>{ne[Re]++,st.push(Re)},"increment"),Oe=a(Re=>{ne[Re]--,st.pop()},"decrement"),$e=a(Re=>{if(Y.type==="globstar"){const O=ne.braces>0&&(Re.type==="comma"||Re.type==="brace"),be=Re.extglob===!0||Ge.length&&(Re.type==="pipe"||Re.type==="paren");Re.type!=="slash"&&Re.type!=="paren"&&!O&&!be&&(ne.output=ne.output.slice(0,-Y.output.length),Y.type="star",Y.value="*",Y.output=Fe,ne.output+=Y.output)}if(Ge.length&&Re.type!=="paren"&&(Ge[Ge.length-1].inner+=Re.value),(Re.value||Re.output)&&Ae(Re),Y&&Y.type==="text"&&Re.type==="text"){Y.value+=Re.value,Y.output=(Y.output||"")+Re.value;return}Re.prev=Y,M.push(Re),Y=Re},"push"),pt=a((Re,O)=>{const be={...L[O],conditions:1,inner:""};be.prev=Y,be.parens=ne.parens,be.output=ne.output;const Xe=(F.capture?"(":"")+be.open;Ze("parens"),$e({type:Re,value:O,output:ne.output?"":re}),$e({type:"paren",extglob:!0,value:ke(),output:Xe}),Ge.push(be)},"extglobOpen"),ot=a(Re=>{let O=Re.close+(F.capture?")":""),be;if(Re.type==="negate"){let Xe=Fe;if(Re.inner&&Re.inner.length>1&&Re.inner.includes("/")&&(Xe=Q(F)),(Xe!==Fe||ae()||/^\)+$/.test(Ue()))&&(O=Re.close=`)$))${Xe}`),Re.inner.includes("*")&&(be=Ue())&&/^\.[^\\/.]+$/.test(be)){const Jt=y(be,{...B,fastpaths:!1}).output;O=Re.close=`)${Jt})${Xe})`}Re.prev.type==="bos"&&(ne.negatedExtglob=!0)}$e({type:"paren",extglob:!0,value:ee,output:O}),Oe("parens")},"extglobClose");if(F.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(b)){let Re=!1,O=b.replace(D,(be,Xe,Jt,yr,br,P)=>yr==="\\"?(Re=!0,be):yr==="?"?Xe?Xe+yr+(br?j.repeat(br.length):""):P===0?De+(br?j.repeat(br.length):""):j.repeat(Jt.length):yr==="."?$.repeat(Jt.length):yr==="*"?Xe?Xe+yr+(br?Fe:""):Fe:Xe?be:`\\${be}`);return Re===!0&&(F.unescape===!0?O=O.replace(/\\/g,""):O=O.replace(/\\+/g,be=>be.length%2==0?"\\\\":be?"\\":"")),O===b&&F.contains===!0?(ne.output=b,ne):(ne.output=p.wrapOutput(O,ne,B),ne)}for(;!ae();){if(ee=ke(),ee==="\0")continue;if(ee==="\\"){const be=ye();if(be==="/"&&F.bash!==!0||be==="."||be===";")continue;if(!be){ee+="\\",$e({type:"text",value:ee});continue}const Xe=/^\\+/.exec(Ue());let Jt=0;if(Xe&&Xe[0].length>2&&(Jt=Xe[0].length,ne.index+=Jt,Jt%2!=0&&(ee+="\\")),F.unescape===!0?ee=ke():ee+=ke(),ne.brackets===0){$e({type:"text",value:ee});continue}}if(ne.brackets>0&&(ee!=="]"||Y.value==="["||Y.value==="[^")){if(F.posix!==!1&&ee===":"){const be=Y.value.slice(1);if(be.includes("[")&&(Y.posix=!0,be.includes(":"))){const Xe=Y.value.lastIndexOf("["),Jt=Y.value.slice(0,Xe),yr=Y.value.slice(Xe+2),br=_[yr];if(br){Y.value=Jt+br,ne.backtrack=!0,ke(),!le.output&&M.indexOf(Y)===1&&(le.output=re);continue}}}(ee==="["&&ye()!==":"||ee==="-"&&ye()==="]")&&(ee=`\\${ee}`),ee==="]"&&(Y.value==="["||Y.value==="[^")&&(ee=`\\${ee}`),F.posix===!0&&ee==="!"&&Y.value==="["&&(ee="^"),Y.value+=ee,Ae({value:ee});continue}if(ne.quotes===1&&ee!=='"'){ee=p.escapeRegex(ee),Y.value+=ee,Ae({value:ee});continue}if(ee==='"'){ne.quotes=ne.quotes===1?0:1,F.keepQuotes===!0&&$e({type:"text",value:ee});continue}if(ee==="("){Ze("parens"),$e({type:"paren",value:ee});continue}if(ee===")"){if(ne.parens===0&&F.strictBrackets===!0)throw new SyntaxError(x("opening","("));const be=Ge[Ge.length-1];if(be&&ne.parens===be.parens+1){ot(Ge.pop());continue}$e({type:"paren",value:ee,output:ne.parens?")":"\\)"}),Oe("parens");continue}if(ee==="["){if(F.nobracket===!0||!Ue().includes("]")){if(F.nobracket!==!0&&F.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ee=`\\${ee}`}else Ze("brackets");$e({type:"bracket",value:ee});continue}if(ee==="]"){if(F.nobracket===!0||Y&&Y.type==="bracket"&&Y.value.length===1){$e({type:"text",value:ee,output:`\\${ee}`});continue}if(ne.brackets===0){if(F.strictBrackets===!0)throw new SyntaxError(x("opening","["));$e({type:"text",value:ee,output:`\\${ee}`});continue}Oe("brackets");const be=Y.value.slice(1);if(Y.posix!==!0&&be[0]==="^"&&!be.includes("/")&&(ee=`/${ee}`),Y.value+=ee,Ae({value:ee}),F.literalBrackets===!1||p.hasRegexChars(be))continue;const Xe=p.escapeRegex(Y.value);if(ne.output=ne.output.slice(0,-Y.value.length),F.literalBrackets===!0){ne.output+=Xe,Y.value=Xe;continue}Y.value=`(${W}${Xe}|${Y.value})`,ne.output+=Y.value;continue}if(ee==="{"&&F.nobrace!==!0){Ze("braces");const be={type:"brace",value:ee,output:"(",outputIndex:ne.output.length,tokensIndex:ne.tokens.length};et.push(be),$e(be);continue}if(ee==="}"){const be=et[et.length-1];if(F.nobrace===!0||!be){$e({type:"text",value:ee,output:ee});continue}let Xe=")";if(be.dots===!0){const Jt=M.slice(),yr=[];for(let br=Jt.length-1;br>=0&&(M.pop(),Jt[br].type!=="brace");br--)Jt[br].type!=="dots"&&yr.unshift(Jt[br].value);Xe=S(yr,F),ne.backtrack=!0}if(be.comma!==!0&&be.dots!==!0){const Jt=ne.output.slice(0,be.outputIndex),yr=ne.tokens.slice(be.tokensIndex);be.value=be.output="\\{",ee=Xe="\\}",ne.output=Jt;for(const br of yr)ne.output+=br.output||br.value}$e({type:"brace",value:ee,output:Xe}),Oe("braces"),et.pop();continue}if(ee==="|"){Ge.length>0&&Ge[Ge.length-1].conditions++,$e({type:"text",value:ee});continue}if(ee===","){let be=ee;const Xe=et[et.length-1];Xe&&st[st.length-1]==="braces"&&(Xe.comma=!0,be="|"),$e({type:"comma",value:ee,output:be});continue}if(ee==="/"){if(Y.type==="dot"&&ne.index===ne.start+1){ne.start=ne.index+1,ne.consumed="",ne.output="",M.pop(),Y=le;continue}$e({type:"slash",value:ee,output:Z});continue}if(ee==="."){if(ne.braces>0&&Y.type==="dot"){Y.value==="."&&(Y.output=$);const be=et[et.length-1];Y.type="dots",Y.output+=ee,Y.value+=ee,be.dots=!0;continue}if(ne.braces+ne.parens===0&&Y.type!=="bos"&&Y.type!=="slash"){$e({type:"text",value:ee,output:$});continue}$e({type:"dot",value:ee,output:$});continue}if(ee==="?"){if(!(Y&&Y.value==="(")&&F.noextglob!==!0&&ye()==="("&&ye(2)!=="?"){pt("qmark",ee);continue}if(Y&&Y.type==="paren"){const Xe=ye();let Jt=ee;if(Xe==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(Y.value==="("&&!/[!=<:]/.test(Xe)||Xe==="<"&&!/<([!=]|\w+>)/.test(Ue()))&&(Jt=`\\${ee}`),$e({type:"text",value:ee,output:Jt});continue}if(F.dot!==!0&&(Y.type==="slash"||Y.type==="bos")){$e({type:"qmark",value:ee,output:Ve});continue}$e({type:"qmark",value:ee,output:j});continue}if(ee==="!"){if(F.noextglob!==!0&&ye()==="("&&(ye(2)!=="?"||!/[!=<:]/.test(ye(3)))){pt("negate",ee);continue}if(F.nonegate!==!0&&ne.index===0){Me();continue}}if(ee==="+"){if(F.noextglob!==!0&&ye()==="("&&ye(2)!=="?"){pt("plus",ee);continue}if(Y&&Y.value==="("||F.regex===!1){$e({type:"plus",value:ee,output:te});continue}if(Y&&(Y.type==="bracket"||Y.type==="paren"||Y.type==="brace")||ne.parens>0){$e({type:"plus",value:ee});continue}$e({type:"plus",value:te});continue}if(ee==="@"){if(F.noextglob!==!0&&ye()==="("&&ye(2)!=="?"){$e({type:"at",extglob:!0,value:ee,output:""});continue}$e({type:"text",value:ee});continue}if(ee!=="*"){(ee==="$"||ee==="^")&&(ee=`\\${ee}`);const be=I.exec(Ue());be&&(ee+=be[0],ne.index+=be[0].length),$e({type:"text",value:ee});continue}if(Y&&(Y.type==="globstar"||Y.star===!0)){Y.type="star",Y.star=!0,Y.value+=ee,Y.output=Fe,ne.backtrack=!0,ne.globstar=!0,pe(ee);continue}let Re=Ue();if(F.noextglob!==!0&&/^\([^?]/.test(Re)){pt("star",ee);continue}if(Y.type==="star"){if(F.noglobstar===!0){pe(ee);continue}const be=Y.prev,Xe=be.prev,Jt=be.type==="slash"||be.type==="bos",yr=Xe&&(Xe.type==="star"||Xe.type==="globstar");if(F.bash===!0&&(!Jt||Re[0]&&Re[0]!=="/")){$e({type:"star",value:ee,output:""});continue}const br=ne.braces>0&&(be.type==="comma"||be.type==="brace"),P=Ge.length&&(be.type==="pipe"||be.type==="paren");if(!Jt&&be.type!=="paren"&&!br&&!P){$e({type:"star",value:ee,output:""});continue}for(;Re.slice(0,3)==="/**";){const d=b[ne.index+4];if(d&&d!=="/")break;Re=Re.slice(3),pe("/**",3)}if(be.type==="bos"&&ae()){Y.type="globstar",Y.value+=ee,Y.output=Q(F),ne.output=Y.output,ne.globstar=!0,pe(ee);continue}if(be.type==="slash"&&be.prev.type!=="bos"&&!yr&&ae()){ne.output=ne.output.slice(0,-(be.output+Y.output).length),be.output=`(?:${be.output}`,Y.type="globstar",Y.output=Q(F)+(F.strictSlashes?")":"|$)"),Y.value+=ee,ne.globstar=!0,ne.output+=be.output+Y.output,pe(ee);continue}if(be.type==="slash"&&be.prev.type!=="bos"&&Re[0]==="/"){const d=Re[1]!==void 0?"|$":"";ne.output=ne.output.slice(0,-(be.output+Y.output).length),be.output=`(?:${be.output}`,Y.type="globstar",Y.output=`${Q(F)}${Z}|${Z}${d})`,Y.value+=ee,ne.output+=be.output+Y.output,ne.globstar=!0,pe(ee+ke()),$e({type:"slash",value:"/",output:""});continue}if(be.type==="bos"&&Re[0]==="/"){Y.type="globstar",Y.value+=ee,Y.output=`(?:^|${Z}|${Q(F)}${Z})`,ne.output=Y.output,ne.globstar=!0,pe(ee+ke()),$e({type:"slash",value:"/",output:""});continue}ne.output=ne.output.slice(0,-Y.output.length),Y.type="globstar",Y.output=Q(F),Y.value+=ee,ne.output+=Y.output,ne.globstar=!0,pe(ee);continue}const O={type:"star",value:ee,output:Fe};if(F.bash===!0){O.output=".*?",(Y.type==="bos"||Y.type==="slash")&&(O.output=ue+O.output),$e(O);continue}if(Y&&(Y.type==="bracket"||Y.type==="paren")&&F.regex===!0){O.output=ee,$e(O);continue}(ne.index===ne.start||Y.type==="slash"||Y.type==="dot")&&(Y.type==="dot"?(ne.output+=ie,Y.output+=ie):F.dot===!0?(ne.output+=me,Y.output+=me):(ne.output+=ue,Y.output+=ue),ye()!=="*"&&(ne.output+=re,Y.output+=re)),$e(O)}for(;ne.brackets>0;){if(F.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ne.output=p.escapeLast(ne.output,"["),Oe("brackets")}for(;ne.parens>0;){if(F.strictBrackets===!0)throw new SyntaxError(x("closing",")"));ne.output=p.escapeLast(ne.output,"("),Oe("parens")}for(;ne.braces>0;){if(F.strictBrackets===!0)throw new SyntaxError(x("closing","}"));ne.output=p.escapeLast(ne.output,"{"),Oe("braces")}if(F.strictSlashes!==!0&&(Y.type==="star"||Y.type==="bracket")&&$e({type:"maybe_slash",value:"",output:`${Z}?`}),ne.backtrack===!0){ne.output="";for(const Re of ne.tokens)ne.output+=Re.output!=null?Re.output:Re.value,Re.suffix&&(ne.output+=Re.suffix)}return ne},"parse");y.fastpaths=(b,B)=>{const F={...B},V=typeof F.maxLength=="number"?Math.min(w,F.maxLength):w,G=b.length;if(G>V)throw new SyntaxError(`Input length: ${G}, exceeds maximum allowed length: ${V}`);b=h[b]||b;const le=p.isWindows(B),{DOT_LITERAL:M,SLASH_LITERAL:W,ONE_CHAR:U,DOTS_SLASH:A,NO_DOT:L,NO_DOTS:$,NO_DOTS_SLASH:te,STAR:Z,START_ANCHOR:re}=v.globChars(le),ce=F.dot?$:L,Se=F.dot?te:L,ie=F.capture?"":"?:",me={negated:!1,prefix:""};let j=F.bash===!0?".*?":Z;F.capture&&(j=`(${j})`);const Ve=a(ue=>ue.noglobstar===!0?j:`(${ie}(?:(?!${re}${ue.dot?A:M}).)*?)`,"globstar"),_e=a(ue=>{switch(ue){case"*":return`${ce}${U}${j}`;case".*":return`${M}${U}${j}`;case"*.*":return`${ce}${j}${M}${U}${j}`;case"*/*":return`${ce}${j}${W}${U}${Se}${j}`;case"**":return ce+Ve(F);case"**/*":return`(?:${ce}${Ve(F)}${W})?${Se}${U}${j}`;case"**/*.*":return`(?:${ce}${Ve(F)}${W})?${Se}${j}${M}${U}${j}`;case"**/.*":return`(?:${ce}${Ve(F)}${W})?${M}${U}${j}`;default:{const De=/^(.*?)\.(\w+)$/.exec(ue);if(!De)return;const Fe=_e(De[1]);return Fe?Fe+M+De[2]:void 0}}},"create"),he=p.removePrefix(b,me);let Q=_e(he);return Q&&F.strictSlashes!==!0&&(Q+=`${W}?`),Q},fe.exports=y},5761:(fe,l,E)=>{"use strict";const v=E(6470),p=E(9826),w=E(3969),_=E(292),I=E(3889),D=a(S=>S&&typeof S=="object"&&!Array.isArray(S),"isObject"),h=a((S,x,y=!1)=>{if(Array.isArray(S)){const W=S.map(A=>h(A,x,y));return a(A=>{for(const L of W){const $=L(A);if($)return $}return!1},"arrayMatcher")}const b=D(S)&&S.tokens&&S.input;if(S===""||typeof S!="string"&&!b)throw new TypeError("Expected pattern to be a non-empty string");const B=x||{},F=_.isWindows(x),V=b?h.compileRe(S,x):h.makeRe(S,x,!1,!0),G=V.state;delete V.state;let le=a(()=>!1,"isIgnored");if(B.ignore){const W={...x,ignore:null,onMatch:null,onResult:null};le=h(B.ignore,W,y)}const M=a((W,U=!1)=>{const{isMatch:A,match:L,output:$}=h.test(W,V,x,{glob:S,posix:F}),te={glob:S,state:G,regex:V,posix:F,input:W,output:$,match:L,isMatch:A};return typeof B.onResult=="function"&&B.onResult(te),A===!1?(te.isMatch=!1,U?te:!1):le(W)?(typeof B.onIgnore=="function"&&B.onIgnore(te),te.isMatch=!1,U?te:!1):(typeof B.onMatch=="function"&&B.onMatch(te),U?te:!0)},"matcher");return y&&(M.state=G),M},"picomatch");h.test=(S,x,y,{glob:b,posix:B}={})=>{if(typeof S!="string")throw new TypeError("Expected input to be a string");if(S==="")return{isMatch:!1,output:""};const F=y||{},V=F.format||(B?_.toPosixSlashes:null);let G=S===b,le=G&&V?V(S):S;return G===!1&&(le=V?V(S):S,G=le===b),(G===!1||F.capture===!0)&&(F.matchBase===!0||F.basename===!0?G=h.matchBase(S,x,y,B):G=x.exec(le)),{isMatch:Boolean(G),match:G,output:le}},h.matchBase=(S,x,y,b=_.isWindows(y))=>(x instanceof RegExp?x:h.makeRe(x,y)).test(v.basename(S)),h.isMatch=(S,x,y)=>h(x,y)(S),h.parse=(S,x)=>Array.isArray(S)?S.map(y=>h.parse(y,x)):w(S,{...x,fastpaths:!1}),h.scan=(S,x)=>p(S,x),h.compileRe=(S,x,y=!1,b=!1)=>{if(y===!0)return S.output;const B=x||{},F=B.contains?"":"^",V=B.contains?"":"$";let G=`${F}(?:${S.output})${V}`;S&&S.negated===!0&&(G=`^(?!${G}).*$`);const le=h.toRegex(G,x);return b===!0&&(le.state=S),le},h.makeRe=(S,x={},y=!1,b=!1)=>{if(!S||typeof S!="string")throw new TypeError("Expected a non-empty string");let B={negated:!1,fastpaths:!0};return x.fastpaths!==!1&&(S[0]==="."||S[0]==="*")&&(B.output=w.fastpaths(S,x)),B.output||(B=w(S,x)),h.compileRe(B,x,y,b)},h.toRegex=(S,x)=>{try{const y=x||{};return new RegExp(S,y.flags||(y.nocase?"i":""))}catch(y){if(x&&x.debug===!0)throw y;return/$^/}},h.constants=I,fe.exports=h},9826:(fe,l,E)=>{"use strict";const v=E(292),{CHAR_ASTERISK:p,CHAR_AT:w,CHAR_BACKWARD_SLASH:_,CHAR_COMMA:I,CHAR_DOT:D,CHAR_EXCLAMATION_MARK:h,CHAR_FORWARD_SLASH:S,CHAR_LEFT_CURLY_BRACE:x,CHAR_LEFT_PARENTHESES:y,CHAR_LEFT_SQUARE_BRACKET:b,CHAR_PLUS:B,CHAR_QUESTION_MARK:F,CHAR_RIGHT_CURLY_BRACE:V,CHAR_RIGHT_PARENTHESES:G,CHAR_RIGHT_SQUARE_BRACKET:le}=E(3889),M=a(A=>A===S||A===_,"isPathSeparator"),W=a(A=>{A.isPrefix!==!0&&(A.depth=A.isGlobstar?1/0:1)},"depth"),U=a((A,L)=>{const $=L||{},te=A.length-1,Z=$.parts===!0||$.scanToEnd===!0,re=[],ce=[],Se=[];let ie=A,me=-1,j=0,Ve=0,_e=!1,he=!1,Q=!1,ue=!1,De=!1,Fe=!1,ne=!1,Ge=!1,et=!1,st=!1,Y=0,ee,ae,ye={value:"",depth:0,isGlob:!1};const ke=a(()=>me>=te,"eos"),Ue=a(()=>ie.charCodeAt(me+1),"peek"),pe=a(()=>(ee=ae,ie.charCodeAt(++me)),"advance");for(;me<te;){ae=pe();let $e;if(ae===_){ne=ye.backslashes=!0,ae=pe(),ae===x&&(Fe=!0);continue}if(Fe===!0||ae===x){for(Y++;ke()!==!0&&(ae=pe());){if(ae===_){ne=ye.backslashes=!0,pe();continue}if(ae===x){Y++;continue}if(Fe!==!0&&ae===D&&(ae=pe())===D){if(_e=ye.isBrace=!0,Q=ye.isGlob=!0,st=!0,Z===!0)continue;break}if(Fe!==!0&&ae===I){if(_e=ye.isBrace=!0,Q=ye.isGlob=!0,st=!0,Z===!0)continue;break}if(ae===V&&(Y--,Y===0)){Fe=!1,_e=ye.isBrace=!0,st=!0;break}}if(Z===!0)continue;break}if(ae===S){if(re.push(me),ce.push(ye),ye={value:"",depth:0,isGlob:!1},st===!0)continue;if(ee===D&&me===j+1){j+=2;continue}Ve=me+1;continue}if($.noext!==!0&&(ae===B||ae===w||ae===p||ae===F||ae===h)===!0&&Ue()===y){if(Q=ye.isGlob=!0,ue=ye.isExtglob=!0,st=!0,ae===h&&me===j&&(et=!0),Z===!0){for(;ke()!==!0&&(ae=pe());){if(ae===_){ne=ye.backslashes=!0,ae=pe();continue}if(ae===G){Q=ye.isGlob=!0,st=!0;break}}continue}break}if(ae===p){if(ee===p&&(De=ye.isGlobstar=!0),Q=ye.isGlob=!0,st=!0,Z===!0)continue;break}if(ae===F){if(Q=ye.isGlob=!0,st=!0,Z===!0)continue;break}if(ae===b){for(;ke()!==!0&&($e=pe());){if($e===_){ne=ye.backslashes=!0,pe();continue}if($e===le){he=ye.isBracket=!0,Q=ye.isGlob=!0,st=!0;break}}if(Z===!0)continue;break}if($.nonegate!==!0&&ae===h&&me===j){Ge=ye.negated=!0,j++;continue}if($.noparen!==!0&&ae===y){if(Q=ye.isGlob=!0,Z===!0){for(;ke()!==!0&&(ae=pe());){if(ae===y){ne=ye.backslashes=!0,ae=pe();continue}if(ae===G){st=!0;break}}continue}break}if(Q===!0){if(st=!0,Z===!0)continue;break}}$.noext===!0&&(ue=!1,Q=!1);let Ae=ie,Me="",Ze="";j>0&&(Me=ie.slice(0,j),ie=ie.slice(j),Ve-=j),Ae&&Q===!0&&Ve>0?(Ae=ie.slice(0,Ve),Ze=ie.slice(Ve)):Q===!0?(Ae="",Ze=ie):Ae=ie,Ae&&Ae!==""&&Ae!=="/"&&Ae!==ie&&M(Ae.charCodeAt(Ae.length-1))&&(Ae=Ae.slice(0,-1)),$.unescape===!0&&(Ze&&(Ze=v.removeBackslashes(Ze)),Ae&&ne===!0&&(Ae=v.removeBackslashes(Ae)));const Oe={prefix:Me,input:A,start:j,base:Ae,glob:Ze,isBrace:_e,isBracket:he,isGlob:Q,isExtglob:ue,isGlobstar:De,negated:Ge,negatedExtglob:et};if($.tokens===!0&&(Oe.maxDepth=0,M(ae)||ce.push(ye),Oe.tokens=ce),$.parts===!0||$.tokens===!0){let $e;for(let pt=0;pt<re.length;pt++){const ot=$e?$e+1:j,Re=re[pt],O=A.slice(ot,Re);$.tokens&&(pt===0&&j!==0?(ce[pt].isPrefix=!0,ce[pt].value=Me):ce[pt].value=O,W(ce[pt]),Oe.maxDepth+=ce[pt].depth),(pt!==0||O!=="")&&Se.push(O),$e=Re}if($e&&$e+1<A.length){const pt=A.slice($e+1);Se.push(pt),$.tokens&&(ce[ce.length-1].value=pt,W(ce[ce.length-1]),Oe.maxDepth+=ce[ce.length-1].depth)}Oe.slashes=re,Oe.parts=Se}return Oe},"scan");fe.exports=U},292:(fe,l,E)=>{"use strict";var v=E(6038);const p=E(6470),w=v.platform==="win32",{REGEX_BACKSLASH:_,REGEX_REMOVE_BACKSLASH:I,REGEX_SPECIAL_CHARS:D,REGEX_SPECIAL_CHARS_GLOBAL:h}=E(3889);l.isObject=S=>S!==null&&typeof S=="object"&&!Array.isArray(S),l.hasRegexChars=S=>D.test(S),l.isRegexChar=S=>S.length===1&&l.hasRegexChars(S),l.escapeRegex=S=>S.replace(h,"\\$1"),l.toPosixSlashes=S=>S.replace(_,"/"),l.removeBackslashes=S=>S.replace(I,x=>x==="\\"?"":x),l.supportsLookbehinds=()=>{const S=v.version.slice(1).split(".").map(Number);return S.length===3&&S[0]>=9||S[0]===8&&S[1]>=10},l.isWindows=S=>S&&typeof S.windows=="boolean"?S.windows:w===!0||p.sep==="\\",l.escapeLast=(S,x,y)=>{const b=S.lastIndexOf(x,y);return b===-1?S:S[b-1]==="\\"?l.escapeLast(S,x,b-1):`${S.slice(0,b)}\\${S.slice(b)}`},l.removePrefix=(S,x={})=>{let y=S;return y.startsWith("./")&&(y=y.slice(2),x.prefix="./"),y},l.wrapOutput=(S,x={},y={})=>{const b=y.contains?"":"^",B=y.contains?"":"$";let F=`${b}(?:${S})${B}`;return x.negated===!0&&(F=`(?:^(?!${F}).*$)`),F}},6038:fe=>{var l=fe.exports={},E,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}a(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=p}catch(V){E=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=w}catch(V){v=w}}();function _(V){if(E===setTimeout)return setTimeout(V,0);if((E===p||!E)&&setTimeout)return E=setTimeout,setTimeout(V,0);try{return E(V,0)}catch(G){try{return E.call(null,V,0)}catch(le){return E.call(this,V,0)}}}a(_,"runTimeout");function I(V){if(v===clearTimeout)return clearTimeout(V);if((v===w||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(V);try{return v(V)}catch(G){try{return v.call(null,V)}catch(le){return v.call(this,V)}}}a(I,"runClearTimeout");var D=[],h=!1,S,x=-1;function y(){!h||!S||(h=!1,S.length?D=S.concat(D):x=-1,D.length&&b())}a(y,"cleanUpNextTick");function b(){if(!h){var V=_(y);h=!0;for(var G=D.length;G;){for(S=D,D=[];++x<G;)S&&S[x].run();x=-1,G=D.length}S=null,h=!1,I(V)}}a(b,"drainQueue"),l.nextTick=function(V){var G=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)G[le-1]=arguments[le];D.push(new B(V,G)),D.length===1&&!h&&_(b)};function B(V,G){this.fun=V,this.array=G}a(B,"Item"),B.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function F(){}a(F,"noop"),l.on=F,l.addListener=F,l.once=F,l.off=F,l.removeListener=F,l.removeAllListeners=F,l.emit=F,l.prependListener=F,l.prependOnceListener=F,l.listeners=function(V){return[]},l.binding=function(V){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(V){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},5431:(fe,l,E)=>{"use strict";fe.exports=E(7905)},7905:(fe,l,E)=>{"use strict";var v=E(1417);function p(){return!0}a(p,"_toTrue");function w(){return!1}a(w,"_toFalse");function _(G){return G.then(p,w)}a(_,"pSuccess");function I(G){return G}a(I,"_pass");function D(G){throw G}a(D,"_throw");function h(G){return G.then(I,D)}a(h,"ensurePromise");function S(G,le){return{result:G,args:le,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(S,"createCacheObj");function x(G,le){!G[le]||(clearTimeout(G[le].expire_id),clearTimeout(G[le].prefetch_id),delete G[le])}a(x,"destroyCacheObj");function y(G,le){!G[le]||(G[le].need_prefetch=!0)}a(y,"askPrefetch");function b(G){var le=G[0],M=G[1],W=G[2],U=G[3];if(!!M[W]){if(le){if(!U.maxAge)return;M[W].expire_id=setTimeout(x,U.maxAge,M,W),M[W].prefetch_id=setTimeout(y,U.maxAge*.7,M,W),M[W].expire_id.unref&&M[W].expire_id.unref(),M[W].prefetch_id.unref&&M[W].prefetch_id.unref();return}if(!U.maxErrorAge){x(M,W);return}M[W].expire_id=setTimeout(x,U.maxErrorAge,M,W),M[W].expire_id.unref&&M[W].expire_id.unref()}}a(b,"_track_proceed");function B(G,le,M){var W=G[le].result.constructor;W.all([_(G[le].result),G,le,M]).then(b)}a(B,"trackCacheObj");function F(G){var le=G[0],M=G[1],W=G[2],U=G[3],A=G[4][0];!M[W]||!le||(M[W].result=A,clearTimeout(M[W].expire_id),B(M,W,U))}a(F,"_prefetch_proceed");function V(G,le,M){var W=h(M.fn.apply(null,G[le].args)),U=W.constructor;G[le].need_prefetch=!1,U.all([_(W),G,le,M,[W]]).then(F)}a(V,"doPrefetch"),fe.exports=a(function(le,M){var W={},U=M||{},A=v(U.resolve),L={fn:le,maxAge:U.maxAge||0,maxErrorAge:U.maxErrorAge||0};function $(){for(var te=new Array(arguments.length),Z=0;Z<te.length;Z++)te[Z]=arguments[Z];var re=A(te);return W[re]?W[re].need_prefetch&&V(W,re,L):(W[re]=S(h(L.fn.apply(null,te)),L.maxAge||L.maxErrorAge?te:null),B(W,re,L)),W[re].result}return a($,"memoizedFn"),$.clear=function(){var te=Object.keys(W);return te.forEach(function(Z){x(W,Z)}),te.length},$},"promiseMemoize")},1417:fe=>{"use strict";var l={simple:function(v){return v.length?v.join(""):""},json:function(v){if(!v.length)return"";for(var p=[],w=v.length-1;w>=0;w--)p.push(JSON.stringify(v[w]));return p.join("")}};function E(v){return v.forEach(function(p){if(typeof p=="string"&&!l.hasOwnProperty(p))throw new Error('promise-memoize: unknown value "'+p+'" in resolve option')}),function(p){var w=Math.min(v.length,p.length);if(!w)return"";for(var _=[],I=0;I<w;I++)typeof v[I]=="string"?_.push(l[v[I]]([p[I]])):_.push(v[I](p[I]));return _.join("")}}a(E,"createFlexResolver"),fe.exports=a(function(p){if(typeof p=="undefined")return l.simple;if(typeof p=="string"&&l.hasOwnProperty(p))return l[p];if(Array.isArray(p))return E(p);if(Object.prototype.toString.call(p)==="[object Function]")return p;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(fe,l,E)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const v=E(3338),p=a((M,W,U)=>{if(v(M)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(W===void 0||M===W)return String(M);if(v(W)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let A={relaxZeros:!0,...U};typeof A.strictZeros=="boolean"&&(A.relaxZeros=A.strictZeros===!1);let L=String(A.relaxZeros),$=String(A.shorthand),te=String(A.capture),Z=String(A.wrap),re=M+":"+W+"="+L+$+te+Z;if(p.cache.hasOwnProperty(re))return p.cache[re].result;let ce=Math.min(M,W),Se=Math.max(M,W);if(Math.abs(ce-Se)===1){let _e=M+"|"+W;return A.capture?`(${_e})`:A.wrap===!1?_e:`(?:${_e})`}let ie=G(M)||G(W),me={min:M,max:W,a:ce,b:Se},j=[],Ve=[];if(ie&&(me.isPadded=ie,me.maxLen=String(me.max).length),ce<0){let _e=Se<0?Math.abs(Se):1;Ve=D(_e,Math.abs(ce),me,A),ce=me.a=0}return Se>=0&&(j=D(ce,Se,me,A)),me.negatives=Ve,me.positives=j,me.result=w(Ve,j,A),A.capture===!0?me.result=`(${me.result})`:A.wrap!==!1&&j.length+Ve.length>1&&(me.result=`(?:${me.result})`),p.cache[re]=me,me.result},"toRegexRange");function w(M,W,U){let A=h(M,W,"-",!1,U)||[],L=h(W,M,"",!1,U)||[],$=h(M,W,"-?",!0,U)||[];return A.concat($).concat(L).join("|")}a(w,"collatePatterns");function _(M,W){let U=1,A=1,L=b(M,U),$=new Set([W]);for(;M<=L&&L<=W;)$.add(L),U+=1,L=b(M,U);for(L=B(W+1,A)-1;M<L&&L<=W;)$.add(L),A+=1,L=B(W+1,A)-1;return $=[...$],$.sort(x),$}a(_,"splitToRanges");function I(M,W,U){if(M===W)return{pattern:M,count:[],digits:0};let A=S(M,W),L=A.length,$="",te=0;for(let Z=0;Z<L;Z++){let[re,ce]=A[Z];re===ce?$+=re:re!=="0"||ce!=="9"?$+=V(re,ce,U):te++}return te&&($+=U.shorthand===!0?"\\d":"[0-9]"),{pattern:$,count:[te],digits:L}}a(I,"rangeToPattern");function D(M,W,U,A){let L=_(M,W),$=[],te=M,Z;for(let re=0;re<L.length;re++){let ce=L[re],Se=I(String(te),String(ce),A),ie="";if(!U.isPadded&&Z&&Z.pattern===Se.pattern){Z.count.length>1&&Z.count.pop(),Z.count.push(Se.count[0]),Z.string=Z.pattern+F(Z.count),te=ce+1;continue}U.isPadded&&(ie=le(ce,U,A)),Se.string=ie+Se.pattern+F(Se.count),$.push(Se),te=ce+1,Z=Se}return $}a(D,"splitToPatterns");function h(M,W,U,A,L){let $=[];for(let te of M){let{string:Z}=te;!A&&!y(W,"string",Z)&&$.push(U+Z),A&&y(W,"string",Z)&&$.push(U+Z)}return $}a(h,"filterPatterns");function S(M,W){let U=[];for(let A=0;A<M.length;A++)U.push([M[A],W[A]]);return U}a(S,"zip");function x(M,W){return M>W?1:W>M?-1:0}a(x,"compare");function y(M,W,U){return M.some(A=>A[W]===U)}a(y,"contains");function b(M,W){return Number(String(M).slice(0,-W)+"9".repeat(W))}a(b,"countNines");function B(M,W){return M-M%Math.pow(10,W)}a(B,"countZeros");function F(M){let[W=0,U=""]=M;return U||W>1?`{${W+(U?","+U:"")}}`:""}a(F,"toQuantifier");function V(M,W,U){return`[${M}${W-M==1?"":"-"}${W}]`}a(V,"toCharacterClass");function G(M){return/^-?(0+)\d/.test(M)}a(G,"hasPadding");function le(M,W,U){if(!W.isPadded)return M;let A=Math.abs(W.maxLen-String(M).length),L=U.relaxZeros!==!1;switch(A){case 0:return"";case 1:return L?"0?":"0";case 2:return L?"0{0,2}":"00";default:return L?`0{0,${A}}`:`0{${A}}`}}a(le,"padZeros"),p.cache={},p.clearCache=()=>p.cache={},fe.exports=p},9742:(fe,l)=>{"use strict";l.byteLength=h,l.toByteArray=x,l.fromByteArray=B;for(var E=[],v=[],p=typeof Uint8Array!="undefined"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,I=w.length;_<I;++_)E[_]=w[_],v[w.charCodeAt(_)]=_;v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63;function D(F){var V=F.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=F.indexOf("=");G===-1&&(G=V);var le=G===V?0:4-G%4;return[G,le]}a(D,"getLens");function h(F){var V=D(F),G=V[0],le=V[1];return(G+le)*3/4-le}a(h,"byteLength");function S(F,V,G){return(V+G)*3/4-G}a(S,"_byteLength");function x(F){var V,G=D(F),le=G[0],M=G[1],W=new p(S(F,le,M)),U=0,A=M>0?le-4:le,L;for(L=0;L<A;L+=4)V=v[F.charCodeAt(L)]<<18|v[F.charCodeAt(L+1)]<<12|v[F.charCodeAt(L+2)]<<6|v[F.charCodeAt(L+3)],W[U++]=V>>16&255,W[U++]=V>>8&255,W[U++]=V&255;return M===2&&(V=v[F.charCodeAt(L)]<<2|v[F.charCodeAt(L+1)]>>4,W[U++]=V&255),M===1&&(V=v[F.charCodeAt(L)]<<10|v[F.charCodeAt(L+1)]<<4|v[F.charCodeAt(L+2)]>>2,W[U++]=V>>8&255,W[U++]=V&255),W}a(x,"toByteArray");function y(F){return E[F>>18&63]+E[F>>12&63]+E[F>>6&63]+E[F&63]}a(y,"tripletToBase64");function b(F,V,G){for(var le,M=[],W=V;W<G;W+=3)le=(F[W]<<16&16711680)+(F[W+1]<<8&65280)+(F[W+2]&255),M.push(y(le));return M.join("")}a(b,"encodeChunk");function B(F){for(var V,G=F.length,le=G%3,M=[],W=16383,U=0,A=G-le;U<A;U+=W)M.push(b(F,U,U+W>A?A:U+W));return le===1?(V=F[G-1],M.push(E[V>>2]+E[V<<4&63]+"==")):le===2&&(V=(F[G-2]<<8)+F[G-1],M.push(E[V>>10]+E[V>>4&63]+E[V<<2&63]+"=")),M.join("")}a(B,"fromByteArray")},5186:(fe,l,E)=>{var v=E(3698),p=E(2505),w=E(6417),_=Function.bind,I=_.bind(_);function D(b,B,F){var V=I(w,null).apply(null,F?[B,F]:[B]);b.api={remove:V},b.remove=V,["before","error","after","wrap"].forEach(function(G){var le=F?[B,G,F]:[B,G];b[G]=b.api[G]=I(p,null).apply(null,le)})}a(D,"bindApi");function h(){var b="h",B={registry:{}},F=v.bind(null,B,b);return D(F,B,b),F}a(h,"HookSingular");function S(){var b={registry:{}},B=v.bind(null,b);return D(B,b),B}a(S,"HookCollection");var x=!1;function y(){return x||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),x=!0),S()}a(y,"Hook"),y.Singular=h.bind(),y.Collection=S.bind(),fe.exports=y,fe.exports.Hook=y,fe.exports.Singular=y.Singular,fe.exports.Collection=y.Collection},2505:fe=>{fe.exports=l;function l(E,v,p,w){var _=w;E.registry[p]||(E.registry[p]=[]),v==="before"&&(w=a(function(I,D){return Promise.resolve().then(_.bind(null,D)).then(I.bind(null,D))},"hook")),v==="after"&&(w=a(function(I,D){var h;return Promise.resolve().then(I.bind(null,D)).then(function(S){return h=S,_(h,D)}).then(function(){return h})},"hook")),v==="error"&&(w=a(function(I,D){return Promise.resolve().then(I.bind(null,D)).catch(function(h){return _(h,D)})},"hook")),E.registry[p].push({hook:w,orig:_})}a(l,"addHook")},3698:fe=>{fe.exports=l;function l(E,v,p,w){if(typeof p!="function")throw new Error("method for before hook must be a function");return w||(w={}),Array.isArray(v)?v.reverse().reduce(function(_,I){return l.bind(null,E,I,_,w)},p)():Promise.resolve().then(function(){return E.registry[v]?E.registry[v].reduce(function(_,I){return I.hook.bind(null,_,w)},p)():p(w)})}a(l,"register")},6417:fe=>{fe.exports=l;function l(E,v,p){if(!!E.registry[v]){var w=E.registry[v].map(function(_){return _.orig}).indexOf(p);w!==-1&&E.registry[v].splice(w,1)}}a(l,"removeHook")},8764:(fe,l,E)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const v=E(9742),p=E(645),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=h,l.SlowBuffer=W,l.INSPECT_MAX_BYTES=50;const _=2147483647;l.kMaxLength=_,h.TYPED_ARRAY_SUPPORT=I(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function I(){try{const P=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(P,d),P.foo()===42}catch(P){return!1}}a(I,"typedArraySupport"),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function D(P){if(P>_)throw new RangeError('The value "'+P+'" is invalid for option "size"');const d=new Uint8Array(P);return Object.setPrototypeOf(d,h.prototype),d}a(D,"createBuffer");function h(P,d,m){if(typeof P=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(P)}return S(P,d,m)}a(h,"Buffer"),h.poolSize=8192;function S(P,d,m){if(typeof P=="string")return B(P,d);if(ArrayBuffer.isView(P))return V(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(be(P,ArrayBuffer)||P&&be(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(be(P,SharedArrayBuffer)||P&&be(P.buffer,SharedArrayBuffer)))return G(P,d,m);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=P.valueOf&&P.valueOf();if(J!=null&&J!==P)return h.from(J,d,m);const de=le(P);if(de)return de;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return h.from(P[Symbol.toPrimitive]("string"),d,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}a(S,"from"),h.from=function(P,d,m){return S(P,d,m)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}a(x,"assertSize");function y(P,d,m){return x(P),P<=0?D(P):d!==void 0?typeof m=="string"?D(P).fill(d,m):D(P).fill(d):D(P)}a(y,"alloc"),h.alloc=function(P,d,m){return y(P,d,m)};function b(P){return x(P),D(P<0?0:M(P)|0)}a(b,"allocUnsafe"),h.allocUnsafe=function(P){return b(P)},h.allocUnsafeSlow=function(P){return b(P)};function B(P,d){if((typeof d!="string"||d==="")&&(d="utf8"),!h.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const m=U(P,d)|0;let J=D(m);const de=J.write(P,d);return de!==m&&(J=J.slice(0,de)),J}a(B,"fromString");function F(P){const d=P.length<0?0:M(P.length)|0,m=D(d);for(let J=0;J<d;J+=1)m[J]=P[J]&255;return m}a(F,"fromArrayLike");function V(P){if(be(P,Uint8Array)){const d=new Uint8Array(P);return G(d.buffer,d.byteOffset,d.byteLength)}return F(P)}a(V,"fromArrayView");function G(P,d,m){if(d<0||P.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<d+(m||0))throw new RangeError('"length" is outside of buffer bounds');let J;return d===void 0&&m===void 0?J=new Uint8Array(P):m===void 0?J=new Uint8Array(P,d):J=new Uint8Array(P,d,m),Object.setPrototypeOf(J,h.prototype),J}a(G,"fromArrayBuffer");function le(P){if(h.isBuffer(P)){const d=M(P.length)|0,m=D(d);return m.length===0||P.copy(m,0,0,d),m}if(P.length!==void 0)return typeof P.length!="number"||Xe(P.length)?D(0):F(P);if(P.type==="Buffer"&&Array.isArray(P.data))return F(P.data)}a(le,"fromObject");function M(P){if(P>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return P|0}a(M,"checked");function W(P){return+P!=P&&(P=0),h.alloc(+P)}a(W,"SlowBuffer"),h.isBuffer=a(function(d){return d!=null&&d._isBuffer===!0&&d!==h.prototype},"isBuffer"),h.compare=a(function(d,m){if(be(d,Uint8Array)&&(d=h.from(d,d.offset,d.byteLength)),be(m,Uint8Array)&&(m=h.from(m,m.offset,m.byteLength)),!h.isBuffer(d)||!h.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===m)return 0;let J=d.length,de=m.length;for(let Ne=0,ve=Math.min(J,de);Ne<ve;++Ne)if(d[Ne]!==m[Ne]){J=d[Ne],de=m[Ne];break}return J<de?-1:de<J?1:0},"compare"),h.isEncoding=a(function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),h.concat=a(function(d,m){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return h.alloc(0);let J;if(m===void 0)for(m=0,J=0;J<d.length;++J)m+=d[J].length;const de=h.allocUnsafe(m);let Ne=0;for(J=0;J<d.length;++J){let ve=d[J];if(be(ve,Uint8Array))Ne+ve.length>de.length?(h.isBuffer(ve)||(ve=h.from(ve)),ve.copy(de,Ne)):Uint8Array.prototype.set.call(de,ve,Ne);else if(h.isBuffer(ve))ve.copy(de,Ne);else throw new TypeError('"list" argument must be an Array of Buffers');Ne+=ve.length}return de},"concat");function U(P,d){if(h.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||be(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const m=P.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&m===0)return 0;let de=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return $e(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Re(P).length;default:if(de)return J?-1:$e(P).length;d=(""+d).toLowerCase(),de=!0}}a(U,"byteLength"),h.byteLength=U;function A(P,d,m){let J=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,d>>>=0,m<=d))return"";for(P||(P="utf8");;)switch(P){case"hex":return ue(this,d,m);case"utf8":case"utf-8":return j(this,d,m);case"ascii":return he(this,d,m);case"latin1":case"binary":return Q(this,d,m);case"base64":return me(this,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,d,m);default:if(J)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),J=!0}}a(A,"slowToString"),h.prototype._isBuffer=!0;function L(P,d,m){const J=P[d];P[d]=P[m],P[m]=J}a(L,"swap"),h.prototype.swap16=a(function(){const d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<d;m+=2)L(this,m,m+1);return this},"swap16"),h.prototype.swap32=a(function(){const d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<d;m+=4)L(this,m,m+3),L(this,m+1,m+2);return this},"swap32"),h.prototype.swap64=a(function(){const d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<d;m+=8)L(this,m,m+7),L(this,m+1,m+6),L(this,m+2,m+5),L(this,m+3,m+4);return this},"swap64"),h.prototype.toString=a(function(){const d=this.length;return d===0?"":arguments.length===0?j(this,0,d):A.apply(this,arguments)},"toString"),h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=a(function(d){if(!h.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:h.compare(this,d)===0},"equals"),h.prototype.inspect=a(function(){let d="";const m=l.INSPECT_MAX_BYTES;return d=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(d+=" ... "),"<Buffer "+d+">"},"inspect"),w&&(h.prototype[w]=h.prototype.inspect),h.prototype.compare=a(function(d,m,J,de,Ne){if(be(d,Uint8Array)&&(d=h.from(d,d.offset,d.byteLength)),!h.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(m===void 0&&(m=0),J===void 0&&(J=d?d.length:0),de===void 0&&(de=0),Ne===void 0&&(Ne=this.length),m<0||J>d.length||de<0||Ne>this.length)throw new RangeError("out of range index");if(de>=Ne&&m>=J)return 0;if(de>=Ne)return-1;if(m>=J)return 1;if(m>>>=0,J>>>=0,de>>>=0,Ne>>>=0,this===d)return 0;let ve=Ne-de,ht=J-m;const It=Math.min(ve,ht),Pt=this.slice(de,Ne),Ot=d.slice(m,J);for(let Vt=0;Vt<It;++Vt)if(Pt[Vt]!==Ot[Vt]){ve=Pt[Vt],ht=Ot[Vt];break}return ve<ht?-1:ht<ve?1:0},"compare");function $(P,d,m,J,de){if(P.length===0)return-1;if(typeof m=="string"?(J=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Xe(m)&&(m=de?0:P.length-1),m<0&&(m=P.length+m),m>=P.length){if(de)return-1;m=P.length-1}else if(m<0)if(de)m=0;else return-1;if(typeof d=="string"&&(d=h.from(d,J)),h.isBuffer(d))return d.length===0?-1:te(P,d,m,J,de);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(P,d,m):Uint8Array.prototype.lastIndexOf.call(P,d,m):te(P,[d],m,J,de);throw new TypeError("val must be string, number or Buffer")}a($,"bidirectionalIndexOf");function te(P,d,m,J,de){let Ne=1,ve=P.length,ht=d.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(P.length<2||d.length<2)return-1;Ne=2,ve/=2,ht/=2,m/=2}function It(Ot,Vt){return Ne===1?Ot[Vt]:Ot.readUInt16BE(Vt*Ne)}a(It,"read");let Pt;if(de){let Ot=-1;for(Pt=m;Pt<ve;Pt++)if(It(P,Pt)===It(d,Ot===-1?0:Pt-Ot)){if(Ot===-1&&(Ot=Pt),Pt-Ot+1===ht)return Ot*Ne}else Ot!==-1&&(Pt-=Pt-Ot),Ot=-1}else for(m+ht>ve&&(m=ve-ht),Pt=m;Pt>=0;Pt--){let Ot=!0;for(let Vt=0;Vt<ht;Vt++)if(It(P,Pt+Vt)!==It(d,Vt)){Ot=!1;break}if(Ot)return Pt}return-1}a(te,"arrayIndexOf"),h.prototype.includes=a(function(d,m,J){return this.indexOf(d,m,J)!==-1},"includes"),h.prototype.indexOf=a(function(d,m,J){return $(this,d,m,J,!0)},"indexOf"),h.prototype.lastIndexOf=a(function(d,m,J){return $(this,d,m,J,!1)},"lastIndexOf");function Z(P,d,m,J){m=Number(m)||0;const de=P.length-m;J?(J=Number(J),J>de&&(J=de)):J=de;const Ne=d.length;J>Ne/2&&(J=Ne/2);let ve;for(ve=0;ve<J;++ve){const ht=parseInt(d.substr(ve*2,2),16);if(Xe(ht))return ve;P[m+ve]=ht}return ve}a(Z,"hexWrite");function re(P,d,m,J){return O($e(d,P.length-m),P,m,J)}a(re,"utf8Write");function ce(P,d,m,J){return O(pt(d),P,m,J)}a(ce,"asciiWrite");function Se(P,d,m,J){return O(Re(d),P,m,J)}a(Se,"base64Write");function ie(P,d,m,J){return O(ot(d,P.length-m),P,m,J)}a(ie,"ucs2Write"),h.prototype.write=a(function(d,m,J,de){if(m===void 0)de="utf8",J=this.length,m=0;else if(J===void 0&&typeof m=="string")de=m,J=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(J)?(J=J>>>0,de===void 0&&(de="utf8")):(de=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ne=this.length-m;if((J===void 0||J>Ne)&&(J=Ne),d.length>0&&(J<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let ve=!1;for(;;)switch(de){case"hex":return Z(this,d,m,J);case"utf8":case"utf-8":return re(this,d,m,J);case"ascii":case"latin1":case"binary":return ce(this,d,m,J);case"base64":return Se(this,d,m,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,d,m,J);default:if(ve)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),ve=!0}},"write"),h.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function me(P,d,m){return d===0&&m===P.length?v.fromByteArray(P):v.fromByteArray(P.slice(d,m))}a(me,"base64Slice");function j(P,d,m){m=Math.min(P.length,m);const J=[];let de=d;for(;de<m;){const Ne=P[de];let ve=null,ht=Ne>239?4:Ne>223?3:Ne>191?2:1;if(de+ht<=m){let It,Pt,Ot,Vt;switch(ht){case 1:Ne<128&&(ve=Ne);break;case 2:It=P[de+1],(It&192)==128&&(Vt=(Ne&31)<<6|It&63,Vt>127&&(ve=Vt));break;case 3:It=P[de+1],Pt=P[de+2],(It&192)==128&&(Pt&192)==128&&(Vt=(Ne&15)<<12|(It&63)<<6|Pt&63,Vt>2047&&(Vt<55296||Vt>57343)&&(ve=Vt));break;case 4:It=P[de+1],Pt=P[de+2],Ot=P[de+3],(It&192)==128&&(Pt&192)==128&&(Ot&192)==128&&(Vt=(Ne&15)<<18|(It&63)<<12|(Pt&63)<<6|Ot&63,Vt>65535&&Vt<1114112&&(ve=Vt))}}ve===null?(ve=65533,ht=1):ve>65535&&(ve-=65536,J.push(ve>>>10&1023|55296),ve=56320|ve&1023),J.push(ve),de+=ht}return _e(J)}a(j,"utf8Slice");const Ve=4096;function _e(P){const d=P.length;if(d<=Ve)return String.fromCharCode.apply(String,P);let m="",J=0;for(;J<d;)m+=String.fromCharCode.apply(String,P.slice(J,J+=Ve));return m}a(_e,"decodeCodePointsArray");function he(P,d,m){let J="";m=Math.min(P.length,m);for(let de=d;de<m;++de)J+=String.fromCharCode(P[de]&127);return J}a(he,"asciiSlice");function Q(P,d,m){let J="";m=Math.min(P.length,m);for(let de=d;de<m;++de)J+=String.fromCharCode(P[de]);return J}a(Q,"latin1Slice");function ue(P,d,m){const J=P.length;(!d||d<0)&&(d=0),(!m||m<0||m>J)&&(m=J);let de="";for(let Ne=d;Ne<m;++Ne)de+=Jt[P[Ne]];return de}a(ue,"hexSlice");function De(P,d,m){const J=P.slice(d,m);let de="";for(let Ne=0;Ne<J.length-1;Ne+=2)de+=String.fromCharCode(J[Ne]+J[Ne+1]*256);return de}a(De,"utf16leSlice"),h.prototype.slice=a(function(d,m){const J=this.length;d=~~d,m=m===void 0?J:~~m,d<0?(d+=J,d<0&&(d=0)):d>J&&(d=J),m<0?(m+=J,m<0&&(m=0)):m>J&&(m=J),m<d&&(m=d);const de=this.subarray(d,m);return Object.setPrototypeOf(de,h.prototype),de},"slice");function Fe(P,d,m){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+d>m)throw new RangeError("Trying to access beyond buffer length")}a(Fe,"checkOffset"),h.prototype.readUintLE=h.prototype.readUIntLE=a(function(d,m,J){d=d>>>0,m=m>>>0,J||Fe(d,m,this.length);let de=this[d],Ne=1,ve=0;for(;++ve<m&&(Ne*=256);)de+=this[d+ve]*Ne;return de},"readUIntLE"),h.prototype.readUintBE=h.prototype.readUIntBE=a(function(d,m,J){d=d>>>0,m=m>>>0,J||Fe(d,m,this.length);let de=this[d+--m],Ne=1;for(;m>0&&(Ne*=256);)de+=this[d+--m]*Ne;return de},"readUIntBE"),h.prototype.readUint8=h.prototype.readUInt8=a(function(d,m){return d=d>>>0,m||Fe(d,1,this.length),this[d]},"readUInt8"),h.prototype.readUint16LE=h.prototype.readUInt16LE=a(function(d,m){return d=d>>>0,m||Fe(d,2,this.length),this[d]|this[d+1]<<8},"readUInt16LE"),h.prototype.readUint16BE=h.prototype.readUInt16BE=a(function(d,m){return d=d>>>0,m||Fe(d,2,this.length),this[d]<<8|this[d+1]},"readUInt16BE"),h.prototype.readUint32LE=h.prototype.readUInt32LE=a(function(d,m){return d=d>>>0,m||Fe(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},"readUInt32LE"),h.prototype.readUint32BE=h.prototype.readUInt32BE=a(function(d,m){return d=d>>>0,m||Fe(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},"readUInt32BE"),h.prototype.readBigUInt64LE=yr(a(function(d){d=d>>>0,Ae(d,"offset");const m=this[d],J=this[d+7];(m===void 0||J===void 0)&&Me(d,this.length-8);const de=m+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,Ne=this[++d]+this[++d]*2**8+this[++d]*2**16+J*2**24;return BigInt(de)+(BigInt(Ne)<<BigInt(32))},"readBigUInt64LE")),h.prototype.readBigUInt64BE=yr(a(function(d){d=d>>>0,Ae(d,"offset");const m=this[d],J=this[d+7];(m===void 0||J===void 0)&&Me(d,this.length-8);const de=m*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],Ne=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+J;return(BigInt(de)<<BigInt(32))+BigInt(Ne)},"readBigUInt64BE")),h.prototype.readIntLE=a(function(d,m,J){d=d>>>0,m=m>>>0,J||Fe(d,m,this.length);let de=this[d],Ne=1,ve=0;for(;++ve<m&&(Ne*=256);)de+=this[d+ve]*Ne;return Ne*=128,de>=Ne&&(de-=Math.pow(2,8*m)),de},"readIntLE"),h.prototype.readIntBE=a(function(d,m,J){d=d>>>0,m=m>>>0,J||Fe(d,m,this.length);let de=m,Ne=1,ve=this[d+--de];for(;de>0&&(Ne*=256);)ve+=this[d+--de]*Ne;return Ne*=128,ve>=Ne&&(ve-=Math.pow(2,8*m)),ve},"readIntBE"),h.prototype.readInt8=a(function(d,m){return d=d>>>0,m||Fe(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},"readInt8"),h.prototype.readInt16LE=a(function(d,m){d=d>>>0,m||Fe(d,2,this.length);const J=this[d]|this[d+1]<<8;return J&32768?J|4294901760:J},"readInt16LE"),h.prototype.readInt16BE=a(function(d,m){d=d>>>0,m||Fe(d,2,this.length);const J=this[d+1]|this[d]<<8;return J&32768?J|4294901760:J},"readInt16BE"),h.prototype.readInt32LE=a(function(d,m){return d=d>>>0,m||Fe(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},"readInt32LE"),h.prototype.readInt32BE=a(function(d,m){return d=d>>>0,m||Fe(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},"readInt32BE"),h.prototype.readBigInt64LE=yr(a(function(d){d=d>>>0,Ae(d,"offset");const m=this[d],J=this[d+7];(m===void 0||J===void 0)&&Me(d,this.length-8);const de=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(J<<24);return(BigInt(de)<<BigInt(32))+BigInt(m+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)},"readBigInt64LE")),h.prototype.readBigInt64BE=yr(a(function(d){d=d>>>0,Ae(d,"offset");const m=this[d],J=this[d+7];(m===void 0||J===void 0)&&Me(d,this.length-8);const de=(m<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(de)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+J)},"readBigInt64BE")),h.prototype.readFloatLE=a(function(d,m){return d=d>>>0,m||Fe(d,4,this.length),p.read(this,d,!0,23,4)},"readFloatLE"),h.prototype.readFloatBE=a(function(d,m){return d=d>>>0,m||Fe(d,4,this.length),p.read(this,d,!1,23,4)},"readFloatBE"),h.prototype.readDoubleLE=a(function(d,m){return d=d>>>0,m||Fe(d,8,this.length),p.read(this,d,!0,52,8)},"readDoubleLE"),h.prototype.readDoubleBE=a(function(d,m){return d=d>>>0,m||Fe(d,8,this.length),p.read(this,d,!1,52,8)},"readDoubleBE");function ne(P,d,m,J,de,Ne){if(!h.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>de||d<Ne)throw new RangeError('"value" argument is out of bounds');if(m+J>P.length)throw new RangeError("Index out of range")}a(ne,"checkInt"),h.prototype.writeUintLE=h.prototype.writeUIntLE=a(function(d,m,J,de){if(d=+d,m=m>>>0,J=J>>>0,!de){const ht=Math.pow(2,8*J)-1;ne(this,d,m,J,ht,0)}let Ne=1,ve=0;for(this[m]=d&255;++ve<J&&(Ne*=256);)this[m+ve]=d/Ne&255;return m+J},"writeUIntLE"),h.prototype.writeUintBE=h.prototype.writeUIntBE=a(function(d,m,J,de){if(d=+d,m=m>>>0,J=J>>>0,!de){const ht=Math.pow(2,8*J)-1;ne(this,d,m,J,ht,0)}let Ne=J-1,ve=1;for(this[m+Ne]=d&255;--Ne>=0&&(ve*=256);)this[m+Ne]=d/ve&255;return m+J},"writeUIntBE"),h.prototype.writeUint8=h.prototype.writeUInt8=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,1,255,0),this[m]=d&255,m+1},"writeUInt8"),h.prototype.writeUint16LE=h.prototype.writeUInt16LE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,2,65535,0),this[m]=d&255,this[m+1]=d>>>8,m+2},"writeUInt16LE"),h.prototype.writeUint16BE=h.prototype.writeUInt16BE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,2,65535,0),this[m]=d>>>8,this[m+1]=d&255,m+2},"writeUInt16BE"),h.prototype.writeUint32LE=h.prototype.writeUInt32LE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,4,4294967295,0),this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=d&255,m+4},"writeUInt32LE"),h.prototype.writeUint32BE=h.prototype.writeUInt32BE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,4,4294967295,0),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},"writeUInt32BE");function Ge(P,d,m,J,de){pe(d,J,de,P,m,7);let Ne=Number(d&BigInt(4294967295));P[m++]=Ne,Ne=Ne>>8,P[m++]=Ne,Ne=Ne>>8,P[m++]=Ne,Ne=Ne>>8,P[m++]=Ne;let ve=Number(d>>BigInt(32)&BigInt(4294967295));return P[m++]=ve,ve=ve>>8,P[m++]=ve,ve=ve>>8,P[m++]=ve,ve=ve>>8,P[m++]=ve,m}a(Ge,"wrtBigUInt64LE");function et(P,d,m,J,de){pe(d,J,de,P,m,7);let Ne=Number(d&BigInt(4294967295));P[m+7]=Ne,Ne=Ne>>8,P[m+6]=Ne,Ne=Ne>>8,P[m+5]=Ne,Ne=Ne>>8,P[m+4]=Ne;let ve=Number(d>>BigInt(32)&BigInt(4294967295));return P[m+3]=ve,ve=ve>>8,P[m+2]=ve,ve=ve>>8,P[m+1]=ve,ve=ve>>8,P[m]=ve,m+8}a(et,"wrtBigUInt64BE"),h.prototype.writeBigUInt64LE=yr(a(function(d,m=0){return Ge(this,d,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),h.prototype.writeBigUInt64BE=yr(a(function(d,m=0){return et(this,d,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),h.prototype.writeIntLE=a(function(d,m,J,de){if(d=+d,m=m>>>0,!de){const It=Math.pow(2,8*J-1);ne(this,d,m,J,It-1,-It)}let Ne=0,ve=1,ht=0;for(this[m]=d&255;++Ne<J&&(ve*=256);)d<0&&ht===0&&this[m+Ne-1]!==0&&(ht=1),this[m+Ne]=(d/ve>>0)-ht&255;return m+J},"writeIntLE"),h.prototype.writeIntBE=a(function(d,m,J,de){if(d=+d,m=m>>>0,!de){const It=Math.pow(2,8*J-1);ne(this,d,m,J,It-1,-It)}let Ne=J-1,ve=1,ht=0;for(this[m+Ne]=d&255;--Ne>=0&&(ve*=256);)d<0&&ht===0&&this[m+Ne+1]!==0&&(ht=1),this[m+Ne]=(d/ve>>0)-ht&255;return m+J},"writeIntBE"),h.prototype.writeInt8=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,1,127,-128),d<0&&(d=255+d+1),this[m]=d&255,m+1},"writeInt8"),h.prototype.writeInt16LE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,2,32767,-32768),this[m]=d&255,this[m+1]=d>>>8,m+2},"writeInt16LE"),h.prototype.writeInt16BE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,2,32767,-32768),this[m]=d>>>8,this[m+1]=d&255,m+2},"writeInt16BE"),h.prototype.writeInt32LE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,4,2147483647,-2147483648),this[m]=d&255,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24,m+4},"writeInt32LE"),h.prototype.writeInt32BE=a(function(d,m,J){return d=+d,m=m>>>0,J||ne(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},"writeInt32BE"),h.prototype.writeBigInt64LE=yr(a(function(d,m=0){return Ge(this,d,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),h.prototype.writeBigInt64BE=yr(a(function(d,m=0){return et(this,d,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function st(P,d,m,J,de,Ne){if(m+J>P.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}a(st,"checkIEEE754");function Y(P,d,m,J,de){return d=+d,m=m>>>0,de||st(P,d,m,4,34028234663852886e22,-34028234663852886e22),p.write(P,d,m,J,23,4),m+4}a(Y,"writeFloat"),h.prototype.writeFloatLE=a(function(d,m,J){return Y(this,d,m,!0,J)},"writeFloatLE"),h.prototype.writeFloatBE=a(function(d,m,J){return Y(this,d,m,!1,J)},"writeFloatBE");function ee(P,d,m,J,de){return d=+d,m=m>>>0,de||st(P,d,m,8,17976931348623157e292,-17976931348623157e292),p.write(P,d,m,J,52,8),m+8}a(ee,"writeDouble"),h.prototype.writeDoubleLE=a(function(d,m,J){return ee(this,d,m,!0,J)},"writeDoubleLE"),h.prototype.writeDoubleBE=a(function(d,m,J){return ee(this,d,m,!1,J)},"writeDoubleBE"),h.prototype.copy=a(function(d,m,J,de){if(!h.isBuffer(d))throw new TypeError("argument should be a Buffer");if(J||(J=0),!de&&de!==0&&(de=this.length),m>=d.length&&(m=d.length),m||(m=0),de>0&&de<J&&(de=J),de===J||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),d.length-m<de-J&&(de=d.length-m+J);const Ne=de-J;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,J,de):Uint8Array.prototype.set.call(d,this.subarray(J,de),m),Ne},"copy"),h.prototype.fill=a(function(d,m,J,de){if(typeof d=="string"){if(typeof m=="string"?(de=m,m=0,J=this.length):typeof J=="string"&&(de=J,J=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!h.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(d.length===1){const ve=d.charCodeAt(0);(de==="utf8"&&ve<128||de==="latin1")&&(d=ve)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(m<0||this.length<m||this.length<J)throw new RangeError("Out of range index");if(J<=m)return this;m=m>>>0,J=J===void 0?this.length:J>>>0,d||(d=0);let Ne;if(typeof d=="number")for(Ne=m;Ne<J;++Ne)this[Ne]=d;else{const ve=h.isBuffer(d)?d:h.from(d,de),ht=ve.length;if(ht===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(Ne=0;Ne<J-m;++Ne)this[Ne+m]=ve[Ne%ht]}return this},"fill");const ae={};function ye(P,d,m){ae[P]=a(class extends m{constructor(){super();Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}},"NodeError")}a(ye,"E"),ye("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(P,d){return`The "${P}" argument must be of type number. Received type ${typeof d}`},TypeError),ye("ERR_OUT_OF_RANGE",function(P,d,m){let J=`The value of "${P}" is out of range.`,de=m;return Number.isInteger(m)&&Math.abs(m)>2**32?de=ke(String(m)):typeof m=="bigint"&&(de=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(de=ke(de)),de+="n"),J+=` It must be ${d}. Received ${de}`,J},RangeError);function ke(P){let d="",m=P.length;const J=P[0]==="-"?1:0;for(;m>=J+4;m-=3)d=`_${P.slice(m-3,m)}${d}`;return`${P.slice(0,m)}${d}`}a(ke,"addNumericalSeparator");function Ue(P,d,m){Ae(d,"offset"),(P[d]===void 0||P[d+m]===void 0)&&Me(d,P.length-(m+1))}a(Ue,"checkBounds");function pe(P,d,m,J,de,Ne){if(P>m||P<d){const ve=typeof d=="bigint"?"n":"";let ht;throw Ne>3?d===0||d===BigInt(0)?ht=`>= 0${ve} and < 2${ve} ** ${(Ne+1)*8}${ve}`:ht=`>= -(2${ve} ** ${(Ne+1)*8-1}${ve}) and < 2 ** ${(Ne+1)*8-1}${ve}`:ht=`>= ${d}${ve} and <= ${m}${ve}`,new ae.ERR_OUT_OF_RANGE("value",ht,P)}Ue(J,de,Ne)}a(pe,"checkIntBI");function Ae(P,d){if(typeof P!="number")throw new ae.ERR_INVALID_ARG_TYPE(d,"number",P)}a(Ae,"validateNumber");function Me(P,d,m){throw Math.floor(P)!==P?(Ae(P,m),new ae.ERR_OUT_OF_RANGE(m||"offset","an integer",P)):d<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${d}`,P)}a(Me,"boundsError");const Ze=/[^+/0-9A-Za-z-_]/g;function Oe(P){if(P=P.split("=")[0],P=P.trim().replace(Ze,""),P.length<2)return"";for(;P.length%4!=0;)P=P+"=";return P}a(Oe,"base64clean");function $e(P,d){d=d||1/0;let m;const J=P.length;let de=null;const Ne=[];for(let ve=0;ve<J;++ve){if(m=P.charCodeAt(ve),m>55295&&m<57344){if(!de){if(m>56319){(d-=3)>-1&&Ne.push(239,191,189);continue}else if(ve+1===J){(d-=3)>-1&&Ne.push(239,191,189);continue}de=m;continue}if(m<56320){(d-=3)>-1&&Ne.push(239,191,189),de=m;continue}m=(de-55296<<10|m-56320)+65536}else de&&(d-=3)>-1&&Ne.push(239,191,189);if(de=null,m<128){if((d-=1)<0)break;Ne.push(m)}else if(m<2048){if((d-=2)<0)break;Ne.push(m>>6|192,m&63|128)}else if(m<65536){if((d-=3)<0)break;Ne.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((d-=4)<0)break;Ne.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return Ne}a($e,"utf8ToBytes");function pt(P){const d=[];for(let m=0;m<P.length;++m)d.push(P.charCodeAt(m)&255);return d}a(pt,"asciiToBytes");function ot(P,d){let m,J,de;const Ne=[];for(let ve=0;ve<P.length&&!((d-=2)<0);++ve)m=P.charCodeAt(ve),J=m>>8,de=m%256,Ne.push(de),Ne.push(J);return Ne}a(ot,"utf16leToBytes");function Re(P){return v.toByteArray(Oe(P))}a(Re,"base64ToBytes");function O(P,d,m,J){let de;for(de=0;de<J&&!(de+m>=d.length||de>=P.length);++de)d[de+m]=P[de];return de}a(O,"blitBuffer");function be(P,d){return P instanceof d||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===d.name}a(be,"isInstance");function Xe(P){return P!==P}a(Xe,"numberIsNaN");const Jt=function(){const P="0123456789abcdef",d=new Array(256);for(let m=0;m<16;++m){const J=m*16;for(let de=0;de<16;++de)d[J+de]=P[m]+P[de]}return d}();function yr(P){return typeof BigInt=="undefined"?br:P}a(yr,"defineBigIntMethod");function br(){throw new Error("BigInt not supported")}a(br,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(fe){const l=await strtok3.fromStream(fe);try{return await fromTokenizer(l)}finally{await l.close()}}a(fromStream,"fromStream");async function fromBuffer(fe){if(!(fe instanceof Uint8Array||fe instanceof ArrayBuffer||Buffer.isBuffer(fe)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof fe}\``);const l=fe instanceof Buffer?fe:Buffer.from(fe);if(!(l&&l.length>1))return;const E=strtok3.fromBuffer(l);return fromTokenizer(E)}a(fromBuffer,"fromBuffer");function _check(fe,l,E){E={offset:0,...E};for(const[v,p]of l.entries())if(E.mask){if(p!==(E.mask[v]&fe[v+E.offset]))return!1}else if(p!==fe[v+E.offset])return!1;return!0}a(_check,"_check");async function fromTokenizer(fe){try{return _fromTokenizer(fe)}catch(l){if(!(l instanceof strtok3.EndOfStreamError))throw l}}a(fromTokenizer,"fromTokenizer");async function _fromTokenizer(fe){let l=Buffer.alloc(minimumBytes);const E=12,v=a((w,_)=>_check(l,w,_),"check"),p=a((w,_)=>v(stringToBytes(w),_),"checkString");if(fe.fileInfo.size||(fe.fileInfo.size=Number.MAX_SAFE_INTEGER),await fe.peekBuffer(l,{length:E,mayBeLess:!0}),v([66,77]))return{ext:"bmp",mime:"image/bmp"};if(v([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(v([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(v([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(v([37,33]))return await fe.peekBuffer(l,{length:24,mayBeLess:!0}),p("PS-Adobe-",{offset:2})&&p(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(v([31,160])||v([31,157]))return{ext:"Z",mime:"application/x-compress"};if(v([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(v([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(v([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(v([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(p("ID3")){await fe.ignore(6);const w=await fe.readToken(uint32SyncSafeToken);return fe.position+w>fe.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await fe.ignore(w),fromTokenizer(fe))}if(p("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((l[0]===67||l[0]===70)&&v([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(v([71,73,70]))return{ext:"gif",mime:"image/gif"};if(p("FLIF"))return{ext:"flif",mime:"image/flif"};if(p("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(p("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(p("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(p("FORM"))return{ext:"aif",mime:"audio/aiff"};if(p("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(v([80,75,3,4])){try{for(;fe.position+30<fe.fileInfo.size;){await fe.readBuffer(l,{length:30});const w={compressedSize:l.readUInt32LE(18),uncompressedSize:l.readUInt32LE(22),filenameLength:l.readUInt16LE(26),extraFieldLength:l.readUInt16LE(28)};if(w.filename=await fe.readToken(new Token.StringType(w.filenameLength,"utf-8")),await fe.ignore(w.extraFieldLength),w.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(w.filename.endsWith(".rels")||w.filename.endsWith(".xml"))switch(w.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(w.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(w.filename.startsWith("3D/")&&w.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(w.filename==="mimetype"&&w.compressedSize===w.uncompressedSize)switch(await fe.readToken(new Token.StringType(w.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(w.compressedSize===0){let _=-1;for(;_<0&&fe.position<fe.fileInfo.size;)await fe.peekBuffer(l,{mayBeLess:!0}),_=l.indexOf("504B0304",0,"hex"),await fe.ignore(_>=0?_:l.length)}else await fe.ignore(w.compressedSize)}}catch(w){if(!(w instanceof strtok3.EndOfStreamError))throw w}return{ext:"zip",mime:"application/zip"}}if(p("OggS")){await fe.ignore(28);const w=Buffer.alloc(8);return await fe.readBuffer(w),_check(w,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(w,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(w,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(w,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(w,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(w,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(v([80,75])&&(l[2]===3||l[2]===5||l[2]===7)&&(l[3]===4||l[3]===6||l[3]===8))return{ext:"zip",mime:"application/zip"};if(p("ftyp",{offset:4})&&(l[8]&96)!=0){const w=l.toString("binary",8,12).replace("\0"," ").trim();switch(w){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return w.startsWith("3g")?w.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(p("MThd"))return{ext:"mid",mime:"audio/midi"};if(p("wOFF")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(p("wOF2")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(v([212,195,178,161])||v([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(p("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(p("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(p("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(v([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(p("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(p("%PDF")){await fe.ignore(1350);const w=10*1024*1024,_=Buffer.alloc(Math.min(w,fe.fileInfo.size));return await fe.readBuffer(_,{mayBeLess:!0}),_.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(v([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(v([73,73,42,0]))return p("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:v([28,0,254,0],{offset:8})||v([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:v([8,0,0,0],{offset:4})&&(v([45,0,254,0],{offset:8})||v([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(l=Buffer.alloc(24),await fe.peekBuffer(l),(v([16,251,134,1],{offset:4})||v([8,0,0,0],{offset:4}))&&v([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(v([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(p("MAC "))return{ext:"ape",mime:"audio/ape"};if(v([26,69,223,163])){async function w(){const S=await fe.peekNumber(Token.UINT8);let x=128,y=0;for(;(S&x)==0&&x!==0;)++y,x>>=1;const b=Buffer.alloc(y+1);return await fe.readBuffer(b),b}a(w,"readField");async function _(){const S=await w(),x=await w();x[0]^=128>>x.length-1;const y=Math.min(6,x.length);return{id:S.readUIntBE(0,S.length),len:x.readUIntBE(x.length-y,y)}}a(_,"readElement");async function I(S,x){for(;x>0;){const y=await _();if(y.id===17026)return fe.readToken(new Token.StringType(y.len,"utf-8"));await fe.ignore(y.len),--x}}a(I,"readChildren");const D=await _();switch(await I(1,D.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(v([82,73,70,70])){if(v([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(v([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(v([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(p("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(v([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(p("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(p("MSCF")||p("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(v([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(v([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(v([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(v([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(p("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(p("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(v([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(p("IMPM"))return{ext:"it",mime:"audio/x-it"};if(p("-lh0-",{offset:2})||p("-lh1-",{offset:2})||p("-lh2-",{offset:2})||p("-lh3-",{offset:2})||p("-lh4-",{offset:2})||p("-lh5-",{offset:2})||p("-lh6-",{offset:2})||p("-lh7-",{offset:2})||p("-lzs-",{offset:2})||p("-lz4-",{offset:2})||p("-lz5-",{offset:2})||p("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(v([0,0,1,186])){if(v([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(v([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(p("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(v([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(p("<?xml "))return{ext:"xml",mime:"application/xml"};if(v([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(v([82,97,114,33,26,7])&&(l[6]===0||l[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(p("solid "))return{ext:"stl",mime:"model/stl"};if(p("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(p("!<arch>"))return await fe.ignore(8),await fe.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(v([137,80,78,71,13,10,26,10])){await fe.ignore(8);async function w(){return{length:await fe.readToken(Token.INT32_BE),type:await fe.readToken(new Token.StringType(4,"binary"))}}a(w,"readChunkHeader");do{const _=await w();if(_.length<0)return;switch(_.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await fe.ignore(_.length+4)}}while(fe.position+8<fe.fileInfo.size);return{ext:"png",mime:"image/png"}}if(v([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(v([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(v([102,114,101,101],{offset:4})||v([109,100,97,116],{offset:4})||v([109,111,111,118],{offset:4})||v([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(v([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(p("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(v([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(v([48,38,178,117,142,102,207,17,166,217])){async function w(){const _=Buffer.alloc(16);return await fe.readBuffer(_),{id:_,size:Number(await fe.readToken(Token.UINT64_LE))}}for(a(w,"readHeader"),await fe.ignore(30);fe.position+24<fe.fileInfo.size;){const _=await w();let I=_.size-24;if(_check(_.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const D=Buffer.alloc(16);if(I-=await fe.readBuffer(D),_check(D,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(D,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await fe.ignore(I)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(v([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((v([126,16,4])||v([126,24,4]))&&v([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(v([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(v([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await fe.ignore(20),await fe.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(v([255,10])||v([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(v([0,0,1,186])||v([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(v([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(v([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(v([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(v([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await fe.peekBuffer(l,{length:Math.min(256,fe.fileInfo.size),mayBeLess:!0}),p("BEGIN:")){if(p("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(p("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(p("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(p("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(p("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(v([4,0,0,0])&&l.length>=16){const w=l.readUInt32LE(12);if(w>12&&l.length>=w+16)try{const _=l.slice(16,w+16).toString();if(JSON.parse(_).files)return{ext:"asar",mime:"application/x-asar"}}catch(_){}}if(v([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(p("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(v([71],{offset:4})&&(v([71],{offset:192})||v([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(v([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(v([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(v([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(v([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(v([76,80],{offset:34})&&(v([0,0,1],{offset:8})||v([1,0,2],{offset:8})||v([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(v([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await fe.peekBuffer(l,{length:Math.min(512,fe.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(l))return{ext:"tar",mime:"application/x-tar"};if(v([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(p("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(l.length>=2&&v([255,224],{offset:0,mask:[255,224]})){if(v([16],{offset:1,mask:[22]}))return v([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(v([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(v([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(v([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}a(_fromTokenizer,"_fromTokenizer");const stream=a(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const fe=new stream.PassThrough;let l;stream.pipeline?l=stream.pipeline(readableStream,fe,()=>{}):l=readableStream.pipe(fe);const E=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const v=await fromBuffer(E);fe.fileType=v}catch(v){reject(v)}resolve(l)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(fe,l,E)=>{"use strict";const v=E(6597),p=E(1);async function w(I){const D=await v.fromFile(I);try{return await p.fromTokenizer(D)}finally{await D.close()}}a(w,"fromFile");const _={fromFile:w};Object.assign(_,p),Object.defineProperty(_,"extensions",{get(){return p.extensions}}),Object.defineProperty(_,"mimeTypes",{get(){return p.mimeTypes}}),fe.exports=_},9898:fe=>{"use strict";fe.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(fe,l)=>{"use strict";l.stringToBytes=E=>[...E].map(v=>v.charCodeAt(0)),l.tarHeaderChecksumMatches=(E,v=0)=>{const p=parseInt(E.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(p))return!1;let w=8*32;for(let _=v;_<v+148;_++)w+=E[_];for(let _=v+156;_<v+512;_++)w+=E[_];return p===w},l.uint32SyncSafeToken={get:(E,v)=>E[v+3]&127|E[v+2]<<7|E[v+1]<<14|E[v]<<21,len:4}},7360:function(fe,l){var E,v,p;(function(w,_){v=[],E=_,p=typeof E=="function"?E.apply(l,v):E,p!==void 0&&(fe.exports=p)})(this,a(function(){function _(M){var W={single:function(U,A,L){if(!U||(V(U)||(U=W.getPreparedSearch(U)),!A))return null;V(A)||(A=W.getPrepared(A));var $=L&&L.allowTypo!==void 0?L.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,te=$?W.algorithm:W.algorithmNoTypo;return te(U,A,U[0])},go:function(U,A,L){if(!U)return S;U=W.prepareSearch(U);var $=U[0],te=L&&L.threshold||M&&M.threshold||-9007199254740991,Z=L&&L.limit||M&&M.limit||9007199254740991,re=L&&L.allowTypo!==void 0?L.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,ce=re?W.algorithm:W.algorithmNoTypo,Se=0,ie=0,me=A.length;if(L&&L.keys)for(var j=L.scoreFn||B,Ve=L.keys,_e=Ve.length,he=me-1;he>=0;--he){for(var Q=A[he],ue=new Array(_e),De=_e-1;De>=0;--De){var Fe=Ve[De],ne=F(Q,Fe);if(!ne){ue[De]=null;continue}V(ne)||(ne=W.getPrepared(ne)),ue[De]=ce(U,ne,$)}ue.obj=Q;var Ge=j(ue);Ge!==null&&(Ge<te||(ue.score=Ge,Se<Z?(le.add(ue),++Se):(++ie,Ge>le.peek().score&&le.replaceTop(ue))))}else if(L&&L.key)for(var Fe=L.key,he=me-1;he>=0;--he){var Q=A[he],ne=F(Q,Fe);if(!!ne){V(ne)||(ne=W.getPrepared(ne));var et=ce(U,ne,$);et!==null&&(et.score<te||(et={target:et.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:et.score,indexes:et.indexes,obj:Q},Se<Z?(le.add(et),++Se):(++ie,et.score>le.peek().score&&le.replaceTop(et))))}}else for(var he=me-1;he>=0;--he){var ne=A[he];if(!!ne){V(ne)||(ne=W.getPrepared(ne));var et=ce(U,ne,$);et!==null&&(et.score<te||(Se<Z?(le.add(et),++Se):(++ie,et.score>le.peek().score&&le.replaceTop(et))))}}if(Se===0)return S;for(var st=new Array(Se),he=Se-1;he>=0;--he)st[he]=le.poll();return st.total=Se+ie,st},goAsync:function(U,A,L){var $=!1,te=new Promise(function(Z,re){if(!U)return Z(S);U=W.prepareSearch(U);var ce=U[0],Se=G(),ie=A.length-1,me=L&&L.threshold||M&&M.threshold||-9007199254740991,j=L&&L.limit||M&&M.limit||9007199254740991,Ve=L&&L.allowTypo!==void 0?L.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,_e=Ve?W.algorithm:W.algorithmNoTypo,he=0,Q=0;function ue(){if($)return re("canceled");var De=Date.now();if(L&&L.keys)for(var Fe=L.scoreFn||B,ne=L.keys,Ge=ne.length;ie>=0;--ie){for(var et=A[ie],st=new Array(Ge),Y=Ge-1;Y>=0;--Y){var ee=ne[Y],ae=F(et,ee);if(!ae){st[Y]=null;continue}V(ae)||(ae=W.getPrepared(ae)),st[Y]=_e(U,ae,ce)}st.obj=et;var ye=Fe(st);if(ye!==null&&!(ye<me)&&(st.score=ye,he<j?(Se.add(st),++he):(++Q,ye>Se.peek().score&&Se.replaceTop(st)),ie%1e3==0&&Date.now()-De>=10)){I?setImmediate(ue):setTimeout(ue);return}}else if(L&&L.key)for(var ee=L.key;ie>=0;--ie){var et=A[ie],ae=F(et,ee);if(!!ae){V(ae)||(ae=W.getPrepared(ae));var ke=_e(U,ae,ce);if(ke!==null&&!(ke.score<me)&&(ke={target:ke.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:ke.score,indexes:ke.indexes,obj:et},he<j?(Se.add(ke),++he):(++Q,ke.score>Se.peek().score&&Se.replaceTop(ke)),ie%1e3==0&&Date.now()-De>=10)){I?setImmediate(ue):setTimeout(ue);return}}}else for(;ie>=0;--ie){var ae=A[ie];if(!!ae){V(ae)||(ae=W.getPrepared(ae));var ke=_e(U,ae,ce);if(ke!==null&&!(ke.score<me)&&(he<j?(Se.add(ke),++he):(++Q,ke.score>Se.peek().score&&Se.replaceTop(ke)),ie%1e3==0&&Date.now()-De>=10)){I?setImmediate(ue):setTimeout(ue);return}}}if(he===0)return Z(S);for(var Ue=new Array(he),pe=he-1;pe>=0;--pe)Ue[pe]=Se.poll();Ue.total=he+Q,Z(Ue)}a(ue,"step"),I?setImmediate(ue):ue()});return te.cancel=function(){$=!0},te},highlight:function(U,A,L){if(U===null)return null;A===void 0&&(A="<b>"),L===void 0&&(L="</b>");for(var $="",te=0,Z=!1,re=U.target,ce=re.length,Se=U.indexes,ie=0;ie<ce;++ie){var me=re[ie];if(Se[te]===ie){if(++te,Z||(Z=!0,$+=A),te===Se.length){$+=me+L+re.substr(ie+1);break}}else Z&&(Z=!1,$+=L);$+=me}return $},prepare:function(U){if(!!U)return{target:U,_targetLowerCodes:W.prepareLowerCodes(U),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(U){if(!!U)return{target:U,_targetLowerCodes:W.prepareLowerCodes(U),_nextBeginningIndexes:W.prepareNextBeginningIndexes(U),score:null,indexes:null,obj:null}},prepareSearch:function(U){if(!!U)return W.prepareLowerCodes(U)},getPrepared:function(U){if(U.length>999)return W.prepare(U);var A=D.get(U);return A!==void 0||(A=W.prepare(U),D.set(U,A)),A},getPreparedSearch:function(U){if(U.length>999)return W.prepareSearch(U);var A=h.get(U);return A!==void 0||(A=W.prepareSearch(U),h.set(U,A)),A},algorithm:function(U,A,L){for(var $=A._targetLowerCodes,te=U.length,Z=$.length,re=0,ce=0,Se=0,ie=0;;){var me=L===$[ce];if(me){if(x[ie++]=ce,++re,re===te)break;L=U[Se===0?re:Se===re?re+1:Se===re-1?re-1:re]}if(++ce,ce>=Z)for(;;){if(re<=1)return null;if(Se===0){--re;var j=U[re];if(L===j)continue;Se=re}else{if(Se===1)return null;--Se,re=Se,L=U[re+1];var j=U[re];if(L===j)continue}ie=re,ce=x[ie-1]+1;break}}var re=0,Ve=0,_e=!1,he=0,Q=A._nextBeginningIndexes;Q===null&&(Q=A._nextBeginningIndexes=W.prepareNextBeginningIndexes(A.target));var ue=ce=x[0]===0?0:Q[x[0]-1];if(ce!==Z)for(;;)if(ce>=Z){if(re<=0){if(++Ve,Ve>te-2)break;if(U[Ve]===U[Ve+1])continue;ce=ue;continue}--re;var De=y[--he];ce=Q[De]}else{var me=U[Ve===0?re:Ve===re?re+1:Ve===re-1?re-1:re]===$[ce];if(me){if(y[he++]=ce,++re,re===te){_e=!0;break}++ce}else ce=Q[ce]}{if(_e)var Fe=y,ne=he;else var Fe=x,ne=ie;for(var Ge=0,et=-1,st=0;st<te;++st){var ce=Fe[st];et!==ce-1&&(Ge-=ce),et=ce}_e?Ve!==0&&(Ge+=-20):(Ge*=1e3,Se!==0&&(Ge+=-20)),Ge-=Z-te,A.score=Ge,A.indexes=new Array(ne);for(var st=ne-1;st>=0;--st)A.indexes[st]=Fe[st];return A}},algorithmNoTypo:function(U,A,L){for(var $=A._targetLowerCodes,te=U.length,Z=$.length,re=0,ce=0,Se=0;;){var ie=L===$[ce];if(ie){if(x[Se++]=ce,++re,re===te)break;L=U[re]}if(++ce,ce>=Z)return null}var re=0,me=!1,j=0,Ve=A._nextBeginningIndexes;Ve===null&&(Ve=A._nextBeginningIndexes=W.prepareNextBeginningIndexes(A.target));var _e=ce=x[0]===0?0:Ve[x[0]-1];if(ce!==Z)for(;;)if(ce>=Z){if(re<=0)break;--re;var he=y[--j];ce=Ve[he]}else{var ie=U[re]===$[ce];if(ie){if(y[j++]=ce,++re,re===te){me=!0;break}++ce}else ce=Ve[ce]}{if(me)var Q=y,ue=j;else var Q=x,ue=Se;for(var De=0,Fe=-1,ne=0;ne<te;++ne){var ce=Q[ne];Fe!==ce-1&&(De-=ce),Fe=ce}me||(De*=1e3),De-=Z-te,A.score=De,A.indexes=new Array(ue);for(var ne=ue-1;ne>=0;--ne)A.indexes[ne]=Q[ne];return A}},prepareLowerCodes:function(U){for(var A=U.length,L=[],$=U.toLowerCase(),te=0;te<A;++te)L[te]=$.charCodeAt(te);return L},prepareBeginningIndexes:function(U){for(var A=U.length,L=[],$=0,te=!1,Z=!1,re=0;re<A;++re){var ce=U.charCodeAt(re),Se=ce>=65&&ce<=90,ie=Se||ce>=97&&ce<=122||ce>=48&&ce<=57,me=Se&&!te||!Z||!ie;te=Se,Z=ie,me&&(L[$++]=re)}return L},prepareNextBeginningIndexes:function(U){for(var A=U.length,L=W.prepareBeginningIndexes(U),$=[],te=L[0],Z=0,re=0;re<A;++re)te>re?$[re]=te:(te=L[++Z],$[re]=te===void 0?A:te);return $},cleanup:b,new:_};return W}a(_,"fuzzysortNew");var I=typeof window=="undefined",D=new Map,h=new Map,S=[];S.total=0;var x=[],y=[];function b(){D.clear(),h.clear(),x=[],y=[]}a(b,"cleanup");function B(M){for(var W=-9007199254740991,U=M.length-1;U>=0;--U){var A=M[U];if(A!==null){var L=A.score;L>W&&(W=L)}}return W===-9007199254740991?null:W}a(B,"defaultScoreFn");function F(M,W){var U=M[W];if(U!==void 0)return U;var A=W;Array.isArray(W)||(A=W.split("."));for(var L=A.length,$=-1;M&&++$<L;)M=M[A[$]];return M}a(F,"getValue");function V(M){return typeof M=="object"}a(V,"isObj");var G=a(function(){var M=[],W=0,U={};function A(){for(var L=0,$=M[L],te=1;te<W;){var Z=te+1;L=te,Z<W&&M[Z].score<M[te].score&&(L=Z),M[L-1>>1]=M[L],te=1+(L<<1)}for(var re=L-1>>1;L>0&&$.score<M[re].score;re=(L=re)-1>>1)M[L]=M[re];M[L]=$}return a(A,"n"),U.add=function(L){var $=W;M[W++]=L;for(var te=$-1>>1;$>0&&L.score<M[te].score;te=($=te)-1>>1)M[$]=M[te];M[$]=L},U.poll=function(){if(W!==0){var L=M[0];return M[0]=M[--W],A(),L}},U.peek=function(L){if(W!==0)return M[0]},U.replaceTop=function(L){M[0]=L,A()},U},"fastpriorityqueue"),le=G();return _()},"UMD"))},645:(fe,l)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(E,v,p,w,_){var I,D,h=_*8-w-1,S=(1<<h)-1,x=S>>1,y=-7,b=p?_-1:0,B=p?-1:1,F=E[v+b];for(b+=B,I=F&(1<<-y)-1,F>>=-y,y+=h;y>0;I=I*256+E[v+b],b+=B,y-=8);for(D=I&(1<<-y)-1,I>>=-y,y+=w;y>0;D=D*256+E[v+b],b+=B,y-=8);if(I===0)I=1-x;else{if(I===S)return D?NaN:(F?-1:1)*(1/0);D=D+Math.pow(2,w),I=I-x}return(F?-1:1)*D*Math.pow(2,I-w)},l.write=function(E,v,p,w,_,I){var D,h,S,x=I*8-_-1,y=(1<<x)-1,b=y>>1,B=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=w?0:I-1,V=w?1:-1,G=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(h=isNaN(v)?1:0,D=y):(D=Math.floor(Math.log(v)/Math.LN2),v*(S=Math.pow(2,-D))<1&&(D--,S*=2),D+b>=1?v+=B/S:v+=B*Math.pow(2,1-b),v*S>=2&&(D++,S/=2),D+b>=y?(h=0,D=y):D+b>=1?(h=(v*S-1)*Math.pow(2,_),D=D+b):(h=v*Math.pow(2,b-1)*Math.pow(2,_),D=0));_>=8;E[p+F]=h&255,F+=V,h/=256,_-=8);for(D=D<<_|h,x+=_;x>0;E[p+F]=D&255,F+=V,D/=256,x-=8);E[p+F-V]|=G*128}},3300:(fe,l)=>{"use strict";var E=a(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof v!="undefined")return v;throw new Error("unable to locate global object")},"getGlobal"),v=E();fe.exports=l=v.fetch,v.fetch&&(l.default=v.fetch.bind(v)),l.Headers=v.Headers,l.Request=v.Request,l.Response=v.Response},447:(fe,l,E)=>{var v=E(2479);fe.exports=v(p),fe.exports.strict=v(w),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})});function p(_){var I=a(function(){return I.called?I.value:(I.called=!0,I.value=_.apply(this,arguments))},"f");return I.called=!1,I}a(p,"once");function w(_){var I=a(function(){if(I.called)throw new Error(I.onceError);return I.called=!0,I.value=_.apply(this,arguments)},"f"),D=_.name||"Function wrapped with `once`";return I.onceError=D+" shouldn't be called more than once",I.called=!1,I}a(w,"onceStrict")},6470:(fe,l,E)=>{"use strict";var v=E(4155);function p(D){if(typeof D!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(D))}a(p,"assertPath");function w(D,h){for(var S="",x=0,y=-1,b=0,B,F=0;F<=D.length;++F){if(F<D.length)B=D.charCodeAt(F);else{if(B===47)break;B=47}if(B===47){if(!(y===F-1||b===1))if(y!==F-1&&b===2){if(S.length<2||x!==2||S.charCodeAt(S.length-1)!==46||S.charCodeAt(S.length-2)!==46){if(S.length>2){var V=S.lastIndexOf("/");if(V!==S.length-1){V===-1?(S="",x=0):(S=S.slice(0,V),x=S.length-1-S.lastIndexOf("/")),y=F,b=0;continue}}else if(S.length===2||S.length===1){S="",x=0,y=F,b=0;continue}}h&&(S.length>0?S+="/..":S="..",x=2)}else S.length>0?S+="/"+D.slice(y+1,F):S=D.slice(y+1,F),x=F-y-1;y=F,b=0}else B===46&&b!==-1?++b:b=-1}return S}a(w,"normalizeStringPosix");function _(D,h){var S=h.dir||h.root,x=h.base||(h.name||"")+(h.ext||"");return S?S===h.root?S+x:S+D+x:x}a(_,"_format");var I={resolve:a(function(){for(var h="",S=!1,x,y=arguments.length-1;y>=-1&&!S;y--){var b;y>=0?b=arguments[y]:(x===void 0&&(x=v.cwd()),b=x),p(b),b.length!==0&&(h=b+"/"+h,S=b.charCodeAt(0)===47)}return h=w(h,!S),S?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:a(function(h){if(p(h),h.length===0)return".";var S=h.charCodeAt(0)===47,x=h.charCodeAt(h.length-1)===47;return h=w(h,!S),h.length===0&&!S&&(h="."),h.length>0&&x&&(h+="/"),S?"/"+h:h},"normalize"),isAbsolute:a(function(h){return p(h),h.length>0&&h.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var h,S=0;S<arguments.length;++S){var x=arguments[S];p(x),x.length>0&&(h===void 0?h=x:h+="/"+x)}return h===void 0?".":I.normalize(h)},"join"),relative:a(function(h,S){if(p(h),p(S),h===S||(h=I.resolve(h),S=I.resolve(S),h===S))return"";for(var x=1;x<h.length&&h.charCodeAt(x)===47;++x);for(var y=h.length,b=y-x,B=1;B<S.length&&S.charCodeAt(B)===47;++B);for(var F=S.length,V=F-B,G=b<V?b:V,le=-1,M=0;M<=G;++M){if(M===G){if(V>G){if(S.charCodeAt(B+M)===47)return S.slice(B+M+1);if(M===0)return S.slice(B+M)}else b>G&&(h.charCodeAt(x+M)===47?le=M:M===0&&(le=0));break}var W=h.charCodeAt(x+M),U=S.charCodeAt(B+M);if(W!==U)break;W===47&&(le=M)}var A="";for(M=x+le+1;M<=y;++M)(M===y||h.charCodeAt(M)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+S.slice(B+le):(B+=le,S.charCodeAt(B)===47&&++B,S.slice(B))},"relative"),_makeLong:a(function(h){return h},"_makeLong"),dirname:a(function(h){if(p(h),h.length===0)return".";for(var S=h.charCodeAt(0),x=S===47,y=-1,b=!0,B=h.length-1;B>=1;--B)if(S=h.charCodeAt(B),S===47){if(!b){y=B;break}}else b=!1;return y===-1?x?"/":".":x&&y===1?"//":h.slice(0,y)},"dirname"),basename:a(function(h,S){if(S!==void 0&&typeof S!="string")throw new TypeError('"ext" argument must be a string');p(h);var x=0,y=-1,b=!0,B;if(S!==void 0&&S.length>0&&S.length<=h.length){if(S.length===h.length&&S===h)return"";var F=S.length-1,V=-1;for(B=h.length-1;B>=0;--B){var G=h.charCodeAt(B);if(G===47){if(!b){x=B+1;break}}else V===-1&&(b=!1,V=B+1),F>=0&&(G===S.charCodeAt(F)?--F==-1&&(y=B):(F=-1,y=V))}return x===y?y=V:y===-1&&(y=h.length),h.slice(x,y)}else{for(B=h.length-1;B>=0;--B)if(h.charCodeAt(B)===47){if(!b){x=B+1;break}}else y===-1&&(b=!1,y=B+1);return y===-1?"":h.slice(x,y)}},"basename"),extname:a(function(h){p(h);for(var S=-1,x=0,y=-1,b=!0,B=0,F=h.length-1;F>=0;--F){var V=h.charCodeAt(F);if(V===47){if(!b){x=F+1;break}continue}y===-1&&(b=!1,y=F+1),V===46?S===-1?S=F:B!==1&&(B=1):S!==-1&&(B=-1)}return S===-1||y===-1||B===0||B===1&&S===y-1&&S===x+1?"":h.slice(S,y)},"extname"),format:a(function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return _("/",h)},"format"),parse:a(function(h){p(h);var S={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return S;var x=h.charCodeAt(0),y=x===47,b;y?(S.root="/",b=1):b=0;for(var B=-1,F=0,V=-1,G=!0,le=h.length-1,M=0;le>=b;--le){if(x=h.charCodeAt(le),x===47){if(!G){F=le+1;break}continue}V===-1&&(G=!1,V=le+1),x===46?B===-1?B=le:M!==1&&(M=1):B!==-1&&(M=-1)}return B===-1||V===-1||M===0||M===1&&B===V-1&&B===F+1?V!==-1&&(F===0&&y?S.base=S.name=h.slice(1,V):S.base=S.name=h.slice(F,V)):(F===0&&y?(S.name=h.slice(1,B),S.base=h.slice(1,V)):(S.name=h.slice(F,B),S.base=h.slice(F,V)),S.ext=h.slice(B,V)),F>0?S.dir=h.slice(0,F-1):y&&(S.dir="/"),S},"parse"),sep:"/",delimiter:":",win32:null,posix:null};I.posix=I,fe.exports=I},8985:(fe,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Deferred=void 0;class E{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((p,w)=>{this.reject=w,this.resolve=p})}}a(E,"Deferred"),l.Deferred=E},7279:(fe,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.EndOfStreamError=l.defaultMessages=void 0,l.defaultMessages="End-Of-Stream";class E extends Error{constructor(){super(l.defaultMessages)}}a(E,"EndOfStreamError"),l.EndOfStreamError=E},6654:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.StreamReader=l.EndOfStreamError=void 0;const v=E(7279),p=E(8985);var w=E(7279);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});const _=1*1024*1024;class I{constructor(h){if(this.s=h,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!h.read||!h.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new v.EndOfStreamError)),this.s.once("error",S=>this.reject(S)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(h,S,x){const y=await this.read(h,S,x);return this.peekQueue.push(h.subarray(S,S+y)),y}async read(h,S,x){if(x===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new v.EndOfStreamError;let y=x,b=0;for(;this.peekQueue.length>0&&y>0;){const B=this.peekQueue.pop();if(!B)throw new Error("peekData should be defined");const F=Math.min(B.length,y);h.set(B.subarray(0,F),S+b),b+=F,y-=F,F<B.length&&this.peekQueue.push(B.subarray(F))}for(;y>0&&!this.endOfStream;){const B=Math.min(y,_),F=await this.readFromStream(h,S+b,B);if(b+=F,F<B)break;y-=F}return b}async readFromStream(h,S,x){const y=this.s.read(x);if(y)return h.set(y,S),y.length;{const b={buffer:h,offset:S,length:x,deferred:new p.Deferred};return this.deferred=b.deferred,this.s.once("readable",()=>{this.readDeferred(b)}),b.deferred.promise}}readDeferred(h){const S=this.s.read(h.length);S?(h.buffer.set(S,h.offset),h.deferred.resolve(S.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(h)})}reject(h){this.endOfStream=!0,this.deferred&&(this.deferred.reject(h),this.deferred=null)}}a(I,"StreamReader"),l.StreamReader=I},5167:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.StreamReader=l.EndOfStreamError=void 0;var v=E(7279);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return v.EndOfStreamError}});var p=E(6654);Object.defineProperty(l,"StreamReader",{enumerable:!0,get:function(){return p.StreamReader}})},4155:fe=>{var l=fe.exports={},E,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}a(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?E=setTimeout:E=p}catch(V){E=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=w}catch(V){v=w}}();function _(V){if(E===setTimeout)return setTimeout(V,0);if((E===p||!E)&&setTimeout)return E=setTimeout,setTimeout(V,0);try{return E(V,0)}catch(G){try{return E.call(null,V,0)}catch(le){return E.call(this,V,0)}}}a(_,"runTimeout");function I(V){if(v===clearTimeout)return clearTimeout(V);if((v===w||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(V);try{return v(V)}catch(G){try{return v.call(null,V)}catch(le){return v.call(this,V)}}}a(I,"runClearTimeout");var D=[],h=!1,S,x=-1;function y(){!h||!S||(h=!1,S.length?D=S.concat(D):x=-1,D.length&&b())}a(y,"cleanUpNextTick");function b(){if(!h){var V=_(y);h=!0;for(var G=D.length;G;){for(S=D,D=[];++x<G;)S&&S[x].run();x=-1,G=D.length}S=null,h=!1,I(V)}}a(b,"drainQueue"),l.nextTick=function(V){var G=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)G[le-1]=arguments[le];D.push(new B(V,G)),D.length===1&&!h&&_(b)};function B(V,G){this.fun=V,this.array=G}a(B,"Item"),B.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function F(){}a(F,"noop"),l.on=F,l.addListener=F,l.once=F,l.off=F,l.removeListener=F,l.removeAllListeners=F,l.emit=F,l.prependListener=F,l.prependOnceListener=F,l.listeners=function(V){return[]},l.binding=function(V){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(V){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},842:(fe,l,E)=>{"use strict";var v=E(8764).Buffer;Object.defineProperty(l,"__esModule",{value:!0}),l.AbstractTokenizer=void 0;const p=E(5167);class w{constructor(I){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=I||{}}async readToken(I,D=this.position){const h=v.alloc(I.len);if(await this.readBuffer(h,{position:D})<I.len)throw new p.EndOfStreamError;return I.get(h,0)}async peekToken(I,D=this.position){const h=v.alloc(I.len);if(await this.peekBuffer(h,{position:D})<I.len)throw new p.EndOfStreamError;return I.get(h,0)}async readNumber(I){if(await this.readBuffer(this.numBuffer,{length:I.len})<I.len)throw new p.EndOfStreamError;return I.get(this.numBuffer,0)}async peekNumber(I){if(await this.peekBuffer(this.numBuffer,{length:I.len})<I.len)throw new p.EndOfStreamError;return I.get(this.numBuffer,0)}async ignore(I){if(this.fileInfo.size!==void 0){const D=this.fileInfo.size-this.position;if(I>D)return this.position+=D,D}return this.position+=I,I}async close(){}normalizeOptions(I,D){if(D&&D.position!==void 0&&D.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return D?{mayBeLess:D.mayBeLess===!0,offset:D.offset?D.offset:0,length:D.length?D.length:I.length-(D.offset?D.offset:0),position:D.position?D.position:this.position}:{mayBeLess:!1,offset:0,length:I.length,position:this.position}}}a(w,"AbstractTokenizer"),l.AbstractTokenizer=w},778:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BufferTokenizer=void 0;const v=E(5167),p=E(842);class w extends p.AbstractTokenizer{constructor(I,D){super(D);this.uint8Array=I,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:I.length}async readBuffer(I,D){if(D&&D.position){if(D.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=D.position}const h=await this.peekBuffer(I,D);return this.position+=h,h}async peekBuffer(I,D){const h=this.normalizeOptions(I,D),S=Math.min(this.uint8Array.length-h.position,h.length);if(!h.mayBeLess&&S<h.length)throw new v.EndOfStreamError;return I.set(this.uint8Array.subarray(h.position,h.position+S),h.offset),S}async close(){}}a(w,"BufferTokenizer"),l.BufferTokenizer=w},7859:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromFile=l.FileTokenizer=void 0;const v=E(842),p=E(5167),w=E(7209);class _ extends v.AbstractTokenizer{constructor(h,S){super(S);this.fd=h}async readBuffer(h,S){const x=this.normalizeOptions(h,S);this.position=x.position;const y=await w.read(this.fd,h,x.offset,x.length,x.position);if(this.position+=y.bytesRead,y.bytesRead<x.length&&(!S||!S.mayBeLess))throw new p.EndOfStreamError;return y.bytesRead}async peekBuffer(h,S){const x=this.normalizeOptions(h,S),y=await w.read(this.fd,h,x.offset,x.length,x.position);if(!x.mayBeLess&&y.bytesRead<x.length)throw new p.EndOfStreamError;return y.bytesRead}async close(){return w.close(this.fd)}}a(_,"FileTokenizer"),l.FileTokenizer=_;async function I(D){const h=await w.stat(D);if(!h.isFile)throw new Error(`File not a file: ${D}`);const S=await w.open(D,"r");return new _(S,{path:D,size:h.size})}a(I,"fromFile"),l.fromFile=I},7209:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.readFile=l.writeFileSync=l.writeFile=l.read=l.open=l.close=l.stat=l.createReadStream=l.pathExists=void 0;const v=E(4059);l.pathExists=v.existsSync,l.createReadStream=v.createReadStream;async function p(x){return new Promise((y,b)=>{v.stat(x,(B,F)=>{B?b(B):y(F)})})}a(p,"stat"),l.stat=p;async function w(x){return new Promise((y,b)=>{v.close(x,B=>{B?b(B):y()})})}a(w,"close"),l.close=w;async function _(x,y){return new Promise((b,B)=>{v.open(x,y,(F,V)=>{F?B(F):b(V)})})}a(_,"open"),l.open=_;async function I(x,y,b,B,F){return new Promise((V,G)=>{v.read(x,y,b,B,F,(le,M,W)=>{le?G(le):V({bytesRead:M,buffer:W})})})}a(I,"read"),l.read=I;async function D(x,y){return new Promise((b,B)=>{v.writeFile(x,y,F=>{F?B(F):b()})})}a(D,"writeFile"),l.writeFile=D;function h(x,y){v.writeFileSync(x,y)}a(h,"writeFileSync"),l.writeFileSync=h;async function S(x){return new Promise((y,b)=>{v.readFile(x,(B,F)=>{B?b(B):y(F)})})}a(S,"readFile"),l.readFile=S},599:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ReadStreamTokenizer=void 0;const v=E(842),p=E(5167),w=256e3;class _ extends v.AbstractTokenizer{constructor(D,h){super(h);this.streamReader=new p.StreamReader(D)}async getFileInfo(){return this.fileInfo}async readBuffer(D,h){const S=this.normalizeOptions(D,h),x=S.position-this.position;if(x>0)return await this.ignore(x),this.readBuffer(D,h);if(x<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(S.length===0)return 0;const y=await this.streamReader.read(D,S.offset,S.length);if(this.position+=y,(!h||!h.mayBeLess)&&y<S.length)throw new p.EndOfStreamError;return y}async peekBuffer(D,h){const S=this.normalizeOptions(D,h);let x=0;if(S.position){const y=S.position-this.position;if(y>0){const b=new Uint8Array(S.length+y);return x=await this.peekBuffer(b,{mayBeLess:S.mayBeLess}),D.set(b.subarray(y),S.offset),x-y}else if(y<0)throw new Error("Cannot peek from a negative offset in a stream")}if(S.length>0){try{x=await this.streamReader.peek(D,S.offset,S.length)}catch(y){if(h&&h.mayBeLess&&y instanceof p.EndOfStreamError)return 0;throw y}if(!S.mayBeLess&&x<S.length)throw new p.EndOfStreamError}return x}async ignore(D){const h=Math.min(w,D),S=new Uint8Array(h);let x=0;for(;x<D;){const y=D-x,b=await this.readBuffer(S,{length:Math.min(h,y)});if(b<0)return b;x+=b}return x}}a(_,"ReadStreamTokenizer"),l.ReadStreamTokenizer=_},5849:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromBuffer=l.fromStream=l.EndOfStreamError=void 0;const v=E(599),p=E(778);var w=E(5167);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});function _(D,h){return h=h||{},new v.ReadStreamTokenizer(D,h)}a(_,"fromStream"),l.fromStream=_;function I(D,h){return new p.BufferTokenizer(D,h)}a(I,"fromBuffer"),l.fromBuffer=I},6597:(fe,l,E)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromStream=l.fromBuffer=l.EndOfStreamError=l.fromFile=void 0;const v=E(7209),p=E(5849);var w=E(7859);Object.defineProperty(l,"fromFile",{enumerable:!0,get:function(){return w.fromFile}});var _=E(5849);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return _.EndOfStreamError}}),Object.defineProperty(l,"fromBuffer",{enumerable:!0,get:function(){return _.fromBuffer}});async function I(D,h){if(h=h||{},D.path){const S=await v.stat(D.path);h.path=D.path,h.size=S.size}return p.fromStream(D,h)}a(I,"fromStream"),l.fromStream=I},3416:(fe,l,E)=>{"use strict";var v=E(8764).Buffer;Object.defineProperty(l,"__esModule",{value:!0}),l.AnsiStringType=l.StringType=l.BufferType=l.Uint8ArrayType=l.IgnoreType=l.Float80_LE=l.Float80_BE=l.Float64_LE=l.Float64_BE=l.Float32_LE=l.Float32_BE=l.Float16_LE=l.Float16_BE=l.INT64_BE=l.UINT64_BE=l.INT64_LE=l.UINT64_LE=l.INT32_LE=l.INT32_BE=l.INT24_BE=l.INT24_LE=l.INT16_LE=l.INT16_BE=l.INT8=l.UINT32_BE=l.UINT32_LE=l.UINT24_BE=l.UINT24_LE=l.UINT16_BE=l.UINT16_LE=l.UINT8=void 0;const p=E(645);function w(x){return new DataView(x.buffer,x.byteOffset)}a(w,"dv"),l.UINT8={len:1,get(x,y){return w(x).getUint8(y)},put(x,y,b){return w(x).setUint8(y,b),y+1}},l.UINT16_LE={len:2,get(x,y){return w(x).getUint16(y,!0)},put(x,y,b){return w(x).setUint16(y,b,!0),y+2}},l.UINT16_BE={len:2,get(x,y){return w(x).getUint16(y)},put(x,y,b){return w(x).setUint16(y,b),y+2}},l.UINT24_LE={len:3,get(x,y){const b=w(x);return b.getUint8(y)+(b.getUint16(y+1,!0)<<8)},put(x,y,b){const B=w(x);return B.setUint8(y,b&255),B.setUint16(y+1,b>>8,!0),y+3}},l.UINT24_BE={len:3,get(x,y){const b=w(x);return(b.getUint16(y)<<8)+b.getUint8(y+2)},put(x,y,b){const B=w(x);return B.setUint16(y,b>>8),B.setUint8(y+2,b&255),y+3}},l.UINT32_LE={len:4,get(x,y){return w(x).getUint32(y,!0)},put(x,y,b){return w(x).setUint32(y,b,!0),y+4}},l.UINT32_BE={len:4,get(x,y){return w(x).getUint32(y)},put(x,y,b){return w(x).setUint32(y,b),y+4}},l.INT8={len:1,get(x,y){return w(x).getInt8(y)},put(x,y,b){return w(x).setInt8(y,b),y+2}},l.INT16_BE={len:2,get(x,y){return w(x).getInt16(y)},put(x,y,b){return w(x).setInt16(y,b),y+2}},l.INT16_LE={len:2,get(x,y){return w(x).getInt16(y,!0)},put(x,y,b){return w(x).setInt16(y,b,!0),y+2}},l.INT24_LE={len:3,get(x,y){const b=l.UINT24_LE.get(x,y);return b>8388607?b-16777216:b},put(x,y,b){const B=w(x);return B.setUint8(y,b&255),B.setUint16(y+1,b>>8,!0),y+3}},l.INT24_BE={len:3,get(x,y){const b=l.UINT24_BE.get(x,y);return b>8388607?b-16777216:b},put(x,y,b){const B=w(x);return B.setUint16(y,b>>8),B.setUint8(y+2,b&255),y+3}},l.INT32_BE={len:4,get(x,y){return w(x).getInt32(y)},put(x,y,b){return w(x).setInt32(y,b),y+4}},l.INT32_LE={len:4,get(x,y){return w(x).getInt32(y,!0)},put(x,y,b){return w(x).setInt32(y,b,!0),y+4}},l.UINT64_LE={len:8,get(x,y){return w(x).getBigUint64(y,!0)},put(x,y,b){return w(x).setBigUint64(y,b,!0),y+8}},l.INT64_LE={len:8,get(x,y){return w(x).getBigInt64(y,!0)},put(x,y,b){return w(x).setBigInt64(y,b,!0),y+8}},l.UINT64_BE={len:8,get(x,y){return w(x).getBigUint64(y)},put(x,y,b){return w(x).setBigUint64(y,b),y+8}},l.INT64_BE={len:8,get(x,y){return w(x).getBigInt64(y)},put(x,y,b){return w(x).setBigInt64(y,b),y+8}},l.Float16_BE={len:2,get(x,y){return p.read(x,y,!1,10,this.len)},put(x,y,b){return p.write(x,b,y,!1,10,this.len),y+this.len}},l.Float16_LE={len:2,get(x,y){return p.read(x,y,!0,10,this.len)},put(x,y,b){return p.write(x,b,y,!0,10,this.len),y+this.len}},l.Float32_BE={len:4,get(x,y){return w(x).getFloat32(y)},put(x,y,b){return w(x).setFloat32(y,b),y+4}},l.Float32_LE={len:4,get(x,y){return w(x).getFloat32(y,!0)},put(x,y,b){return w(x).setFloat32(y,b,!0),y+4}},l.Float64_BE={len:8,get(x,y){return w(x).getFloat64(y)},put(x,y,b){return w(x).setFloat64(y,b),y+8}},l.Float64_LE={len:8,get(x,y){return w(x).getFloat64(y,!0)},put(x,y,b){return w(x).setFloat64(y,b,!0),y+8}},l.Float80_BE={len:10,get(x,y){return p.read(x,y,!1,63,this.len)},put(x,y,b){return p.write(x,b,y,!1,63,this.len),y+this.len}},l.Float80_LE={len:10,get(x,y){return p.read(x,y,!0,63,this.len)},put(x,y,b){return p.write(x,b,y,!0,63,this.len),y+this.len}};class _{constructor(y){this.len=y}get(y,b){}}a(_,"IgnoreType"),l.IgnoreType=_;class I{constructor(y){this.len=y}get(y,b){return y.subarray(b,b+this.len)}}a(I,"Uint8ArrayType"),l.Uint8ArrayType=I;class D{constructor(y){this.len=y}get(y,b){return v.from(y.subarray(b,b+this.len))}}a(D,"BufferType"),l.BufferType=D;class h{constructor(y,b){this.len=y,this.encoding=b}get(y,b){return v.from(y).toString(this.encoding,b,b+this.len)}}a(h,"StringType"),l.StringType=h;class S{constructor(y){this.len=y}static decode(y,b,B){let F="";for(let V=b;V<B;++V)F+=S.codePointToString(S.singleByteDecoder(y[V]));return F}static inRange(y,b,B){return b<=y&&y<=B}static codePointToString(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}static singleByteDecoder(y){if(S.inRange(y,0,127))return y;const b=S.windows1252[y-128];if(b===null)throw Error("invaliding encoding");return b}get(y,b=0){return S.decode(y,b,b+this.len)}}a(S,"AnsiStringType"),l.AnsiStringType=S,S.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:fe=>{fe.exports=l;function l(E,v){if(E&&v)return l(E)(v);if(typeof E!="function")throw new TypeError("need wrapper function");return Object.keys(E).forEach(function(w){p[w]=E[w]}),p;function p(){for(var w=new Array(arguments.length),_=0;_<w.length;_++)w[_]=arguments[_];var I=E.apply(this,w),D=w[w.length-1];return typeof I=="function"&&I!==D&&Object.keys(D).forEach(function(h){I[h]=D[h]}),I}a(p,"wrapper")}a(l,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(fe){var l=__webpack_module_cache__[fe];if(l!==void 0)return l.exports;var E=__webpack_module_cache__[fe]={id:fe,loaded:!1,exports:{}};return __webpack_modules__[fe].call(E.exports,E,E.exports,__webpack_require__),E.loaded=!0,E.exports}a(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=fe=>{var l=fe&&fe.__esModule?()=>fe.default:()=>fe;return __webpack_require__.d(l,{a:l}),l}})(),(()=>{__webpack_require__.d=(fe,l)=>{for(var E in l)__webpack_require__.o(l,E)&&!__webpack_require__.o(fe,E)&&Object.defineProperty(fe,E,{enumerable:!0,get:l[E]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(fe){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(fe,l)=>Object.prototype.hasOwnProperty.call(fe,l)})(),(()=>{__webpack_require__.r=fe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=fe=>(fe.paths=[],fe.children||(fe.children=[]),fe)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StateKeys:()=>io,activate:()=>ec,getState:()=>Yu,updateState:()=>qu});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{max:()=>Xi,min:()=>wi});const l=require("vscode"),E=new TextDecoder,v=new TextEncoder,p=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function w(r){const e=v.encode(r),t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=p[e[n]];return t.join("")}a(w,"encodeUtf8Hex");function _(r){const e=r.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(n=>parseInt(n,16)));return E.decode(t)}a(_,"decodeUtf8Hex");const I=/^[0-9a-f]{40}$/i;function D(r){return r!==void 0&&I.test(r)}a(D,"isSha");const h=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function S(r){return h.test(r)}a(S,"isValidBranchName");function x(r){return r===""||r==="~"||r==="HEAD"?r:r.endsWith("^")?`${r.substr(0,7)}^`:r.substr(0,7)}a(x,"shortenRef");const y=47;function b(r){if(r===void 0)return;const e=r.path.endsWith("/");return!e&&!r.fragment?r.toString():r.with({path:e?r.path.slice(0,-1):r.path,fragment:""}).toString()}a(b,"asKey");function B(r){if(r===void 0)return;const e=r.path.endsWith("/");return!e&&!r.query&&!r.fragment?r.toString():r.with({path:e?r.path.slice(0,-1):r.path,query:"",fragment:""}).toString()}a(B,"asFileKey");function F(r,e){return`${(e==null?void 0:e.excludeScheme)?"":`${r.scheme}-`}${r.authority}${r.path.endsWith("/")?r.path.slice(0,-1):r.path}`}a(F,"asFileStorageKey");function V(r){const e=typeof r=="string"?r:r.path;let t=0,n=-1,i=!0;for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===y){if(!i){t=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(t,n)}a(V,"uris_basename");function G(r){const e=r.path;if(e.length===1)return"/";let t,n=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===y){if(!i){n=o;break}}else i=!1;return n===-1?"/":e.slice(0,n)}a(G,"dirname");function le(r){const e=r.path.lastIndexOf("/");return e===-1?r.with({path:"/"}):r.with({path:r.path.substring(0,e)})}a(le,"getParent");function M(r,e){const t=typeof e=="string"?e:e.path;return t.startsWith(r.path)?l.Uri.joinPath(r,t.substr(r.path.length)):l.Uri.joinPath(r,t)}a(M,"joinRelativePath");function W(r,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),U(r,e)&&r.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):U(r,e)&&r.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(W,"isChild");function U(r,e){if(typeof r=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||r.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const t=typeof r=="string"?r:r.path;return e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===r.scheme&&e.authority===r.authority&&(e.path.length===1||r.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(U,"uris_isDescendent");function A(r){return r&&typeof r=="object"&&"scheme"in r}a(A,"isSerializedUri");function L(r){return r.split("/").map(e=>encodeURIComponent(e)).join("/")}a(L,"encodeURIComponentExceptSlashes");var $;(function(r){r.authoritySeparator="+",r.scheme="vscode-vfs",r.baseVirtualWorkspaceUri=l.Uri.parse(`${r.scheme}://`);function e(f){const{authority:g}=f,T=g.indexOf(r.authoritySeparator);return T!==-1?g.substr(0,T):g}a(e,"getProviderId"),r.getProviderId=e;function t(f){return f.scheme!==r.scheme?f:f.with({scheme:e(f)})}a(t,"getProviderUri"),r.getProviderUri=t;function n(f,g){const T=new Map,R=l.workspace.textDocuments;if(R.length===0)return T;for(const H of R)H.uri.scheme===f&&g.some(oe=>U(H.uri,oe))&&T.set(b(H.uri),H.uri);return T}a(n,"getOpenUris"),r.getOpenUris=n;function i(f){return f.scheme===r.scheme?f:f.with({scheme:r.scheme})}a(i,"getVirtualUri"),r.getVirtualUri=i;function o(f,g){const[T,R]=f.authority.split(r.authoritySeparator);let H;if(R)try{const oe=JSON.parse(_(R));H=g?g(oe):oe}catch{}return{scheme:T,metadata:H}}a(o,"decodeAuthority"),r.decodeAuthority=o;function s(f,g){const T=g?`${r.authoritySeparator}${w(JSON.stringify(g))}`:"";return`${f}${T}`}a(s,"encodeAuthority"),r.encodeAuthority=s;function u(f){return f.authority.indexOf(r.authoritySeparator)===-1}a(u,"isCanonicalUri"),r.isCanonicalUri=u;function c(){var f,g;return(g=(f=l.workspace.workspaceFolders)==null?void 0:f.every(T=>T.uri.scheme===r.scheme))!=null?g:!1}a(c,"isVirtualWorkspace"),r.isVirtualWorkspace=c})($||($={}));var te;(function(r){r[r.Admin=100]="Admin",r[r.Maintain=40]="Maintain",r[r.WriteToPullRequest=31]="WriteToPullRequest",r[r.Write=30]="Write",r[r.Triage=20]="Triage",r[r.Read=10]="Read",r[r.None=0]="None"})(te||(te={}));var Z;(function(r){r[r.Branch=0]="Branch",r[r.RemoteBranch=1]="RemoteBranch",r[r.Tag=2]="Tag",r[r.Commit=3]="Commit"})(Z||(Z={}));var re;(function(r){function e(t){return t!==void 0&&t.type===ie.Active}a(e,"isActive"),r.isActive=e})(re||(re={}));var ce;(function(r){function e(t){const n=$.decodeAuthority(t).metadata;if(!(n===void 0||n.idx===void 0)){if(n.idx==="latest")return{type:Se.Latest};if(D(n.idx))return{type:Se.SHA,sha:n.idx}}}a(e,"decode"),r.decode=e})(ce||(ce={}));var Se;(function(r){r[r.Latest=1]="Latest",r[r.SHA=2]="SHA"})(Se||(Se={}));var ie;(function(r){r[r.NotIndexed=0]="NotIndexed",r[r.Indexed=1]="Indexed",r[r.Match=2]="Match",r[r.Active=3]="Active"})(ie||(ie={})),function(r){function e(t){return t!==void 0&&(t===r.Indexed||t===r.Match||t===r.Active)}a(e,"hasIndex"),r.hasIndex=e}(ie||(ie={}));var me;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed",r[r.Merged=2]="Merged"})(me||(me={}));var j;(function(r){r[r.Changed=1]="Changed",r[r.Created=2]="Created",r[r.Deleted=3]="Deleted"})(j||(j={}));var Ve;(function(r){r.CurrentWindow="currentWindow",r.NewWindow="newWindow",r.AddToWorkspace="addToWorkspace"})(Ve||(Ve={}));var _e;(function(r){r[r.Branch=0]="Branch",r[r.Tag=1]="Tag",r[r.Commit=2]="Commit",r[r.PullRequest=3]="PullRequest",r[r.Tree=4]="Tree"})(_e||(_e={}));var he;(function(r){r[r.Abort=0]="Abort",r[r.KeepCurrent=1]="KeepCurrent",r[r.DiscardCurrent=2]="DiscardCurrent",r[r.Merge=3]="Merge"})(he||(he={}));var Q;(function(r){r[r.Repository=0]="Repository",r[r.PullRequest=1]="PullRequest",r[r.Branch=2]="Branch",r[r.Commit=3]="Commit",r[r.File=4]="File",r[r.Tag=5]="Tag"})(Q||(Q={}));var ue;(function(r){r.Branch="branch",r.RemoteBranch="remoteBranch",r.PullRequestBranch="pullRequestBranch",r.PullRequestRemoteBranch="pullRequestRemoteBranch",r.Tag="tag",r.Commit="commit"})(ue||(ue={}));var De;(function(r){r.None="none",r.Latest="latest",r.Match="match",r.TipPlusLatest="tip+latest"})(De||(De={}));var Fe;(function(r){r.Browse="browse",r.Edit="edit"})(Fe||(Fe={}));var ne;(function(r){r.CommitFailedError="CommitFailedError",r.DetachedHEADError="DetachedHEADError",r.CommitToProtectedBranchError="CommitToProtectedBranchError",r.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",r.InvalidBranchNameError="InvalidBranchNameError",r.InvalidCredentialsError="InvalidCredentialsError",r.MergeConflictError="MergeConflictError",r.NothingToCommitError="NothingToCommitError",r.SyncConflictsError="SyncConflictsError",r.SyncOrFetchError="SyncOrFetchError",r.UnresolvedConflictsError="UnresolvedConflictsError",r.InvalidRepositoryError="InvalidRepositoryError",r.Unknown="Unknown"})(ne||(ne={}));class Ge extends Error{constructor(e,t,n){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=n}static CommitFailedError(){return new Ge("Failed to create and push commit",ne.CommitFailedError)}static DetachedHEADError(e){return new Ge(e,ne.DetachedHEADError)}static CommitToProtectedBranchError(e){return new Ge(e,ne.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new Ge(e,ne.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,t=!1){const n=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new Ge(n,ne.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new Ge(e,ne.InvalidCredentialsError,t)}static MergeConflictError(e){return new Ge(e,ne.MergeConflictError)}static NothingToCommitError(e){return new Ge(e,ne.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new Ge(t,ne.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new Ge(e,ne.SyncConflictsError)}static UnresolvedConflictsError(){return new Ge("You have unresolved merge conflicts.",ne.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Ge("The current repository is invalid",ne.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:ne.Unknown}}a(Ge,"VirtualProviderError");const et=6;var st;(function(r){r.Off="off",r.Auto="auto",r.Always="always"})(st||(st={}));var Y;(function(r){r.None="none",r.Latest="latest",r.Match="match",r.TipPlusLatest="tip+latest"})(Y||(Y={})),function(r){function e(t){return t===r.None||t===r.Latest||t===r.Match||t===r.TipPlusLatest?t:r.None}a(e,"sanitize"),r.sanitize=e}(Y||(Y={}));var ee;(function(r){r.Browse="browse",r.Edit="edit"})(ee||(ee={})),function(r){function e(n){return n===r.Browse||n===r.Edit?n:r.Edit}a(e,"sanitize"),r.sanitize=e;function t(n){return n===r.Browse?r.Edit:r.Browse}a(t,"toggle"),r.toggle=t}(ee||(ee={}));var ae;(function(r){function e(t,n){return t.display===n.display&&t.index===n.index}a(e,"equals"),r.equals=e})(ae||(ae={}));var ye;(function(r){const e=new Map([[ue.Branch,Y.None],[ue.RemoteBranch,Y.None],[ue.PullRequestBranch,Y.Match],[ue.PullRequestRemoteBranch,Y.Match],[ue.Commit,Y.Match],[ue.Tag,Y.Match]]),t=new Map([[ue.Branch,ee.Edit],[ue.RemoteBranch,ee.Edit],[ue.PullRequestBranch,ee.Browse],[ue.PullRequestRemoteBranch,ee.Browse],[ue.Commit,ee.Browse],[ue.Tag,ee.Browse]]);function n(o){var s,u;return{display:(s=t.get(o))!=null?s:ee.Edit,index:(u=e.get(o))!=null?u:Y.None}}a(n,"getDefault"),r.getDefault=n;function i(o){switch(o){case ue.Branch:case ue.RemoteBranch:return{display:ee.Browse,index:Y.Latest};case ue.PullRequestBranch:case ue.PullRequestRemoteBranch:return{display:ee.Browse,index:Y.Match};case ue.Commit:case ue.Tag:return{display:ee.Browse,index:Y.Match};default:return{display:ee.Edit,index:Y.None}}}a(i,"getIndexDefault"),r.getIndexDefault=i})(ye||(ye={}));const ke=null;var Ue=__webpack_require__(5179),pe=__webpack_require__.n(Ue);const Ae="modes",Me="indexMemento";class Ze{constructor(){this._onDidChange=new l.EventEmitter,this._onDidChangeAny=new l.EventEmitter,this.memoryState=new Map}static configure(e,t){Oe.configPrefix=e,Oe.state=t.workspaceState,t.subscriptions.push(l.workspace.onDidChangeConfiguration(Oe.onConfigurationChanged,Oe))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(Ae),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(Ae,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(Me),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,n){const i=this.inspect(e,t);return i===void 0&&n!==void 0?n:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,t,n){return n===void 0?l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,n)}getMode(e,t,n){var i;const o=e.toString();let s=this.modes!==void 0?this.modes[o]:void 0;if(s!==void 0)return{display:ee.sanitize(s.display),index:Y.sanitize(s.index)};if(s=this.memoryState.get(o),s!==void 0)return s;if(t===ue.Branch||t===ue.RemoteBranch)switch((i=l.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:ee.Edit,index:Y.None};case"latest":return{display:ee.Browse,index:Y.Latest};case"tipPlusLatest":return{display:ee.Edit,index:Y.TipPlusLatest}}if(!n)return ye.getDefault(t)}setMode(e,t){const n=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(n,t),Promise.resolve()):(this.modes[n]=t,this._state.update(Ae,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(Me,this.indexMemento))}getAny(e,t,n){return n===void 0?l.workspace.getConfiguration(void 0,t).get(e):l.workspace.getConfiguration(void 0,t).get(e,n)}changed(e,t,n){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,n))!=null?i:!0}inspect(e,t){return l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return l.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,n){const i=Oe.inspect(e);if(i===void 0)return!1;let o=!1;return i.globalValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,l.ConfigurationTarget.Global),o=!0),i.workspaceValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,l.ConfigurationTarget.Workspace),o=!0),i.workspaceFolderValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,l.ConfigurationTarget.WorkspaceFolder),o=!0),!o&&n.fallbackValue!==void 0&&(await this.update(t,n.fallbackValue,l.ConfigurationTarget.Global),o=!0),o}async migrateIfMissing(e,t,n){const i=Oe.inspect(e);if(i===void 0)return;const o=Oe.inspect(t);i.globalValue!==void 0&&(o===void 0||o.globalValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,l.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(o===void 0||o.workspaceValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,l.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(o===void 0||o.workspaceFolderValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,l.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,n){return l.workspace.getConfiguration(this.configPrefix).update(e,t,n)}updateAny(e,t,n,i){return l.workspace.getConfiguration(void 0,n===l.ConfigurationTarget.Global?void 0:i).update(e,t,n)}updateEffective(e,t){const n=Oe.inspect(e);return n.workspaceFolderValue!==void 0?t===n.workspaceFolderValue?Promise.resolve(void 0):Oe.update(e,t,l.ConfigurationTarget.WorkspaceFolder):n.workspaceValue!==void 0?t===n.workspaceValue?Promise.resolve(void 0):Oe.update(e,t,l.ConfigurationTarget.Workspace):n.globalValue===t||n.globalValue===void 0&&t===n.defaultValue?Promise.resolve(void 0):Oe.update(e,pe()(t,n.defaultValue)?void 0:t,l.ConfigurationTarget.Global)}}a(Ze,"Configuration");const Oe=new Ze,$e="";var pt;(function(r){r[r.Off=0]="Off",r[r.Error=1]="Error",r[r.Warn=2]="Warn",r[r.Info=3]="Info",r[r.Debug=4]="Debug"})(pt||(pt={}));const ot="[RemoteHub]",Re=a(class{static configure(r,e){this._isDebugging=r.extensionMode===l.ExtensionMode.Development,this.outputChannelName=e}static enabled(r){return this.level>=this.toOrderedLevel(r)}static toOrderedLevel(r){switch(r){case l.LogLevel.Off:return 0;case l.LogLevel.Error:return 1;case l.LogLevel.Warning:return 2;case l.LogLevel.Info:return 3;case l.LogLevel.Debug:case l.LogLevel.Trace:return 4}}static get isDebugging(){return this._isDebugging}static ensureOutputChannel(){var r;this.level=this.toOrderedLevel(l.env.logLevel),this.output=(r=this.output)!=null?r:l.window.createOutputChannel(this.outputChannelName,{log:!0})}static debug(r,...e){var t;this.ensureOutputChannel(),Re.isDebugging&&console.log(ot,r!=null?r:$e,...e),(t=this.output)==null||t.debug(`${r!=null?r:$e}${this.toLoggableParams(!0,e)}`)}static error(r,e,...t){var n;if(this.ensureOutputChannel(),!(this.level<1&&!Re.isDebugging)){if(e===void 0){const i=r instanceof Error?r.stack:void 0;if(i){const o=/.*\s*?at\s(.+?)\s/.exec(i);o!==null&&(e=o[1])}}Re.isDebugging&&console.error(ot,e!=null?e:$e,...t,r),(n=this.output)==null||n.error(`${e!=null?e:$e}${this.toLoggableParams(!1,t)}
${String(r)}`)}}static log(r,...e){var t;this.ensureOutputChannel(),Re.isDebugging&&console.log(ot,r!=null?r:$e,...e),(t=this.output)==null||t.info(`${r!=null?r:$e}${this.toLoggableParams(!1,e)}`)}static warn(r,...e){var t;this.ensureOutputChannel(),Re.isDebugging&&console.warn(ot,r!=null?r:$e,...e),(t=this.output)==null||t.warn(`${r!=null?r:$e}${this.toLoggableParams(!1,e)}`)}static toLoggable(r,e){if(typeof r!="object")return String(r);if(r instanceof l.Uri)return`Uri(${r.toString(!0)})`;try{return JSON.stringify(r,e)}catch{return"<error>"}}static toLoggableName(r){var e,t,n;let i;if(typeof r=="function"){if(r.prototype===void 0||r.prototype.constructor===void 0)return r.name;i=(e=r.prototype.constructor.name)!=null?e:$e}else i=(n=(t=r.constructor)==null?void 0:t.name)!=null?n:$e;const o=i.indexOf("_");return o===-1?i:i.substr(o+1)}static toLoggableParams(r,e){if(e.length===0||r&&this.level<4&&!Re.isDebugging)return $e;const t=e.map(n=>this.toLoggable(n)).join(", ");return t.length!==0?` \u2014 ${t}`:$e}},"_Logger");let O=Re;O.level=0;class be{constructor(e){this.provider=e,this._timeout=0,this._disposable=Oe.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=Oe.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!Oe.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await l.window.withProgress({location:l.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(n){O.error(n)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(be,"AutoFetchService");function Xe(){}a(Xe,"Diff"),Xe.prototype={diff:a(function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var o=this;function s(se){return i?(setTimeout(function(){i(void 0,se)},0),!0):se}a(s,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,c=e.length,f=1,g=u+c,T=[{newPos:-1,components:[]}],R=this.extractCommon(T[0],t,e,0);if(T[0].newPos+1>=u&&R+1>=c)return s([{value:this.join(t),count:t.length}]);function H(){for(var se=-1*f;se<=f;se+=2){var Ee=void 0,Te=T[se-1],Le=T[se+1],rt=(Le?Le.newPos:0)-se;Te&&(T[se-1]=void 0);var He=Te&&Te.newPos+1<u,lt=Le&&0<=rt&&rt<c;if(!He&&!lt){T[se]=void 0;continue}if(!He||lt&&Te.newPos<Le.newPos?(Ee=yr(Le),o.pushComponent(Ee.components,void 0,!0)):(Ee=Te,Ee.newPos++,o.pushComponent(Ee.components,!0,void 0)),rt=o.extractCommon(Ee,t,e,se),Ee.newPos+1>=u&&rt+1>=c)return s(Jt(o,Ee.components,t,e,o.useLongestToken));T[se]=Ee}f++}if(a(H,"execEditLength"),i)a(function se(){setTimeout(function(){if(f>g)return i();H()||se()},0)},"exec")();else for(;f<=g;){var oe=H();if(oe)return oe}},"diff"),pushComponent:a(function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},"pushComponent"),extractCommon:a(function(e,t,n,i){for(var o=t.length,s=n.length,u=e.newPos,c=u-i,f=0;u+1<o&&c+1<s&&this.equals(t[u+1],n[c+1]);)u++,c++,f++;return f&&e.components.push({count:f}),e.newPos=u,c},"extractCommon"),equals:a(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function Jt(r,e,t,n,i){for(var o=0,s=e.length,u=0,c=0;o<s;o++){var f=e[o];if(f.removed){if(f.value=r.join(n.slice(c,c+f.count)),c+=f.count,o&&e[o-1].added){var T=e[o-1];e[o-1]=e[o],e[o]=T}}else{if(!f.added&&i){var g=t.slice(u,u+f.count);g=g.map(function(H,oe){var se=n[c+oe];return se.length>H.length?se:H}),f.value=r.join(g)}else f.value=r.join(t.slice(u,u+f.count));u+=f.count,f.added||(c+=f.count)}}var R=e[s-1];return s>1&&typeof R.value=="string"&&(R.added||R.removed)&&r.equals("",R.value)&&(e[s-2].value+=R.value,e.pop()),e}a(Jt,"buildValues");function yr(r){return{newPos:r.newPos,components:r.components.slice(0)}}a(yr,"clonePath");var br=new Xe;function P(r,e,t){return br.diff(r,e,t)}a(P,"diffChars");function d(r,e){if(typeof r=="function")e.callback=r;else if(r)for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}a(d,"generateOptions");var m=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,J=/\S/,de=new Xe;de.equals=function(r,e){return this.options.ignoreCase&&(r=r.toLowerCase(),e=e.toLowerCase()),r===e||this.options.ignoreWhitespace&&!J.test(r)&&!J.test(e)},de.tokenize=function(r){for(var e=r.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&m.test(e[t])&&m.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function Ne(r,e,t){return t=d(t,{ignoreWhitespace:!0}),de.diff(r,e,t)}a(Ne,"diffWords");function ve(r,e,t){return de.diff(r,e,t)}a(ve,"diffWordsWithSpace");var ht=new Xe;ht.tokenize=function(r){var e=[],t=r.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var n=0;n<t.length;n++){var i=t[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function It(r,e,t){return ht.diff(r,e,t)}a(It,"diffLines");function Pt(r,e,t){var n=d(t,{ignoreWhitespace:!0});return ht.diff(r,e,n)}a(Pt,"diffTrimmedLines");var Ot=new Xe;Ot.tokenize=function(r){return r.split(/(\S.+?[.!?])(?=\s+|$)/)};function Vt(r,e,t){return Ot.diff(r,e,t)}a(Vt,"diffSentences");var Hr=new Xe;Hr.tokenize=function(r){return r.split(/([{}:;,]|\s+)/)};function mn(r,e,t){return Hr.diff(r,e,t)}a(mn,"diffCss");function an(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?an=a(function(e){return typeof e},"_typeof"):an=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),an(r)}a(an,"_typeof");function Vr(r){return On(r)||yn(r)||$n(r)||Dr()}a(Vr,"_toConsumableArray");function On(r){if(Array.isArray(r))return In(r)}a(On,"_arrayWithoutHoles");function yn(r){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r))return Array.from(r)}a(yn,"_iterableToArray");function $n(r,e){if(!!r){if(typeof r=="string")return In(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return In(r,e)}}a($n,"_unsupportedIterableToArray");function In(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}a(In,"_arrayLikeToArray");function Dr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Dr,"_nonIterableSpread");var tn=Object.prototype.toString,on=new Xe;on.useLongestToken=!0,on.tokenize=ht.tokenize,on.castInput=function(r){var e=this.options,t=e.undefinedReplacement,n=e.stringifyReplacer,i=n===void 0?function(o,s){return typeof s=="undefined"?t:s}:n;return typeof r=="string"?r:JSON.stringify(ni(r,null,null,i),i,"  ")},on.equals=function(r,e){return Xe.prototype.equals.call(on,r.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function ri(r,e,t){return on.diff(r,e,t)}a(ri,"diffJson");function ni(r,e,t,n,i){e=e||[],t=t||[],n&&(r=n(i,r));var o;for(o=0;o<e.length;o+=1)if(e[o]===r)return t[o];var s;if(tn.call(r)==="[object Array]"){for(e.push(r),s=new Array(r.length),t.push(s),o=0;o<r.length;o+=1)s[o]=ni(r[o],e,t,n,i);return e.pop(),t.pop(),s}if(r&&r.toJSON&&(r=r.toJSON()),an(r)==="object"&&r!==null){e.push(r),s={},t.push(s);var u=[],c;for(c in r)r.hasOwnProperty(c)&&u.push(c);for(u.sort(),o=0;o<u.length;o+=1)c=u[o],s[c]=ni(r[c],e,t,n,c);e.pop(),t.pop()}else s=r;return s}a(ni,"canonicalize");var ii=new Xe;ii.tokenize=function(r){return r.slice()},ii.join=ii.removeEmpty=function(r){return r};function An(r,e,t){return ii.diff(r,e,t)}a(An,"diffArrays");function z(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.split(/\r\n|[\n\v\f\r\x85]/),n=r.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var f={};for(i.push(f);o<t.length;){var g=t[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(g))break;var T=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(g);T&&(f.index=T[1]),o++}for(u(f),u(f),f.hunks=[];o<t.length;){var R=t[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(R))break;if(/^@@/.test(R))f.hunks.push(c());else{if(R&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(R));o++}}}a(s,"parseIndex");function u(f){var g=/^(---|\+\+\+)\s+(.*)$/.exec(t[o]);if(g){var T=g[1]==="---"?"old":"new",R=g[2].split("	",2),H=R[0].replace(/\\\\/g,"\\");/^".*"$/.test(H)&&(H=H.substr(1,H.length-2)),f[T+"FileName"]=H,f[T+"Header"]=(R[1]||"").trim(),o++}}a(u,"parseFileHeader");function c(){var f=o,g=t[o++],T=g.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),R={oldStart:+T[1],oldLines:typeof T[2]=="undefined"?1:+T[2],newStart:+T[3],newLines:typeof T[4]=="undefined"?1:+T[4],lines:[],linedelimiters:[]};R.oldLines===0&&(R.oldStart+=1),R.newLines===0&&(R.newStart+=1);for(var H=0,oe=0;o<t.length&&!(t[o].indexOf("--- ")===0&&o+2<t.length&&t[o+1].indexOf("+++ ")===0&&t[o+2].indexOf("@@")===0);o++){var se=t[o].length==0&&o!=t.length-1?" ":t[o][0];if(se==="+"||se==="-"||se===" "||se==="\\")R.lines.push(t[o]),R.linedelimiters.push(n[o]||`
`),se==="+"?H++:se==="-"?oe++:se===" "&&(H++,oe++);else break}if(!H&&R.newLines===1&&(R.newLines=0),!oe&&R.oldLines===1&&(R.oldLines=0),e.strict){if(H!==R.newLines)throw new Error("Added line count did not match for hunk at line "+(f+1));if(oe!==R.oldLines)throw new Error("Removed line count did not match for hunk at line "+(f+1))}return R}for(a(c,"parseHunk");o<t.length;)s();return i}a(z,"parsePatch");function we(r,e,t){var n=!0,i=!1,o=!1,s=1;return a(function u(){if(n&&!o){if(i?s++:n=!1,r+s<=t)return s;o=!0}if(!i)return o||(n=!0),e<=r-s?-s++:(i=!0,u())},"iterator")}a(we,"distanceIterator");function Pe(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=z(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var n=r.split(/\r\n|[\n\v\f\r\x85]/),i=r.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=e.hunks,s=t.compareLine||function(nn,zr,en,Dn){return zr===Dn},u=0,c=t.fuzzFactor||0,f=0,g=0,T,R;function H(nn,zr){for(var en=0;en<nn.lines.length;en++){var Dn=nn.lines[en],Kn=Dn.length>0?Dn[0]:" ",_i=Dn.length>0?Dn.substr(1):Dn;if(Kn===" "||Kn==="-"){if(!s(zr+1,n[zr],Kn,_i)&&(u++,u>c))return!1;zr++}}return!0}a(H,"hunkFits");for(var oe=0;oe<o.length;oe++){for(var se=o[oe],Ee=n.length-se.oldLines,Te=0,Le=g+se.oldStart-1,rt=we(Le,f,Ee);Te!==void 0;Te=rt())if(H(se,Le+Te)){se.offset=g+=Te;break}if(Te===void 0)return!1;f=se.offset+se.oldStart+se.oldLines}for(var He=0,lt=0;lt<o.length;lt++){var Ct=o[lt],_t=Ct.oldStart+Ct.offset+He-1;He+=Ct.newLines-Ct.oldLines;for(var Ye=0;Ye<Ct.lines.length;Ye++){var Gt=Ct.lines[Ye],vt=Gt.length>0?Gt[0]:" ",gr=Gt.length>0?Gt.substr(1):Gt,sr=Ct.linedelimiters[Ye];if(vt===" ")_t++;else if(vt==="-")n.splice(_t,1),i.splice(_t,1);else if(vt==="+")n.splice(_t,0,gr),i.splice(_t,0,sr),_t++;else if(vt==="\\"){var Lr=Ct.lines[Ye-1]?Ct.lines[Ye-1][0]:null;Lr==="+"?T=!0:Lr==="-"&&(R=!0)}}}if(T)for(;!n[n.length-1];)n.pop(),i.pop();else R&&(n.push(""),i.push(`
`));for(var mr=0;mr<n.length-1;mr++)n[mr]=n[mr]+i[mr];return n.join("")}a(Pe,"applyPatch");function ze(r,e){typeof r=="string"&&(r=z(r));var t=0;function n(){var i=r[t++];if(!i)return e.complete();e.loadFile(i,function(o,s){if(o)return e.complete(o);var u=Pe(s,i,e);e.patched(i,u,function(c){if(c)return e.complete(c);n()})})}a(n,"processIndex"),n()}a(ze,"applyPatches");function at(r,e,t,n,i,o,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var u=It(t,n,s);u.push({value:"",lines:[]});function c(Te){return Te.map(function(Le){return" "+Le})}a(c,"contextLines");for(var f=[],g=0,T=0,R=[],H=1,oe=1,se=a(function(Le){var rt=u[Le],He=rt.lines||rt.value.replace(/\n$/,"").split(`
`);if(rt.lines=He,rt.added||rt.removed){var lt;if(!g){var Ct=u[Le-1];g=H,T=oe,Ct&&(R=s.context>0?c(Ct.lines.slice(-s.context)):[],g-=R.length,T-=R.length)}(lt=R).push.apply(lt,Vr(He.map(function(mr){return(rt.added?"+":"-")+mr}))),rt.added?oe+=He.length:H+=He.length}else{if(g)if(He.length<=s.context*2&&Le<u.length-2){var _t;(_t=R).push.apply(_t,Vr(c(He)))}else{var Ye,Gt=Math.min(He.length,s.context);(Ye=R).push.apply(Ye,Vr(c(He.slice(0,Gt))));var vt={oldStart:g,oldLines:H-g+Gt,newStart:T,newLines:oe-T+Gt,lines:R};if(Le>=u.length-2&&He.length<=s.context){var gr=/\n$/.test(t),sr=/\n$/.test(n),Lr=He.length==0&&R.length>vt.oldLines;!gr&&Lr&&t.length>0&&R.splice(vt.oldLines,0,"\\ No newline at end of file"),(!gr&&!Lr||!sr)&&R.push("\\ No newline at end of file")}f.push(vt),g=0,T=0,R=[]}H+=He.length,oe+=He.length}},"_loop"),Ee=0;Ee<u.length;Ee++)se(Ee);return{oldFileName:r,newFileName:e,oldHeader:i,newHeader:o,hunks:f}}a(at,"structuredPatch");function nt(r){var e=[];r.oldFileName==r.newFileName&&e.push("Index: "+r.oldFileName),e.push("==================================================================="),e.push("--- "+r.oldFileName+(typeof r.oldHeader=="undefined"?"":"	"+r.oldHeader)),e.push("+++ "+r.newFileName+(typeof r.newHeader=="undefined"?"":"	"+r.newHeader));for(var t=0;t<r.hunks.length;t++){var n=r.hunks[t];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),e.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),e.push.apply(e,n.lines)}return e.join(`
`)+`
`}a(nt,"formatPatch");function mt(r,e,t,n,i,o,s){return nt(at(r,e,t,n,i,o,s))}a(mt,"createTwoFilesPatch");function Rt(r,e,t,n,i,o){return mt(r,r,e,t,n,i,o)}a(Rt,"createPatch");function Ut(r,e){return r.length!==e.length?!1:rr(r,e)}a(Ut,"arrayEqual");function rr(r,e){if(e.length>r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}a(rr,"arrayStartsWith");function Tt(r){var e=Er(r.lines),t=e.oldLines,n=e.newLines;t!==void 0?r.oldLines=t:delete r.oldLines,n!==void 0?r.newLines=n:delete r.newLines}a(Tt,"calcLineCount");function qt(r,e,t){r=Kt(r,t),e=Kt(e,t);var n={};(r.index||e.index)&&(n.index=r.index||e.index),(r.newFileName||e.newFileName)&&(Yt(r)?Yt(e)?(n.oldFileName=Mt(n,r.oldFileName,e.oldFileName),n.newFileName=Mt(n,r.newFileName,e.newFileName),n.oldHeader=Mt(n,r.oldHeader,e.oldHeader),n.newHeader=Mt(n,r.newHeader,e.newHeader)):(n.oldFileName=r.oldFileName,n.newFileName=r.newFileName,n.oldHeader=r.oldHeader,n.newHeader=r.newHeader):(n.oldFileName=e.oldFileName||r.oldFileName,n.newFileName=e.newFileName||r.newFileName,n.oldHeader=e.oldHeader||r.oldHeader,n.newHeader=e.newHeader||r.newHeader)),n.hunks=[];for(var i=0,o=0,s=0,u=0;i<r.hunks.length||o<e.hunks.length;){var c=r.hunks[i]||{oldStart:1/0},f=e.hunks[o]||{oldStart:1/0};if(Mr(c,f))n.hunks.push(xr(c,s)),i++,u+=c.newLines-c.oldLines;else if(Mr(f,c))n.hunks.push(xr(f,u)),o++,s+=f.newLines-f.oldLines;else{var g={oldStart:Math.min(c.oldStart,f.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,f.oldStart+u),newLines:0,lines:[]};En(g,c.oldStart,c.lines,f.oldStart,f.lines),o++,i++,n.hunks.push(g)}}return n}a(qt,"merge");function Kt(r,e){if(typeof r=="string"){if(/^@@/m.test(r)||/^Index:/m.test(r))return z(r)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return at(void 0,void 0,e,r)}return r}a(Kt,"loadPatch");function Yt(r){return r.newFileName&&r.newFileName!==r.oldFileName}a(Yt,"fileNameChanged");function Mt(r,e,t){return e===t?e:(r.conflict=!0,{mine:e,theirs:t})}a(Mt,"selectField");function Mr(r,e){return r.oldStart<e.oldStart&&r.oldStart+r.oldLines<e.oldStart}a(Mr,"hunkBefore");function xr(r,e){return{oldStart:r.oldStart,oldLines:r.oldLines,newStart:r.newStart+e,newLines:r.newLines,lines:r.lines}}a(xr,"cloneHunk");function En(r,e,t,n,i){var o={offset:e,lines:t,index:0},s={offset:n,lines:i,index:0};for(Gn(r,o,s),Gn(r,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var u=o.lines[o.index],c=s.lines[s.index];if((u[0]==="-"||u[0]==="+")&&(c[0]==="-"||c[0]==="+"))sn(r,o,s);else if(u[0]==="+"&&c[0]===" "){var f;(f=r.lines).push.apply(f,Vr(Wn(o)))}else if(c[0]==="+"&&u[0]===" "){var g;(g=r.lines).push.apply(g,Vr(Wn(s)))}else u[0]==="-"&&c[0]===" "?hn(r,o,s):c[0]==="-"&&u[0]===" "?hn(r,s,o,!0):u===c?(r.lines.push(u),o.index++,s.index++):Hn(r,Wn(o),Wn(s))}Kr(r,o),Kr(r,s),Tt(r)}a(En,"mergeLines");function sn(r,e,t){var n=Wn(e),i=Wn(t);if(Qr(n)&&Qr(i)){if(rr(n,i)&&Ar(t,n,n.length-i.length)){var o;(o=r.lines).push.apply(o,Vr(n));return}else if(rr(i,n)&&Ar(e,i,i.length-n.length)){var s;(s=r.lines).push.apply(s,Vr(i));return}}else if(Ut(n,i)){var u;(u=r.lines).push.apply(u,Vr(n));return}Hn(r,n,i)}a(sn,"mutualChange");function hn(r,e,t,n){var i=Wn(e),o=er(t,i);if(o.merged){var s;(s=r.lines).push.apply(s,Vr(o.merged))}else Hn(r,n?o:i,n?i:o)}a(hn,"removal");function Hn(r,e,t){r.conflict=!0,r.lines.push({conflict:!0,mine:e,theirs:t})}a(Hn,"conflict");function Gn(r,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var n=e.lines[e.index++];r.lines.push(n),e.offset++}}a(Gn,"insertLeading");function Kr(r,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];r.lines.push(t)}}a(Kr,"insertTrailing");function Wn(r){for(var e=[],t=r.lines[r.index][0];r.index<r.lines.length;){var n=r.lines[r.index];if(t==="-"&&n[0]==="+"&&(t="+"),t===n[0])e.push(n),r.index++;else break}return e}a(Wn,"collectChange");function er(r,e){for(var t=[],n=[],i=0,o=!1,s=!1;i<e.length&&r.index<r.lines.length;){var u=r.lines[r.index],c=e[i];if(c[0]==="+")break;if(o=o||u[0]!==" ",n.push(c),i++,u[0]==="+")for(s=!0;u[0]==="+";)t.push(u),u=r.lines[++r.index];c.substr(1)===u.substr(1)?(t.push(u),r.index++):s=!0}if((e[i]||"")[0]==="+"&&o&&(s=!0),s)return t;for(;i<e.length;)n.push(e[i++]);return{merged:n,changes:t}}a(er,"collectContext");function Qr(r){return r.reduce(function(e,t){return e&&t[0]==="-"},!0)}a(Qr,"allRemoves");function Ar(r,e,t){for(var n=0;n<t;n++){var i=e[e.length-t+n].substr(1);if(r.lines[r.index+n]!==" "+i)return!1}return r.index+=t,!0}a(Ar,"skipRemoveSuperset");function Er(r){var e=0,t=0;return r.forEach(function(n){if(typeof n!="string"){var i=Er(n.mine),o=Er(n.theirs);e!==void 0&&(i.oldLines===o.oldLines?e+=i.oldLines:e=void 0),t!==void 0&&(i.newLines===o.newLines?t+=i.newLines:t=void 0)}else t!==void 0&&(n[0]==="+"||n[0]===" ")&&t++,e!==void 0&&(n[0]==="-"||n[0]===" ")&&e++}),{oldLines:e,newLines:t}}a(Er,"calcOldNewLineCount");function jr(r){for(var e=[],t,n,i=0;i<r.length;i++)t=r[i],t.added?n=1:t.removed?n=-1:n=0,e.push([n,t.value]);return e}a(jr,"convertChangesToDMP");function un(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];n.added?e.push("<ins>"):n.removed&&e.push("<del>"),e.push(Fn(n.value)),n.added?e.push("</ins>"):n.removed&&e.push("</del>")}return e.join("")}a(un,"convertChangesToXML");function Fn(r){var e=r;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(Fn,"escapeHTML");var Yn=/[^a-zA-Z0-9]/,Ai=/\s/,Ri=/[\r\n]/,Zi=/\n\r?\n$/,da=/^\r?\n\r?\n/,gt;(function(r){r[r.DIFF_DELETE=-1]="DIFF_DELETE",r[r.DIFF_INSERT=1]="DIFF_INSERT",r[r.DIFF_EQUAL=0]="DIFF_EQUAL"})(gt||(gt={}));function wi(r,e){return r<e?r:e}a(wi,"min");function Xi(r,e){return r>e?r:e}a(Xi,"max");var Sn=fe,Ei=function(){function r(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(r,"PatchObject"),r.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+t+` @@
`],i,o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case gt.DIFF_INSERT:i="+";break;case gt.DIFF_DELETE:i="-";break;case gt.DIFF_EQUAL:i=" ";break}n[o+1]=i+encodeURI(this.diffs[o][1])+`
`}return n.join("").replace(/%20/g," ")},r}(),ui=function(){function r(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(r,"DiffMatchPatch"),r.prototype.diff_main=function(e,t,n,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var o=i;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[gt.DIFF_EQUAL,e]]:[];typeof n=="undefined"&&(n=!0);var s=n,u=this.diff_commonPrefix(e,t),c=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var f=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var g=this.diff_compute_(e,t,s,o);return c&&g.unshift([gt.DIFF_EQUAL,c]),f&&g.push([gt.DIFF_EQUAL,f]),this.diff_cleanupMerge(g),g},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Sn.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)===t.substring(s,o)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var n=0,i=Sn.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)===t.substring(t.length-o,t.length-s)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,o=null,s=0,u=0,c=0,f=0,g=0;s<e.length;)e[s][0]===gt.DIFF_EQUAL?(n[i++]=s,u=f,c=g,f=0,g=0,o=e[s][1]):(e[s][0]===gt.DIFF_INSERT?f+=e[s][1].length:g+=e[s][1].length,o&&o.length<=Sn.max(u,c)&&o.length<=Sn.max(f,g)&&(e.splice(n[i-1],0,[gt.DIFF_DELETE,o]),e[n[i-1]+1][0]=gt.DIFF_INSERT,i--,i--,s=i>0?n[i-1]:-1,u=0,c=0,f=0,g=0,o=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]===gt.DIFF_DELETE&&e[s][0]===gt.DIFF_INSERT){var T=e[s-1][1],R=e[s][1],H=this.diff_commonOverlap_(T,R),oe=this.diff_commonOverlap_(R,T);H>=oe?(H>=T.length/2||H>=R.length/2)&&(e.splice(s,0,[gt.DIFF_EQUAL,R.substring(0,H)]),e[s-1][1]=T.substring(0,T.length-H),e[s+1][1]=R.substring(H),s++):(oe>=T.length/2||oe>=R.length/2)&&(e.splice(s,0,[gt.DIFF_EQUAL,T.substring(0,oe)]),e[s-1][0]=gt.DIFF_INSERT,e[s-1][1]=R.substring(0,R.length-oe),e[s+1][0]=gt.DIFF_DELETE,e[s+1][1]=T.substring(oe),s++),s++}s++}},r.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===gt.DIFF_EQUAL&&e[t+1][0]===gt.DIFF_EQUAL){var n=e[t-1][1],i=e[t][1],o=e[t+1][1],s=this.diff_commonSuffix(n,i);if(s){var u=i.substring(i.length-s);n=n.substring(0,n.length-s),i=u+i.substring(0,i.length-s),o=u+o}for(var c=n,f=i,g=o,T=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var R=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);R>=T&&(T=R,c=n,f=i,g=o)}e[t-1][1]!==c&&(c?e[t-1][1]=c:(e.splice(t-1,1),t--),e[t][1]=f,g?e[t+1][1]=g:(e.splice(t+1,1),t--))}t++}},r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,o=null,s=0,u=!1,c=!1,f=!1,g=!1;s<e.length;)e[s][0]===gt.DIFF_EQUAL?(e[s][1].length<this.diffEditCost&&(f||g)?(n[i++]=s,u=f,c=g,o=e[s][1]):(i=0,o=null),f=g=!1):(e[s][0]===gt.DIFF_DELETE?g=!0:f=!0,o&&(u&&c&&f&&g||o.length<this.diffEditCost/2&&Number(u)+Number(c)+Number(f)+Number(g)===3)&&(e.splice(n[i-1],0,[gt.DIFF_DELETE,o]),e[n[i-1]+1][0]=gt.DIFF_INSERT,i--,o=null,u&&c?(f=g=!0,i=0):(i--,s=i>0?n[i-1]:-1,f=g=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([gt.DIFF_EQUAL,""]);for(var t=0,n=0,i=0,o="",s="",u;t<e.length;)switch(e[t][0]){case gt.DIFF_INSERT:i++,s+=e[t][1],t++;break;case gt.DIFF_DELETE:n++,o+=e[t][1],t++;break;case gt.DIFF_EQUAL:n+i>1?(n!==0&&i!==0&&(u=this.diff_commonPrefix(s,o),u!==0&&(t-n-i>0&&e[t-n-i-1][0]===gt.DIFF_EQUAL?e[t-n-i-1][1]+=s.substring(0,u):(e.splice(0,0,[gt.DIFF_EQUAL,s.substring(0,u)]),t++),s=s.substring(u),o=o.substring(u)),u=this.diff_commonSuffix(s,o),u!==0&&(e[t][1]=s.substring(s.length-u)+e[t][1],s=s.substring(0,s.length-u),o=o.substring(0,o.length-u))),t-=n+i,e.splice(t,n+i),o.length&&(e.splice(t,0,[gt.DIFF_DELETE,o]),t++),s.length&&(e.splice(t,0,[gt.DIFF_INSERT,s]),t++),t++):t!==0&&e[t-1][0]===gt.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,n=0,o="",s="";break}e[e.length-1][1]===""&&e.pop();var c=!1;for(t=1;t<e.length-1;)e[t-1][0]===gt.DIFF_EQUAL&&e[t+1][0]===gt.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),c=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),c=!0)),t++;c&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n=0,i=0,o=0,s=0,u;for(u=0;u<e.length&&(e[u][0]!==gt.DIFF_INSERT&&(n+=e[u][1].length),e[u][0]!==gt.DIFF_DELETE&&(i+=e[u][1].length),!(n>t));u++)o=n,s=i;return e.length!==u&&e[u][0]===gt.DIFF_DELETE?s:s+(t-o)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,u=0;u<e.length;u++){var c=e[u][0],f=e[u][1],g=f.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(c){case gt.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case gt.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+g+"</del>";break;case gt.DIFF_EQUAL:t[u]="<span>"+g+"</span>";break}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==gt.DIFF_INSERT&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==gt.DIFF_DELETE&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],u=e[o][1];switch(s){case gt.DIFF_INSERT:n+=u.length;break;case gt.DIFF_DELETE:i+=u.length;break;case gt.DIFF_EQUAL:t+=Sn.max(n,i),n=0,i=0;break}}return t+=Sn.max(n,i),t},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case gt.DIFF_INSERT:t[n]="+"+encodeURI(e[n][1]);break;case gt.DIFF_DELETE:t[n]="-"+e[n][1].length;break;case gt.DIFF_EQUAL:t[n]="="+e[n][1].length;break}return t.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,o=0,s=t.split(/\t/g),u=0;u<s.length;u++){var c=s[u].substring(1);switch(s[u].charAt(0)){case"+":try{n[i++]=[gt.DIFF_INSERT,decodeURI(c)]}catch(T){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var f=parseInt(c,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+c);var g=e.substring(o,o+=f);s[u].charAt(0)==="="?n[i++]=[gt.DIFF_EQUAL,g]:n[i++]=[gt.DIFF_DELETE,g];break;default:if(s[u])throw new Error("Invalid diff operation in diff_fromDelta: "+s[u])}}if(o!==e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+")");return n},r.prototype.diff_linesToChars=function(e,t){var n=[],i={};n[0]="";var o=this.diff_linesToCharsMunge_(e,n,i,4e4),s=this.diff_linesToCharsMunge_(t,n,i,65535);return{chars1:o,chars2:s,lineArray:n}},r.prototype.diff_charsToLines=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],o=[],s=0;s<i.length;s++)o[s]=t[i.charCodeAt(s)];e[n][1]=o.join("")}},r.prototype.match_main=function(e,t,n){if(e==null||t==null||n==null)throw new Error("Null input. (match_main)");return n=Sn.max(0,Sn.min(n,e.length)),e===t?0:e.length?e.substring(n,n+t.length)===t?n:this.match_bitap_(e,t,n):-1},r.prototype.patch_make=function(e,t,n){var i,o;if(typeof e=="string"&&typeof t=="string"&&typeof n=="undefined")i=e,o=this.diff_main(i,t,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof n=="undefined")o=e,i=this.diff_text1(o);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof n=="undefined")i=e,o=t;else if(typeof e=="string"&&typeof t=="string"&&n&&typeof n=="object")i=e,o=n;else throw new Error("Unknown call format to patch_make");if(o.length===0)return[];for(var s=[],u=new Ei,c=0,f=0,g=0,T=i,R=i,H=0;H<o.length;H++){var oe=o[H][0],se=o[H][1];switch(!c&&oe!==gt.DIFF_EQUAL&&(u.start1=f,u.start2=g),oe){case gt.DIFF_INSERT:u.diffs[c++]=o[H],u.length2+=se.length,R=R.substring(0,g)+se+R.substring(g);break;case gt.DIFF_DELETE:u.length1+=se.length,u.diffs[c++]=o[H],R=R.substring(0,g)+R.substring(g+se.length);break;case gt.DIFF_EQUAL:se.length<=2*this.patchMargin&&c&&o.length!==H+1?(u.diffs[c++]=o[H],u.length1+=se.length,u.length2+=se.length):se.length>=2*this.patchMargin&&c&&(this.patch_addContext_(u,T),s.push(u),u=new Ei,c=0,T=R,f=g);break}oe!==gt.DIFF_INSERT&&(f+=se.length),oe!==gt.DIFF_DELETE&&(g+=se.length)}return c&&(this.patch_addContext_(u,T),s.push(u)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){for(var i=e[n],o=new Ei,s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var u=e[s].start2+i,c=this.diff_text1(e[s].diffs),f=void 0,g=-1;if(c.length>this.matchMaxBits?(f=this.match_main(t,c.substring(0,this.matchMaxBits),u),f!==-1&&(g=this.match_main(t,c.substring(c.length-this.matchMaxBits),u+c.length-this.matchMaxBits),(g===-1||f>=g)&&(f=-1))):f=this.match_main(t,c,u),f===-1)o[s]=!1,i-=e[s].length2-e[s].length1;else{o[s]=!0,i=f-u;var T=void 0;if(g===-1?T=t.substring(f,f+c.length):T=t.substring(f,g+this.matchMaxBits),c===T)t=t.substring(0,f)+this.diff_text2(e[s].diffs)+t.substring(f+c.length);else{var R=this.diff_main(c,T,!1);if(c.length>this.matchMaxBits&&this.diff_levenshtein(R)/c.length>this.patchDeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(R);for(var H=0,oe=0,se=0;se<e[s].diffs.length;se++){var Ee=e[s].diffs[se];Ee[0]!==gt.DIFF_EQUAL&&(oe=this.diff_xIndex(R,H)),Ee[0]===gt.DIFF_INSERT?t=t.substring(0,f+oe)+Ee[1]+t.substring(f+oe):Ee[0]===gt.DIFF_DELETE&&(t=t.substring(0,f+oe)+t.substring(f+this.diff_xIndex(R,H+Ee[1].length))),Ee[0]!==gt.DIFF_DELETE&&(H+=Ee[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,o]},r.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],s=o.diffs;if(s.length===0||s[0][0]!==gt.DIFF_EQUAL)s.unshift([gt.DIFF_EQUAL,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>s[0][1].length){var u=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=u,o.start2-=u,o.length1+=u,o.length2+=u}if(o=e[e.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==gt.DIFF_EQUAL)s.push([gt.DIFF_EQUAL,n]),o.length1+=t,o.length2+=t;else if(t>s[s.length-1][1].length){var u=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,u),o.length1+=u,o.length2+=u}return n},r.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,u="";i.diffs.length!==0;){var c=new Ei,f=!0;for(c.start1=o-u.length,c.start2=s-u.length,u!==""&&(c.length1=c.length2=u.length,c.diffs.push([gt.DIFF_EQUAL,u]));i.diffs.length!==0&&c.length1<t-this.patchMargin;){var g=i.diffs[0][0],T=i.diffs[0][1];g===gt.DIFF_INSERT?(c.length2+=T.length,s+=T.length,c.diffs.push(i.diffs.shift()),f=!1):g===gt.DIFF_DELETE&&c.diffs.length===1&&c.diffs[0][0]===gt.DIFF_EQUAL&&T.length>2*t?(c.length1+=T.length,o+=T.length,f=!1,c.diffs.push([g,T]),i.diffs.shift()):(T=T.substring(0,t-c.length1-this.patchMargin),c.length1+=T.length,o+=T.length,g===gt.DIFF_EQUAL?(c.length2+=T.length,s+=T.length):f=!1,c.diffs.push([g,T]),T===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(T.length))}u=this.diff_text2(c.diffs),u=u.substring(u.length-this.patchMargin);var R=this.diff_text1(i.diffs).substring(0,this.patchMargin);R!==""&&(c.length1+=R.length,c.length2+=R.length,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===gt.DIFF_EQUAL?c.diffs[c.diffs.length-1][1]+=R:c.diffs.push([gt.DIFF_EQUAL,R])),f||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split(`
`),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var u=new Ei;t.push(u),u.start1=parseInt(s[1],10),s[2]===""?(u.start1--,u.length1=1):s[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(s[2],10)),u.start2=parseInt(s[3],10),s[4]===""?(u.start2--,u.length2=1):s[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(s[4],10)),i++;for(var c=void 0,f=void 0,g=void 0;i<n.length;){c=n[i].charAt(0),g=n[i].substring(1);try{f=decodeURI(g)}catch(T){throw new Error("Illegal escape in patch_fromText: "+g)}if(c==="-")u.diffs.push([gt.DIFF_DELETE,f]);else if(c==="+")u.diffs.push([gt.DIFF_INSERT,f]);else if(c===" ")u.diffs.push([gt.DIFF_EQUAL,f]);else{if(c==="@")break;if(c!=="")throw new Error('Invalid patch mode "'+c+'" in: '+f)}i++}}return t},r.prototype.diff_compute_=function(e,t,n,i){var o;if(!e)return[[gt.DIFF_INSERT,t]];if(!t)return[[gt.DIFF_DELETE,e]];var s=e.length>t.length?e:t,u=e.length>t.length?t:e,c=s.indexOf(u);if(c!==-1)return o=[[gt.DIFF_INSERT,s.substring(0,c)],[gt.DIFF_EQUAL,u],[gt.DIFF_INSERT,s.substring(c+u.length)]],e.length>t.length&&(o[0][0]=gt.DIFF_DELETE,o[2][0]=gt.DIFF_DELETE),o;if(u.length===1)return[[gt.DIFF_DELETE,e],[gt.DIFF_INSERT,t]];var f=this.diff_halfMatch_(e,t);if(f){var g=f[0],T=f[1],R=f[2],H=f[3],oe=f[4],se=this.diff_main(g,R,n,i),Ee=this.diff_main(T,H,n,i);return se.concat([[gt.DIFF_EQUAL,oe]],Ee)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},r.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars(e,t);e=i.chars1,t=i.chars2;var o=i.lineArray,s=this.diff_main(e,t,!1,n);this.diff_charsToLines(s,o),this.diff_cleanupSemantic(s),s.push([gt.DIFF_EQUAL,""]);for(var u=0,c=0,f=0,g="",T="";u<s.length;){switch(s[u][0]){case gt.DIFF_INSERT:f++,T+=s[u][1];break;case gt.DIFF_DELETE:c++,g+=s[u][1];break;case gt.DIFF_EQUAL:if(c>=1&&f>=1){s.splice(u-c-f,c+f),u=u-c-f;for(var R=this.diff_main(g,T,!1,n),H=R.length-1;H>=0;H--)s.splice(u,0,R[H]);u=u+R.length}f=0,c=0,g="",T="";break}u++}return s.pop(),s},r.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,o=t.length,s=Math.ceil((i+o)/2),u=s,c=2*s,f=new Array(c),g=new Array(c),T=0;T<c;T++)f[T]=-1,g[T]=-1;f[u+1]=0,g[u+1]=0;for(var R=i-o,H=R%2!=0,oe=0,se=0,Ee=0,Te=0,Le=0;Le<s&&!(Date.now()>n);Le++){for(var rt=-Le+oe;rt<=Le-se;rt+=2){var He=u+rt,lt=void 0;rt===-Le||rt!==Le&&f[He-1]<f[He+1]?lt=f[He+1]:lt=f[He-1]+1;for(var Ct=lt-rt;lt<i&&Ct<o&&e.charAt(lt)===t.charAt(Ct);)lt++,Ct++;if(f[He]=lt,lt>i)se+=2;else if(Ct>o)oe+=2;else if(H){var _t=u+R-rt;if(_t>=0&&_t<c&&g[_t]!==-1){var Ye=i-g[_t];if(lt>=Ye)return this.diff_bisectSplit_(e,t,lt,Ct,n)}}}for(var Gt=-Le+Ee;Gt<=Le-Te;Gt+=2){var _t=u+Gt,Ye=void 0;Gt===-Le||Gt!==Le&&g[_t-1]<g[_t+1]?Ye=g[_t+1]:Ye=g[_t-1]+1;for(var vt=Ye-Gt;Ye<i&&vt<o&&e.charAt(i-Ye-1)===t.charAt(o-vt-1);)Ye++,vt++;if(g[_t]=Ye,Ye>i)Te+=2;else if(vt>o)Ee+=2;else if(!H){var He=u+R-Gt;if(He>=0&&He<c&&f[He]!==-1){var lt=f[He],Ct=u+lt-He;if(Ye=i-Ye,lt>=Ye)return this.diff_bisectSplit_(e,t,lt,Ct,n)}}}}return[[gt.DIFF_DELETE,e],[gt.DIFF_INSERT,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,i,o){var s=e.substring(0,n),u=t.substring(0,i),c=e.substring(n),f=t.substring(i),g=this.diff_main(s,u,!1,o),T=this.diff_main(c,f,!1,o);return g.concat(T)},r.prototype.diff_linesToCharsMunge_=function(e,t,n,i){for(var o="",s=0,u=-1,c=t.length;u<e.length-1;){u=e.indexOf(`
`,s),u===-1&&(u=e.length-1);var f=e.substring(s,u+1);(n.hasOwnProperty?n.hasOwnProperty(f):n[f]!==void 0)?o+=String.fromCharCode(n[f]):(c===i&&(f=e.substring(s),u=e.length),o+=String.fromCharCode(c),n[f]=c,t[c++]=f),s=u+1}return o},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(n===0||i===0)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var o=Sn.min(n,i);if(e===t)return o;for(var s=0,u=1;;){var c=e.substring(o-u),f=t.indexOf(c);if(f===-1)return s;u+=f,(f===0||e.substring(o-u)===t.substring(0,u))&&(s=u,u++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||i.length*2<n.length)return null;var o=this.diff_halfMatchI_(n,i,Math.ceil(n.length/4)),s=this.diff_halfMatchI_(n,i,Math.ceil(n.length/2)),u;if(!o&&!s)return null;s?o?u=o[4].length>s[4].length?o:s:u=s:u=o;var c,f,g,T,R=u[4];return e.length>t.length?(c=u[0],f=u[1],g=u[2],T=u[3]):(g=u[0],T=u[1],c=u[2],f=u[3]),[c,f,g,T,R]},r.prototype.diff_halfMatchI_=function(e,t,n){for(var i=e.substring(n,n+Math.floor(e.length/4)),o="",s,u,c,f,g=t.indexOf(i,0);g!==-1;){var T=this.diff_commonPrefix(e.substring(n),t.substring(g)),R=this.diff_commonSuffix(e.substring(0,n),t.substring(0,g));o.length<R+T&&(o=t.substring(g-R,g)+t.substring(g,g+T),s=e.substring(0,n-R),u=e.substring(n+T),c=t.substring(0,g-R),f=t.substring(g+T)),g=t.indexOf(i,g+1)}return o.length*2>=e.length?[s,u,c,f,o]:null},r.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(Yn),s=i.match(Yn),u=o&&n.match(Ai),c=s&&i.match(Ai),f=u&&n.match(Ri),g=c&&i.match(Ri),T=f&&e.match(Zi),R=g&&t.match(da);return T||R?5:f||g?4:o&&!u&&c?3:u||c?2:o||s?1:0},r.prototype.match_bitap_=function(e,t,n){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),o=this.matchThreshold,s=e.indexOf(t,n);s!==-1&&(o=Sn.min(this.match_bitapScore_(0,s,t,n),o),s=e.lastIndexOf(t,n+t.length),s!==-1&&(o=Sn.min(this.match_bitapScore_(0,s,t,n),o)));var u=1<<t.length-1;s=-1;for(var c,f,g=t.length+e.length,T,R=0;R<t.length;R++){for(c=0,f=g;c<f;)this.match_bitapScore_(R,n+f,t,n)<=o?c=f:g=f,f=Math.floor((g-c)/2+c);g=f;var H=Sn.max(1,n-f+1),oe=Sn.min(n+f,e.length)+t.length,se=Array(oe+2);se[oe+1]=(1<<R)-1;for(var Ee=oe;Ee>=H;Ee--){var Te=i[e.charAt(Ee-1)];if(R===0?se[Ee]=(se[Ee+1]<<1|1)&Te:se[Ee]=(se[Ee+1]<<1|1)&Te|((T[Ee+1]|T[Ee])<<1|1)|T[Ee+1],se[Ee]&u){var Le=this.match_bitapScore_(R,Ee-1,t,n);if(Le<=o)if(o=Le,s=Ee-1,s>n)H=Sn.max(1,2*n-s);else break}}if(this.match_bitapScore_(R+1,n,t,n)>o)break;T=se}return s},r.prototype.match_bitapScore_=function(e,t,n,i){var o=e/n.length,s=Math.abs(i-t);return this.matchDistance?o+s/this.matchDistance:s?1:o},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!==t.lastIndexOf(n)&&n.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var o=t.substring(e.start2-i,e.start2);o&&e.diffs.unshift([gt.DIFF_EQUAL,o]);var s=t.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push([gt.DIFF_EQUAL,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},r}();function qn(r,e){let t={};for(let o=0;o<e.length;o++){const s=e[o];t[s]?t[s].push(o):t[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<r.length;o++){const s=r[o],u=t[s]||[];let c=0,f=i[0];for(let g=0;g<u.length;g++){const T=u[g];let R;for(R=c;R<i.length&&!(i[R].buffer2index<T&&(R===i.length-1||i[R+1].buffer2index>T));R++);if(R<i.length){const H={buffer1index:o,buffer2index:T,chain:i[R]};if(c===i.length?i.push(f):i[c]=f,c=R+1,f=H,c===i.length)break}}i[c]=f}return i[i.length-1]}a(qn,"LCS");function li(r,e){const t=qn(r,e);let n=[],i=r.length,o=e.length,s={common:[]};function u(){s.common.length&&(s.common.reverse(),n.push(s),s={common:[]})}a(u,"processCommon");for(let c=t;c!==null;c=c.chain){let f={buffer1:[],buffer2:[]};for(;--i>c.buffer1index;)f.buffer1.push(r[i]);for(;--o>c.buffer2index;)f.buffer2.push(e[o]);(f.buffer1.length||f.buffer2.length)&&(u(),f.buffer1.reverse(),f.buffer2.reverse(),n.push(f)),i>=0&&s.common.push(r[i])}return u(),n.reverse(),n}a(li,"diffComm");function Ki(r,e){const t=qn(r,e);let n=[],i=r.length,o=e.length;for(let s=t;s!==null;s=s.chain){const u=i-s.buffer1index-1,c=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(u||c)&&n.push({buffer1:[i+1,u],buffer1Content:r.slice(i+1,i+1+u),buffer2:[o+1,c],buffer2Content:e.slice(o+1,o+1+c)})}return n.reverse(),n}a(Ki,"diffIndices");function Mi(r,e){const t=qn(r,e);let n=[],i=r.length,o=e.length;function s(u,c,f){let g=[];for(let T=0;T<f;T++)g.push(u[c+T]);return{offset:c,length:f,chunk:g}}a(s,"chunkDescription");for(let u=t;u!==null;u=u.chain){const c=i-u.buffer1index-1,f=o-u.buffer2index-1;i=u.buffer1index,o=u.buffer2index,(c||f)&&n.push({buffer1:s(r,u.buffer1index+1,c),buffer2:s(e,u.buffer2index+1,f)})}return n.reverse(),n}a(Mi,"diffPatch");function ci(r,e,t){let n=[];function i(c,f){n.push({ab:f,oStart:c.buffer1[0],oLength:c.buffer1[1],abStart:c.buffer2[0],abLength:c.buffer2[1]})}a(i,"addHunk"),Ki(e,r).forEach(c=>i(c,"a")),Ki(e,t).forEach(c=>i(c,"b")),n.sort((c,f)=>c.oStart-f.oStart);let o=[],s=0;function u(c){c>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:c-s,bufferContent:e.slice(s,c)}),s=c)}for(a(u,"advanceTo");n.length;){let c=n.shift(),f=c.oStart,g=c.oStart+c.oLength,T=[c];for(u(f);n.length;){const R=n[0],H=R.oStart;if(H>g)break;g=Math.max(g,H+R.oLength),T.push(n.shift())}if(T.length===1){if(c.abLength>0){const R=c.ab==="a"?r:t;o.push({stable:!0,buffer:c.ab,bufferStart:c.abStart,bufferLength:c.abLength,bufferContent:R.slice(c.abStart,c.abStart+c.abLength)})}}else{let R={a:[r.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;T.length;){c=T.shift();const Le=c.oStart,rt=Le+c.oLength,He=c.abStart,lt=He+c.abLength;let Ct=R[c.ab];Ct[0]=Math.min(He,Ct[0]),Ct[1]=Math.max(lt,Ct[1]),Ct[2]=Math.min(Le,Ct[2]),Ct[3]=Math.max(rt,Ct[3])}const H=R.a[0]+(f-R.a[2]),oe=R.a[1]+(g-R.a[3]),se=R.b[0]+(f-R.b[2]),Ee=R.b[1]+(g-R.b[3]);let Te={stable:!1,aStart:H,aLength:oe-H,aContent:r.slice(H,oe),oStart:f,oLength:g-f,oContent:e.slice(f,g),bStart:se,bLength:Ee-se,bContent:t.slice(se,Ee)};o.push(Te)}s=g}return u(e.length),o}a(ci,"diff3MergeRegions");function Gi(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=typeof r=="string",s=typeof e=="string",u=typeof t=="string";o&&(r=r.split(n.stringSeparator)),s&&(e=e.split(n.stringSeparator)),u&&(t=t.split(n.stringSeparator));let c=[];const f=ci(r,e,t);let g=[];function T(){g.length&&c.push({ok:g}),g=[]}a(T,"flushOk");function R(H,oe){if(H.length!==oe.length)return!1;for(let se=0;se<H.length;se++)if(H[se]!==oe[se])return!1;return!0}return a(R,"isFalseConflict"),f.forEach(H=>{H.stable?g.push(...H.bufferContent):n.excludeFalseConflicts&&R(H.aContent,H.bContent)?g.push(...H.aContent):(T(),c.push({conflict:{a:H.aContent,aIndex:H.aStart,o:H.oContent,oIndex:H.oStart,b:H.bContent,bIndex:H.bStart}}))}),T(),c}a(Gi,"diff3Merge");function We(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},n);const o=Gi(r,e,t,n);let s=!1,u=[];return o.forEach(c=>{c.ok?u=u.concat(c.ok):c.conflict&&(s=!0,u.push(`<<<<<<<${n.label.a?` ${n.label.a}`:""}`),u=u.concat(c.conflict.a),u.push(`|||||||${n.label.o?` ${n.label.o}`:""}`),u=u.concat(c.conflict.o),u.push("======="),u=u.concat(c.conflict.b),u.push(`>>>>>>>${n.label.b?` ${n.label.b}`:""}`))}),{conflict:s,result:u}}a(We,"mergeDiff3");function ut(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=Gi(r,e,t,n);let s=!1,u=[];for(let c=0;c<o.length;c++){const f=o[c];f.ok?u=u.concat(f.ok):(s=!0,u=u.concat([`
<<<<<<<<<
`],f.conflict.a,[`
=========
`],f.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:u}}a(ut,"node_diff3_merge");function wt(r,e,t,n){n=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},n);const o=Gi(r,e,t,n);let s=!1,u=[];for(let c=0;c<o.length;c++){const f=o[c];if(f.ok)u=u.concat(f.ok);else{const g=li(f.conflict.a,f.conflict.b);for(let T=0;T<g.length;T++){let R=g[T];R.common?u=u.concat(R.common):(s=!0,u=u.concat([`
<<<<<<<<<
`],R.buffer1,[`
=========
`],R.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:u}}a(wt,"mergeDigIn");function ft(r,e){let t=[],n=0;function i(o){for(;n<o;)t.push(r[n]),n++}a(i,"advanceTo");for(let o=0;o<e.length;o++){let s=e[o];i(s.buffer1.offset);for(let u=0;u<s.buffer2.chunk.length;u++)t.push(s.buffer2.chunk[u]);n+=s.buffer1.length}return i(r.length),t}a(ft,"patch");function kt(r){return r.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(kt,"stripPatch");function Zt(r){return r.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(Zt,"invertPatch");const St=new ui;St.diffTimeout=0;function nr(r,e,t){return Oe.get("experimental.useDiffMatchPatch")===!0?St.patch_toText(St.patch_make(e,t)):Rt(r,e,t)}a(nr,"diffs_createPatch");function Wt(r,e,t,n){const i=`diff --git a/${r} b/${r}`;switch(n){case"modify":return nr(r,e,t);case"add":{let o;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?o=`
\\ No newline at end of file`:o="";const s=/\r?\n/g,u=t.split(s),c=t.match(s)||[],f=u.length,g=[];for(let T=0;T<f;T+=1)(T<u.length-1||T===u.length-1&&u[T]!=="")&&g.push("+"),g.push(u[T]),T<c.length&&g.push(c[T]);return t=g.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${r}
@@ -0,0 +1,${f} @@
${t}${o}`}case"delete":{let o=0;return e=e.replace(/\r?\n/g,s=>(o++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${r}
+++ /dev/null
@@ -1,${o} +0,0 @@
-${e}`}}}a(Wt,"createPatch2");function vr(r,e,t){return Pe(r,e,t)}a(vr,"diffs_applyPatch");function Rr(r,e){const t=[];for(const n of z(r,e))t.push({...n,oldFileName:n.newFileName,oldHeader:n.newHeader,newFileName:n.oldFileName,newHeader:n.oldHeader,hunks:n.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(o=>o[0]==="-"?`+${o.slice(1)}`:o[0]==="+"?`-${o.slice(1)}`:o)}))}),t.push(n);return t}a(Rr,"reversePatch");function Jr(r,e,t,n){let i=`
`;const o=r.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const f=o.filter(g=>g===`\r
`).length;i=f>o.length-f?`\r
`:`
`}const s=ut(r,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=s.result;let c=s.conflict;for(let f=0;f<u.length;f+=1)u[f]===`
<<<<<<<<<
`?u[f]="<<<<<<< HEAD":u[f]===`
=========
`?u[f]="=======":u[f]===`
>>>>>>>>>
`&&(u[f]=`>>>>>>> ${n}`);return{conflicts:c,mergedContent:u.join(i)}}a(Jr,"diffs_merge");function Yr(r){return r!==void 0&&typeof r.then=="function"}a(Yr,"isPromise");const rn="";function kr(...r){if(r.length===1){const e=r[0];return e===void 0?rn:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof l.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(r)}a(kr,"defaultResolver");function Bt(r){return(e,t,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$gate$${t}`;n.value=function(...s){const u=s.length===0?o:`${o}$${(r!=null?r:kr)(...s)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[u];if(c===void 0){let f;try{if(f=i.apply(this,s),f==null||!Yr(f))return f;this[u]=c=f.then(g=>(this[u]=void 0,g)).catch(g=>{throw this[u]=void 0,g})}catch(g){throw this[u]=void 0,g}}return c}}}a(Bt,"gate");function ir(r){const e=performance.now()*.001;let t=Math.floor(e),n=Math.floor(e%1*1e9);return r!==void 0&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}a(ir,"hrtime");let _r=0;function wr(){return _r===Number.MAX_SAFE_INTEGER&&(_r=0),++_r}a(wr,"getNextInstanceId");const K=a(class{constructor(r,e,...t){this.context=r,this.instance=`[${wr().toString().padStart(5)}] `;var n,i,o,s,u,c;let f;if(typeof(e==null?void 0:e.log)=="boolean"?f=e.log?{}:void 0:f=(n=e==null?void 0:e.log)!=null?n:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:l.LogLevel.Info,this.time=ir(),f){if(!O.enabled(this.logLevel))return;t.length?qe(this.logLevel,`${this.instance}${(o=f.prefix)!=null?o:""}${r}${(s=f.message)!=null?s:""}`,...t):qe(this.logLevel,`${this.instance}${(u=f.prefix)!=null?u:""}${r}${(c=f.message)!=null?c:""}`)}}log(r){this.logCore(this.context,r,!1)}logStep(r,e){(!r||e)&&this.logCore(this.context,e,!1),this.step=r?{time:ir(),label:r}:void 0}restart(r){this.logCore(this.context,r,!0),this.step=void 0,this.time=ir()}stop(r){this.restart(r)}logCore(r,e,t){var n,i,o,s,u,c,f;if(!O.enabled(this.logLevel))return;let g="";if(this.step){const[oe,se]=ir(this.step.time),Ee=oe*1e3+Math.floor(se/1e6);g=`${this.step.label?`${this.step.label} took `:""}${Ee} ms`}if(!t){qe(this.logLevel,`${this.instance}${(n=e==null?void 0:e.prefix)!=null?n:""}${r}${(i=e==null?void 0:e.message)!=null?i:""}${g?` ${g}`:""}${(o=e==null?void 0:e.suffix)!=null?o:""}`);return}const[T,R]=ir(this.time),H=T*1e3+Math.floor(R/1e6);qe(H>500?l.LogLevel.Warning:this.logLevel,`${this.instance}${(s=e==null?void 0:e.prefix)!=null?s:""}${r}${(u=e==null?void 0:e.message)!=null?u:""}${(c=e==null?void 0:e.took)!=null?c:" took "}${H} ms${g?` (${g})`:""}${(f=e==null?void 0:e.suffix)!=null?f:""}`)}static start(r,e,...t){var n;(n=K.watches.get(r))==null||n.log(),K.watches.set(r,new K(r,e,...t))}static log(r,e){var t;(t=K.watches.get(r))==null||t.log(e)}static stop(r,e){var t;(t=K.watches.get(r))==null||t.stop(e),K.watches.delete(r)}},"_Stopwatch");let X=K;X.watches=new Map;function qe(r,e,...t){switch(r){case l.LogLevel.Warning:O.warn(e,...t);break;case l.LogLevel.Info:O.log(e,...t);break;default:O.debug(e,...t);break}}a(qe,"log");let dt=0;function zt(){return dt===Number.MAX_SAFE_INTEGER&&(dt=0),String(++dt)}a(zt,"getNextLockId");class $t{constructor(){this.id=zt()}async synchronize(e){let t;const n=this.promise;this.promise=new Promise(i=>t=i),await n;try{return await e()}finally{t()}}}a($t,"Lock");class hr{constructor(e){this.lock=new $t,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let n;const i=new X(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:l.LogLevel.Debug});let o;await this.lock.synchronize(async()=>{this.writer&&await this.writer,o=new Promise(s=>n=s),this.readers.add(o)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),o!==void 0&&this.readers.delete(o),n()}}async synchronizeWrite(e,t){let n;const i=new X(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:l.LogLevel.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const o=[...this.readers];this.readers.clear(),await Promise.all(o)}this.writer=new Promise(o=>n=o)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),n(),this.writer=void 0}}}a(hr,"ReaderWriterLock");class pr{constructor(){this.locks=new Map}async synchronizeRead(e,t,n){let i=this.locks.get(e);return i===void 0&&(i=new hr(String(e)),this.locks.set(e,i)),i.synchronizeRead(t,n)}async synchronizeWrite(e,t,n){let i=this.locks.get(e);return i===void 0&&(i=new hr(String(e)),this.locks.set(e,i)),i.synchronizeWrite(t,n)}}a(pr,"KeyedReaderWriterLock");const ar=new TextDecoder,dr=new TextEncoder;async function lr(r){const e=typeof r=="string"?dr.encode(r):r;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const n=new Zr;n.update(e),t=n.digest()}return globalThis.btoa(encodeURIComponent(ar.decode(t)))}a(lr,"sha1");async function Qt(r){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},r);return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}a(Qt,"sha256");var xt;(function(r){r[r.BLOCK_SIZE=64]="BLOCK_SIZE"})(xt||(xt={}));function Ir(r,e,t=32){const n=t-e,i=~((1<<n)-1);return(r<<e|(i&r)>>>n)>>>0}a(Ir,"leftRotate");function Fr(r,e=0,t=r.byteLength,n=0){for(let i=0;i<t;i++)r[e+i]=n}a(Fr,"fill");const Ur=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(r){const e=this._buff;let t=this._buffLen,n=0;const i=r.byteLength;for(;n<i;){const o=Math.min(64-t,i-n);for(let s=0;s<o;s++)e[t++]=r[n++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const r=new ArrayBuffer(20),e=new DataView(r);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),r}_wrapUp(){this._buff[this._buffLen++]=128,Fr(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Fr(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=Ur._bigBlock32,e=this._buffDV;for(let g=0;g<64;g+=4)r.setUint32(g,e.getUint32(g,!1),!1);for(let g=64;g<320;g+=4)r.setUint32(g,Ir(r.getUint32(g-12,!1)^r.getUint32(g-32,!1)^r.getUint32(g-56,!1)^r.getUint32(g-64,!1),1),!1);let t=this._h0,n=this._h1,i=this._h2,o=this._h3,s=this._h4,u,c,f;for(let g=0;g<80;g++)g<20?(u=n&i|~n&o,c=1518500249):g<40?(u=n^i^o,c=1859775393):g<60?(u=n&i|n&o|i&o,c=2400959708):(u=n^i^o,c=3395469782),f=Ir(t,5)+u+s+c+r.getUint32(g*4,!1)&4294967295,s=o,o=i,i=Ir(n,30),n=t,t=f;this._h0=this._h0+t&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let Zr=Ur;Zr._bigBlock32=new DataView(new ArrayBuffer(320));function Xt(r){const e=globalThis.atob(r),t=e.length,n=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}a(Xt,"fromBase64");const{fromCharCode:Nn}=String;function _n(r){let e;if(typeof r=="string")e=r;else{e="";for(let t=0,{length:n}=r;t<n;t++)e+=Nn(r[t])}return globalThis.btoa(e)}a(_n,"toBase64");function Nr(r,e){if(r===e)return-1;let t=0;for(;r[t]===e[t];)t++;return t}a(Nr,"indexOfDifference");function ai(r){return r.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(ai,"strings_escapeRegExpCharacters");var Ln=Object.defineProperty,Mn=Object.getOwnPropertyDescriptor,yi=a((r,e,t,n)=>{for(var i=n>1?void 0:n?Mn(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Ln(e,t,i),i},"__decorateClass");const fi=l.FileSystemError.FileNotFound().code,hi=`===================================================================
`,dn=new TextDecoder,Si=new TextEncoder;function bi(r){return r&&"type"in r&&"uri"in r&&"uri"in r&&"fileType"in r&&"revision"in r&&"timestamp"in r}a(bi,"isOperation");function oi(r,e,t){return{type:r.type,rootUri:e,uri:t!=null?t:r.uri}}a(oi,"toEvent");const kn=a(class{constructor(r,e,t,n,i,o){this.providerService=r,this.storageService=e,this.fileStorageService=t,this.telemetryService=n,this.workspaceId=i,this._onDidChange=new l.EventEmitter,this.cache=new Map,this.lock=new pr,this.scopedStores=new Map,o===void 0&&(this.disposable=l.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var r;(r=this.disposable)==null||r.dispose()}async exportDebugInfo(r){var e;async function t(n){const i=await l.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${n.toString(!0)}

${this.toStorage(await this.getWorkingOperations(n))}`});return void l.window.showTextDocument(i)}if(a(t,"exportCore"),r===void 0)for(const n of(e=l.workspace.workspaceFolders)!=null?e:[])await t.call(this,n.uri);else return t.call(this,r)}async getWorkspacesWithChanges(){var r;const e=new X("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const n of(r=l.workspace.workspaceFolders)!=null?r:[])n.uri.scheme===$.scheme&&await this.hasChanges(n.uri)&&t.push(n.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(r,e){const t=`ChangeStore.acceptAll(${r.toString()}, ${e==null?void 0:e.staged})`;O.log(t);const n=[];await this.lock.synchronizeWrite(b(r),async()=>{const i=await this.getWorkingOperations(r),o=[];let s=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(c=>c.staged));for(const c of i){if(u&&!c.staged){s.push(c);continue}c.fileType===l.FileType.File&&await this.discardWorkingContent(r,c.uri);let f;if(c.type===j.Created&&c.fileType===l.FileType.Directory&&(i.some(g=>W(g.uri,c.uri))||(f={type:j.Deleted,rootUri:r,uri:c.uri})),n.push(f!=null?f:oi(c,r)),c.type===j.Created){let g=c.uri;for(;;){const{parent:T}=this.findParent(g,i,R=>R.type===j.Created);if(T){o.push(T),g=T.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(c=>o.includes(c)?(n.push(oi(c,r)),!1):!0)),await this.saveWorkingOperations(r,s)},t),n.length!==0&&this._onDidChange.fire(n)}async discard(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.discard(${r.toString()})`;O.log(t);const n=[];await this.lock.synchronizeWrite(b(e),async()=>this.discardCore(e,r,n),t),n.length!==0&&this._onDidChange.fire(n)}async discardCore(r,e,t){O.debug(`ChangeStore.discardCore(${e.toString()})`);let n=await this.getWorkingOperations(r);if(n.length===0)return;const i=B(e),o=n.findIndex(c=>B(c.uri)===i);if(o===-1)return;const[s]=n.splice(o,1);let u;switch(s.type){case j.Created:u=j.Deleted;break;case j.Deleted:u=j.Created;break;default:u=s.type;break}if(t.push({type:u,rootUri:r,uri:e}),s.type===j.Created){let c=s.uri;for(;;){const{parent:f,parentIndex:g}=this.findNewParentWithOnlyChild(c,n);if(f){n.splice(g,1),t.push({type:j.Deleted,rootUri:r,uri:f.uri}),c=f.uri;continue}break}}else if(s.type===j.Deleted){let c=s.uri;const f=this.findDeletedParents(c,n);let g=[...n];f.forEach(({parent:T,parentIndex:R})=>{g[R]=void 0,t.push({type:j.Created,rootUri:r,uri:T.uri})}),n=g.filter(T=>T!==void 0)}await this.saveWorkingOperations(r,n),s.fileType===l.FileType.File&&await this.discardWorkingContent(r,e)}async discardAll(r,e){const t=this.getUriScope(r);if(t)return this.getScopedChangeStore(t).discardAll(r,e);const n=`ChangeStore.discardAll(${r.toString()}, ${e==null?void 0:e.staged})`;O.log(n);const i=[];await this.lock.synchronizeWrite(b(r),async()=>{const o=await this.getWorkingOperations(r),s=[];let u=[];const c=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!o.some(f=>f.staged));for(const f of o){if(c&&!f.staged){u.push(f);continue}f.fileType===l.FileType.File&&await this.discardWorkingContent(r,f.uri);let g;switch(f.type){case j.Created:g=j.Deleted;break;case j.Deleted:g=j.Created;break;default:g=f.type;break}if(i.push({type:g,rootUri:r,uri:f.uri}),f.type===j.Created){let T=f.uri;for(;;){const{parent:R}=this.findNewParentWithOnlyChild(T,o);if(R){s.push(R),T=R.uri;continue}break}}}u.length>0&&s.length>0&&(u=u.filter(f=>s.includes(f)?(i.push({type:j.Deleted,rootUri:r,uri:f.uri}),!1):!0)),await this.saveWorkingOperations(r,u)},n),i.length!==0&&this._onDidChange.fire(i)}async stage(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.stage(${r.toString()})`;O.log(t);const n=[];await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);i!==void 0&&await this.stageCore(e,r,i,n,o)},t),n.length!==0&&this._onDidChange.fire(n)}async stageAll(r){const e=`ChangeStore.stageAll(${r.toString()})`;O.log(e);const t=[];await this.lock.synchronizeWrite(b(r),async()=>{const n=(await this.getWorkingOperations(r)).filter(i=>!i.staged);if(n.length!==0)for(const i of n){const{index:o}=await this.getWorkingOperation(i.uri,r);if(!await this.stageCore(r,i.uri,i,t,o))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(r,e,t,n,i){if(t.conflicts){if(!t.conflicts.status.includes(j.Deleted)){const s=l.l10n.t("Yes");if(await l.window.showWarningMessage(l.l10n.t("Are you sure you want to stage {0} with merge conflicts?",V(e)),{modal:!0},s)!==s)return!1}const[,o]=t.conflicts.status;switch(o){case j.Changed:switch(t.type){case j.Created:return!1;case j.Changed:return await this.spliceOperation(e,i,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0;case j.Deleted:const s=l.l10n.t("Keep Their Version"),u=l.l10n.t("Delete File"),c=await l.window.showInformationMessage(l.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,V(e)),{modal:!0},s,u);return c===s?(await this.discardCore(r,e,n),!0):c===u?(await this.spliceOperation(e,i,{...t,type:j.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):!1}case j.Created:switch(t.type){case j.Changed:case j.Deleted:return!1;case j.Created:return await this.spliceOperation(e,i,{...t,type:j.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},n),!0}case j.Deleted:switch(t.type){case j.Created:case j.Changed:{const s=l.l10n.t("Keep Our Version"),u=l.l10n.t("Delete File"),c=await l.window.showInformationMessage(l.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,V(e)),{modal:!0},s,u);return c===s?(await this.spliceOperation(e,i,{...t,type:j.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):c===u?(await this.discardCore(r,e,n),!0):!1}case j.Deleted:return await this.discardCore(r,e,n),!0}}}return await this.spliceOperation(e,i,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},n),!0}async unstage(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.unstage(${r.toString()})`;O.log(t);const n=[];await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);i!==void 0&&await this.spliceOperation(r,o,{...i,staged:!1,timestamp:Date.now()},n)},t),n.length!==0&&this._onDidChange.fire(n)}async unstageAll(r){const e=`ChangeStore.unstageAll(${r.toString()})`;O.log(e);const t=[];await this.lock.synchronizeWrite(b(r),async()=>{const n=(await this.getWorkingOperations(r)).map(i=>({...i,staged:!1,timestamp:Date.now()}));n.length!==0&&(await this.saveWorkingOperations(r,n),t.push(...n.map(i=>oi(i,r))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).hasChanges(r);const t=b(r),n=this.cache.get(t);return n!==void 0?n.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(r)).length!==0,`ChangeStore.hasChanges(${r.toString()})`)}maybeHasChanges(r,e){const t=this.getUriScope(r);if(t)return this.getScopedChangeStore(t).maybeHasChanges(r,e);const n=b(r),i=this.cache.get(n);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const o=B(e);return i.some(s=>B(s.uri)===o)}async hasMergeConflicts(r){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${r.toString()})`)}async hasStagedChanges(r){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${r.toString()})`)}async hasWorkingChanges(r){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${r.toString()})`)}async getChange(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).getChange(r);const t=this.providerService.getVirtualRootUri(r);if(t!==void 0)return this.lock.synchronizeRead(b(t),async()=>{const{operation:n}=await this.getWorkingOperation(r,t);return n},`ChangeStore.getChange(${r.toString()})`)}async getChanges(r,e){const t=this.getUriScope(r);return t?this.getScopedChangeStore(t).getChanges(r,e):this.lock.synchronizeRead(b(r),async()=>{let n=await this.getWorkingOperations(r);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:o}=e;n=n.filter(s=>{var u;return(!i||s.conflicts===void 0)&&((u=o==null?void 0:o(s))!=null?u:!0)})}return n},`ChangeStore.getChanges(${r.toString()})`)}async getGroupedChanges(r,e){const t=this.getUriScope(r);return t?this.getScopedChangeStore(t).getGroupedChanges(r,e):this.lock.synchronizeRead(b(r),async()=>{var n,i;const o=await this.getWorkingOperations(r),s={conflicts:[],staged:[],working:[]};for(const u of o)!((i=(n=e==null?void 0:e.predicate)==null?void 0:n.call(e,u))!=null?i:!0)||(u.conflicts?s.conflicts.push(u):u.staged?s.staged.push(u):s.working.push(u));return s},`ChangeStore.getChangesByType(${r.toString()})`)}async getContent(r){const e=this.providerService.getVirtualRootUri(r);if(e===void 0)throw new Error(`Unable to find content for ${r.toString()}; Repository not found`);const t=b(e),n=this.cache.get(t);if((n==null?void 0:n.length)===0)throw new Error(`Unable to find content for ${r.toString()}`);return this.lock.synchronizeRead(t,async()=>{const i=dn.decode(await this.getWorkingContent(e,r));if(i!==void 0)return i;throw new Error(`Unable to find content for ${r.toString()}`)},`ChangeStore.getContent(${r.toString()}}`)}async getMergeConflicts(r,e){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return n.conflicts!==void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getMergeConflicts(${r.toString()})`)}async getStagedChanges(r,e){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getStagedChanges(${r.toString()})`)}async getWorkingChanges(r,e){return this.lock.synchronizeRead(b(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return!n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getWorkingChanges(${r.toString()})`)}async applyChangeset(r,e,t,n){var i;let o;bi(t)?o=t:n=n!=null?n:t,O.log(`ChangeStore.applyChangeset${r.toString()}`,e.workspaceId,e.uri,o==null?void 0:o.uri,n==null?void 0:n.save);const s=this.getScopedChangeStore(e.workspaceId),u=(i=e.patch)!=null?i:await s.createPatch(e.uri,o==null?void 0:o.uri);await this.applyPatchCore(r,u,{...n,getIncomingContent:async c=>{const f=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId);return dn.decode(await l.workspace.fs.readFile(f))},merge:async(c,f,g)=>{try{const T=$.getProviderUri(c),R=dn.decode(await l.workspace.fs.readFile(T)),H=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,f),e.workspaceId),oe=dn.decode(await l.workspace.fs.readFile(H)),se=await this.providerService.getMetadata(H);return{...Jr(g,R,oe,se.HEAD.sha),baseUri:T,incomingUri:H}}catch(T){throw new Error(`Unable to apply patch to ${f}: ${String(T)}`)}}})}async applyPatch(r,e,t){if(O.log(`ChangeStore.applyPatch(${r.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(r,e,t)}async applyPatchCore(r,e,t={}){const n=`ChangeStore.applyPatchCore(${r.toString()})`;O.debug(n,t==null?void 0:t.save);const i=new l.WorkspaceEdit,o=[],s=new Map;async function u(R){var H;const oe=b(R),se=l.workspace.textDocuments.find(Ee=>b(Ee.uri)===oe);return(H=se==null?void 0:se.getText())!=null?H:dn.decode(await l.workspace.fs.readFile(R))}a(u,"getContent");async function c(R){try{const H=await l.workspace.fs.stat(R);return Boolean(H)}catch{return!1}}a(c,"exists");async function f(R,H,oe){let se=vr("",oe,{fuzzFactor:0});if(se===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${H}`);se=await t.getIncomingContent(H)}i.createFile(R,{overwrite:!0}),i.replace(R,new l.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),se)}a(f,"applyCreate");async function g(R,H,oe,se){const Ee=await u(R);let Te=vr(Ee,oe,{fuzzFactor:1});if(Te===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${H}; Resulted in conflicts`);const Le={title:l.l10n.t("Merge")},rt={title:l.l10n.t("Skip File"),isCloseAffordance:!0};if(await l.window.showWarningMessage(l.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,H),{modal:!0},Le,rt)!==Le)return;const lt=await t.merge(R,H,Ee);Te=lt.mergedContent,lt.conflicts&&s.set(b(R),{type:se,baseUri:lt.baseUri,incomingUri:lt.incomingUri})}i.replace(R,new l.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Te)}a(g,"applyModification");const T=(t==null?void 0:t.reverse)?Rr(e,{}):z(e,{});for(const R of T)if(R.oldFileName==="/dev/null"){if(!R.newFileName)continue;const H=R.newFileName.startsWith("b/")?R.newFileName.substr(2):R.newFileName,oe=this.providerService.createRelativeVirtualUri(r,H);o.push(b(oe)),!await c(oe)?await f(oe,H,R):await g(oe,H,R,j.Created)}else if(R.newFileName==="/dev/null"){if(!R.oldFileName)continue;const H=R.oldFileName.startsWith("a/")?R.oldFileName.substr(2):R.oldFileName,oe=this.providerService.createRelativeVirtualUri(r,H);await c(oe)&&i.deleteFile(oe)}else if(R.oldFileName===R.newFileName){if(!R.newFileName)continue;const H=this.providerService.createRelativeVirtualUri(r,R.newFileName);o.push(b(H)),!await c(H)?await f(H,R.newFileName,R):await g(H,R.newFileName,R,j.Changed)}else throw new Error(`Unable to apply patch to ${R.oldFileName}; Renames aren't currently supported`);if(await l.workspace.applyEdit(i),t.save&&o.length)for(const R of o){const H=l.workspace.textDocuments.find(oe=>b(oe.uri)===R);await(H==null?void 0:H.save())}s.size&&setTimeout(async()=>{const R=[];await this.lock.synchronizeWrite(b(r),async()=>{const H=await this.getWorkingOperations(r);if(H.length===0)return;let oe=-1;for(const se of H){oe++;const Ee=s.get(b(se.uri));Ee!==void 0&&await this.spliceOperation(se.uri,oe,{...se,conflicts:{baseUri:Ee.baseUri,incomingUri:Ee.incomingUri,status:[se.type,Ee.type]},timestamp:Date.now()},R)}},n),R.length!==0&&this._onDidChange.fire(R)},0)}async createChangeset(r){O.log(`ChangeStore.createChangeset${r.toString()})`);const e=await this.createPatch(r);return e?{workspaceId:this.workspaceId,uri:r,patch:e}:void 0}async createPatch(r,e,t){if(O.log(`ChangeStore.createPatch${r.toString()})`,e),e===void 0){let o=await this.getWorkingOperations(r);if((t==null?void 0:t.staged)&&(o=o.filter(u=>u.staged)),o.length===0)return"";const s=[];for(const u of o){const c=await this.createPatchCore(r,u);s.push(c)}return s.join("")}const{operation:n}=await this.getWorkingOperation(e,r);if(n===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&n.staged?"":await this.createPatchCore(r,n)}async createPatchCore(r,e){if(e.fileType!==l.FileType.File)return"";const t=this.providerService.getRelativeFilePath(r,e.uri),n=`diff --git a/${t} b/${t}`;if(e.type===j.Created){let c=await this.getContent(e.uri);return Wt(t,"",c,"add")}if(e.type===j.Deleted){let c=dn.decode(await l.workspace.fs.readFile($.getProviderUri(e.uri)));return Wt(t,c,"","delete")}const i=await this.getContent(e.uri),o=dn.decode(await l.workspace.fs.readFile($.getProviderUri(e.uri))),s=nr(t,o,i),u=s.indexOf(hi);return`${n}
${s.substr(u+hi.length)}`}async keep(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return;const n=`ChangeStore.keep(${r.toString()})`;O.log(n,e);const i=[];await this.lock.synchronizeWrite(b(t),async()=>{const{operation:o,index:s}=await this.getWorkingOperation(r,t);if(o===void 0)return;if(e===void 0&&o.conflicts){const[,c]=o.conflicts.status;switch(c){case j.Changed:switch(o.type){case j.Changed:case j.Created:case j.Deleted:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break;case j.Created:switch(o.type){case j.Changed:case j.Deleted:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break;case j.Created:await this.spliceOperation(r,s,{...o,type:j.Changed,size:o.size,hash:o.hash,originalHash:o.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case j.Deleted:switch(o.type){case j.Deleted:await this.discardCore(t,r,i);break;case j.Changed:await this.spliceOperation(r,s,{...o,type:j.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case j.Created:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case j.Changed:switch(o.type){case j.Deleted:await this.spliceOperation(r,s,{...o,type:j.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case j.Created:break;case j.Changed:break}break;case j.Created:switch(o.type){case j.Changed:case j.Deleted:return;case j.Created:break}break;case j.Deleted:switch(o.type){case j.Deleted:return this.discardCore(t,r,i);case j.Changed:await this.spliceOperation(r,s,{...o,type:j.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case j.Created:return}}const u=e!==void 0?await l.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(r,s,{...o,type:j.Changed,originalHash:u!==void 0?await lr(u):o.originalHash,conflicts:void 0,timestamp:Date.now()},i)},n),i.length!==0&&this._onDidChange.fire(i)}async merge(r,e,t){const n=this.providerService.getVirtualWorkspaceUri(r);if(n===void 0)return;const i=`ChangeStore.merge(${r.toString()})`;O.log(i,e,t);const o=[];await this.lock.synchronizeWrite(b(n),async()=>{const{operation:s,index:u}=await this.getWorkingOperation(r,n);if(s===void 0)return;switch(e.type){case j.Changed:switch(s.type){case j.Deleted:await this.spliceOperation(r,u,{...s,type:j.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case j.Created:break;case j.Changed:break}break;case j.Created:switch(s.type){case j.Deleted:case j.Changed:return;case j.Created:const H=await l.workspace.fs.readFile(e.providerUri);await this.spliceOperation(r,u,{...s,originalHash:H!==void 0?await lr(H):s.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},type:j.Changed,timestamp:Date.now()},o);break}break;case j.Deleted:switch(s.type){case j.Deleted:return this.discardCore(n,r,o);case j.Changed:await this.spliceOperation(r,u,{...s,type:j.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case j.Created:return}}const c=await this.providerService.getMetadata(e.providerUri),f=await this.getWorkingContent(n,r),g=s.type===j.Created?new Uint8Array(0):await l.workspace.fs.readFile(t.providerUri),T=await l.workspace.fs.readFile(e.providerUri),R=Jr(dn.decode(f),dn.decode(g),dn.decode(T),c.HEAD.sha);await this.writeFileCore(n,r,o,Si.encode(R.mergedContent),T!=null?T:new Uint8Array(0),R.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]}:void 0)},i),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(r,e,t,n){let i;const o=this.providerService.getVirtualRootUri(r);return o!==void 0&&({operation:i}=await this.getWorkingOperation(r,o)),(i==null?void 0:i.type)===j.Deleted?this.resolveOpenCommand(e):((i==null?void 0:i.type)===j.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,r,t,n]})}resolveOpenCommand(r,e){return{command:"vscode.open",title:"Open File",arguments:[r,e]}}getScopedUri(r,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?r:r.with({fragment:t})}getUriScope(r){return r.fragment||void 0}getScopedChangeStore(r){const e=typeof r=="string"?r:r.workspaceId;O.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new kn.ScopedChangeStore(this,e,this.workspaceId):new kn.ScopedChangeStore(new kn(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).stat(r);const t=this.providerService.getVirtualRootUri(r);if(t===void 0)return;const n=b(t),i=this.cache.get(n);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(n,async()=>{var o;const{operation:s}=await this.getWorkingOperation(r,t);if(s!==void 0){if(s.type===j.Deleted)throw l.FileSystemError.FileNotFound(`The ${s.fileType===l.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(o=s.size)!=null?o:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${r.toString()}`)}async readFile(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).readFile(r);const t=new X(`ChangeStore.readFile(${r.toString()})`);try{const n=this.providerService.getVirtualRootUri(r);if(n===void 0)return;const i=b(n),o=this.cache.get(i);return(o==null?void 0:o.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(n,r)},t.context)}finally{t.stop()}}async createDirectory(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new X(`ChangeStore.createDirectory(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e),s=await this.providerService.getMetadata(r);await this.spliceOperation(r,o,i===void 0?{type:j.Created,uri:r,fileType:l.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}async deleteDirectory(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new X(`ChangeStore.deleteDirectory(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);if((i==null?void 0:i.type)===j.Created)return this.discardCore(e,r,n);const s=await this.providerService.getMetadata(r);await this.spliceOperation(r,o,{type:j.Deleted,uri:r,fileType:l.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}async updateDirectoryEntries(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return e;const n=new X(`ChangeStore.updateDirectoryEntries(${r.toString()})`,{},e.length);try{const i=b(t),o=this.cache.get(i);return(o==null?void 0:o.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:s}=M(t,r),u=await this.getWorkingOperations(t);for(const c of u)switch(c.type){case j.Changed:break;case j.Created:{if(W(c.uri,s)){const f=this.providerService.getRelativeFilePath(r,c.uri);e.push([f,c.fileType])}break}case j.Deleted:{if(W(c.uri,s)){const f=this.providerService.getRelativeFilePath(r,c.uri),g=e.findIndex(([T])=>T===f);g!==-1&&e.splice(g,1)}break}}return e},n.context)}finally{n.stop()}}async writeFile(r,e,t,n){const i=this.providerService.getVirtualWorkspaceUri(r);if(i===void 0)return;const o=new X(`ChangeStore.writeFile(${r.toString()})`,{},e.length,n);try{const s=[];if(await this.lock.synchronizeWrite(b(i),async()=>this.writeFileCore(i,r,s,e,t,n),o.context),s.length===0)return;this._onDidChange.fire(s)}finally{o.stop()}}async writeFileCore(r,e,t,n,i,o){const s=new X(`ChangeStore.writeFileCore(${e.toString()})`,{},n.length,o);try{const[{operation:u,index:c},f,g]=await Promise.all([this.getWorkingOperation(e,r),lr(n),lr(i)]);if(f===g&&(!u||(u==null?void 0:u.type)===j.Changed))return this.discardCore(r,e,t);if(f===(u==null?void 0:u.hash)&&g===(u==null?void 0:u.originalHash))return;const[{HEAD:T}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(r,e,n)]);await this.spliceOperation(e,c,u===void 0?{type:j.Changed,uri:e,fileType:l.FileType.File,revision:T.sha,timestamp:Date.now(),size:n.byteLength,hash:f,originalHash:g,conflicts:o,staged:!1}:{...u,revision:T.sha,timestamp:Date.now(),size:n.byteLength,hash:f,originalHash:g,conflicts:o,staged:!1},t)}finally{s.stop()}}async createFile(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return;const n=new X(`ChangeStore.createFile(${r.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(b(t),async()=>{const[{operation:o,index:s},u,c]=await Promise.all([this.getWorkingOperation(r,t),lr(e),this.providerService.getMetadata(r),this.saveWorkingContent(t,r,e)]);await this.spliceOperation(r,s,o===void 0?{type:j.Created,uri:r,fileType:l.FileType.File,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:o.type===j.Deleted?{...o,type:j.Changed,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u}:{...o,type:j.Created,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},i)},n.context),i.length===0)return;this._onDidChange.fire(i)}finally{n.stop()}}async deleteFile(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new X(`ChangeStore.deleteFile(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(b(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);if((i==null?void 0:i.type)===j.Created)return this.discardCore(e,r,n);const[s]=await Promise.all([this.providerService.getMetadata(r),this.discardWorkingContent(e,r)]);await this.spliceOperation(r,o,{type:j.Deleted,uri:r,fileType:l.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}findParent(r,e,t){const n=le(r),{operation:i,index:o}=this.findWorkingOperation(n,e);return i!==void 0&&t(i,e)?{parent:i,parentIndex:o}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(r,e){const t=B(r);return this.findParent(r,e,(n,i)=>n.type===j.Created&&!i.some(o=>W(o.uri,n.uri)&&B(o.uri)!==t))}findDeletedParents(r,e){const t=[];for(let n=0;n<e.length;n+=1){const i=e[n];i.type===j.Deleted&&U(r,i.uri)&&t.push({parent:i,parentIndex:n})}return t}async getWorkingOperation(r,e){return this.findWorkingOperation(r,await this.getWorkingOperations(e))}findWorkingOperation(r,e){if(e.length===0)return{operation:void 0,index:-1};const t=B(r);let n=-1;const i=e.find((o,s)=>B(o.uri)!==t?!1:(n=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:n}}async getWorkingOperations(r){const e=b(r);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(r,e){O.debug(`ChangeStore.saveWorkingOperations(${r.toString()})`,e.length);const t=b(r);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(n){throw this.cache.delete(t),O.error(n,`Failed to save repository changes for ${t}`),n}}getOperationsStorageKey(r){return`operations/${r}`}async getWorkingContent(r,e){try{return await this.fileStorageService.get(this.getFileStorageKey(r,e))}catch(t){throw O.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(r,e){O.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(r,e))}catch(t){if(t instanceof l.FileSystemError&&t.code===fi)return;throw O.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(r,e,t){O.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(r,e),t)}catch(n){throw O.error(n),this.telemetryService.sendException(n),n}}getFileStorageKey(r,e){return`changestore/${F(e)}`}async spliceOperation(r,e,t,n){const i=this.providerService.getVirtualWorkspaceUri(r);if(i===void 0)return;const o=await this.getWorkingOperations(i);e!==-1?o.splice(e,1,t):o.push(t),await this.saveWorkingOperations(i,o),n.push(oi(t,i,r))}fromStorage(r){if(!r)return[];try{const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&A(n)?typeof n=="string"?l.Uri.parse(n):l.Uri.from(n):n);return Array.isArray(e)?e:e.operations}catch(e){throw O.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(r){const e={schemaVersion:kn.operationsStorageSchemaVersion,operations:r};return JSON.stringify(e)}},"_ChangeStore");let si=kn;si.operationsStorageSchemaVersion=1,si.ScopedChangeStore=class{constructor(r,e,t){this.changeStore=r,this.scope=e,this.workspaceId=t}createPatch(r,e,t){return this.changeStore.createPatch(this.stripUriScope(r),this.stripUriScope(e),t)}discardAll(r,e){return this.changeStore.discardAll(this.stripUriScope(r),e)}getChange(r){return this.changeStore.getChange(this.stripUriScope(r))}getChanges(r,e){return this.changeStore.getChanges(this.stripUriScope(r),e)}async getGroupedChanges(r,e){return this.changeStore.getGroupedChanges(this.stripUriScope(r),e)}hasChanges(r){return this.changeStore.hasChanges(this.stripUriScope(r))}maybeHasChanges(r,e){return this.changeStore.maybeHasChanges(this.stripUriScope(r),this.stripUriScope(e))}async stat(r){const t=this.changeStore.getUriScope(r)!==this.workspaceId,n=await this.changeStore.stat(this.stripUriScope(r));return n!==void 0&&t&&(n.permissions=l.FilePermission.Readonly),n}readFile(r){return this.changeStore.readFile(this.stripUriScope(r))}resolveDiffCommand(r,e,t,n){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(r,this.scope),this.changeStore.getScopedUri(e,this.scope),t,n)}stripUriScope(r){return r===void 0||!r.fragment?r:r.with({fragment:""})}},yi([Bt()],si.prototype,"getWorkingOperations",1);function ki(r){switch(r){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(ki,"getStatusText");function Ui(r){const[e,t]=r;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(Ui,"getConflictStatusText");const Vn=a(class{constructor(r){this.storageService=r,this._onDidChange=new l.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(r){const e=b(r),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(n){throw O.error(n,`Failed to delete repository metadata for ${e}`),n}!t||setTimeout(()=>this._onDidChange.fire({uri:r}),0)}async get(r){this.assertMatchingScheme(r);const e=b(r),t=this.cache.get(e);if(t!==void 0)return t;let n;try{n=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw O.error(i,`Failed to get repository metadata for ${e}`),i}return n?this.cache.set(e,{revision:n}):this.cache.delete(e),{revision:n}}async set(r,e,t,n){this.assertMatchingScheme(r);const i=(await this.get(r)).revision!==e?"revision":void 0,o=b(r);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${r.toString()}`);const s={revision:e,cachedMetadata:t};this.cache.set(o,s);try{await this.storageService.store(this.getStorageKey(o),this.toStorage(e))}catch(u){throw this.cache.delete(o),O.error(u,`Failed to save repository metadata for ${o}`),u}(n==null?void 0:n.silent)||setTimeout(()=>this._onDidChange.fire({uri:r,reason:i}),0)}refresh(){this.cache.clear()}validate(r){var e,t,n,i,o,s,u,c;return typeof r.version=="number"&&r.version>=Vn.schemaVersion&&typeof r.timestamp=="number"&&typeof((e=r.provider)==null?void 0:e.id)=="string"&&typeof r.provider.name=="string"&&typeof r.name=="string"&&r.repo&&typeof r.accessLevel=="number"&&typeof((t=r.HEAD)==null?void 0:t.type)=="number"&&typeof((n=r.HEAD)==null?void 0:n.name)=="string"&&typeof((i=r.HEAD)==null?void 0:i.sha)=="string"&&(typeof((o=r.HEAD.detached)==null?void 0:o.name)=="string"&&typeof((s=r.HEAD.detached)==null?void 0:s.type)=="number"||typeof((u=r.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((c=r.defaultBranch)==null?void 0:c.name)=="string"&&typeof r.defaultBranch.sha=="string"}assertMatchingScheme(r){if(r.scheme!==$.scheme)throw new Error(`Uri scheme '${r.scheme}' must match configured scheme '${$.scheme}'; uri=${r.toString()}`)}getStorageKey(r){return`metadata/${r}`}fromStorage(r){if(!r)return;const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&A(n)?l.Uri.from(n):n);return e==null?void 0:e.revision}toStorage(r){const e={schemaVersion:Vn.storageSchemaVersion,revision:r};return JSON.stringify(e)}},"_MetadataStore");let zn=Vn;zn.schemaVersion=et,zn.storageSchemaVersion=1;class gn{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new l.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),n=new X(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{n.stop()}}async getKeys(e){const t=this.getScoped(e),n=new X(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:l.LogLevel.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const o=this.scope.length+1;i=i.map(s=>s.substr(o))}return await Promise.resolve(i)}finally{n.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(n=>n.startsWith(e))),t}async store(e,t){const n=this.getScoped(e),i=new X(`MementoStorage.store(${e}): scopedKey=${n}`,{logLevel:l.LogLevel.Debug});try{return await this.storeCore(e,n,t)}finally{i.stop()}}async storeCore(e,t,n){await this.memento.update(t,n),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),n=new X(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await this.storeCore(e,t,void 0)}finally{n.stop()}}async deleteKeys(e){const t=this.getScoped(e),n=new X(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:l.LogLevel.Debug});try{const i=[],o=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(t);for(const u of s){const c=o!==0?u.substr(o):u;O.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${c}, scopedKey=${u}`);try{await this.storeCore(c,u,void 0)}catch(f){O.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${c}, scopedKey=${u}`),i.push(c)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{n.stop()}}with(e){return new gn(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(gn,"MementoStorageService");class di{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new l.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),n=new X(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await l.workspace.fs.readFile(l.Uri.joinPath(this.storageUri,t))}catch(i){return}finally{n.stop()}}async store(e,t){const n=this.getScoped(e),i=new X(`ExtFileStorageService.store(${e}): scopedKey=${n}`,{logLevel:l.LogLevel.Debug});try{return await this.storeCore(e,n,t)}finally{i.stop()}}async storeCore(e,t,n){await l.workspace.fs.writeFile(l.Uri.joinPath(this.storageUri,t),n),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),n=new X(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await l.workspace.fs.delete(l.Uri.joinPath(this.storageUri,t))}finally{n.stop()}}with(e){return new di(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(di,"ExtFileStorageService");const xe=a(async(r,e,t)=>{const n=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,850)),i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5229)),o=new n.AppInsightsCore,s=new i.PostChannel,u={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){u.extensionConfig={};const g={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[s.identifier]=g}const f=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(u,[]),o.addTelemetryInitializer(g=>{var T,R;!f||(g.ext=(T=g.ext)!=null?T:{},g.ext.utc=(R=g.ext.utc)!=null?R:{},g.ext.utc.flags=8462029)}),o},"getAICore"),it=a(async(r,e,t)=>{const n=await xe(r,e,t);return{logEvent:(o,s)=>{try{n==null||n.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{n==null||n.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}},"oneDataSystemClientFactory");var ct;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(ct||(ct={}));class Et{constructor(e,t){this._instantiationStatus=ct.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==ct.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==ct.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===ct.NOT_INSTANTIATED&&(this._instantiationStatus=ct.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=ct.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=ct.INSTANTIATED}))}}a(Et,"BaseTelemetrySender");class Nt{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}internalSendTelemetryException(e,t,n,i){i?this.telemetrySender.sendErrorData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!1)}sendDangerousTelemetryException(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Nt,"BaseTelemetryReporter");class Ft{static applyReplacements(e,t){for(const n of Object.keys(e))for(const i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return Ft._instance||(Ft._instance=new Ft),Ft._instance}}a(Ft,"TelemetryUtil");const ur=a(async(r,e)=>{let t;try{const i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3268));t=new i.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0})}catch(i){return Promise.reject(i)}return{logEvent:(i,o)=>{const s={...o==null?void 0:o.properties,...o==null?void 0:o.measurements};(e==null?void 0:e.length)&&Ft.applyReplacements(s,e),t==null||t.track({name:i,data:s})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");function Ce(r){if(r.userAgentData){const e=r.userAgentData.brands[r.userAgentData.brands.length-1];return`${r.userAgentData.platform} - ${e==null?void 0:e.brand} v${e==null?void 0:e.version}}`}else return r.appVersion}a(Ce,"getBrowserRelease");class Je extends Nt{constructor(e,t){let n=a(s=>ur(s,t),"clientFactory");Ft.shouldUseOneDataSystemSDK(e)&&(n=a(s=>it(s,l),"clientFactory"));const i={release:Ce(navigator),platform:"web",architecture:"web"},o=new Et(e,n);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,l,{additionalCommonProperties:Ft.getAdditionalCommonProperties(i)})}}a(Je,"TelemetryReporter");const Qe="Type of classified event does not match event properties",yt=a(class{constructor(r){this.context=r,this.sharedProperties={},yt._instance=this,this.reporter=new Je(yt.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(r,e){e!==Qe&&this.reporter.sendTelemetryEvent(r,{...this.sharedProperties,...e})}sendEvent(r,e,t){this.reporter.sendTelemetryEvent(r,{...this.sharedProperties,...e},t)}sendErrorEvent(r,e,t){this.reporter.sendTelemetryErrorEvent(r,{...this.sharedProperties,...e},t)}sendException(r,e,t){this.reporter.sendTelemetryException(r,{...this.sharedProperties,...e},t)}setSharedProperty(r,e){this.sharedProperties[r]=e}reportWorkbenchLoadResult(r){const e="_codespaces.webeditor.connectWorkspace";l.env.appHost==="github.dev"&&(O.debug(`Executing ${e}`),r={...r,errorDetail:r.errorDetail instanceof Error?r.errorDetail.name:void 0},l.commands.executeCommand(e,r).then(t=>{},t=>{O.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let Ht=yt;Ht.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function tr(r,e){const t=l.l10n.t("Report Issue"),n=l.l10n.t("Reload");l.window.showErrorMessage(l.l10n.t("The {0} extension failed to activate.",r.extension.packageJSON.displayName),{modal:!0,detail:l.l10n.t("Please try reloading the window, or report an issue.")},n,t).then(i=>{i===t?l.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:r.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===n&&l.commands.executeCommand("workbench.action.reloadWindow")})}a(tr,"handleExtensionActivationError");let Sr;var Cr;(function(r){function e(t){const n=xi(t);return Sr=l.env.uiKind===l.UIKind.Web,O.warn(`Running on the ${Sr?"web":"desktop"}${t.extensionRuntime!==l.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${n}; storageUri=${t.globalStorageUri.toString(!0)}`),n}a(e,"configure"),r.configure=e})(Cr||(Cr={}));const Gr=/\/workspaceStorage\/(?<id>[^/]+)/i;function xi(r){var e;if(r.storageUri===void 0)return"";const t=Gr.exec(r.storageUri.path);let n;if((e=t==null?void 0:t.groups)==null?void 0:e.id)n=t.groups.id;else{n=r.storageUri.path;const i=Nr(r.globalStorageUri.path,n),o=`/${r.extension.id}`;n.endsWith(o)?n=n.slice(i,-o.length):n=n.substr(i)}return/-[0-9]$/.test(n)?n.slice(0,-2):n}a(xi,"getWorkspaceId");function ea(r,e){return r.reduce((n,i)=>{const o=e(i),s=n.get(o);return s===void 0?n.set(o,[i]):s.push(i),n},new Map)}a(ea,"groupBy");function Yi(r){let e=0;for(const t of r){if(t===0)return!0;if(e++,e>8e3)break}return!1}a(Yi,"isBinary");function ln(r,e,t=n=>n){return[...r.reduce((i,o)=>{const s=e(o),u=i.get(s);if(u===void 0)i.set(s,o);else{const c=t(u,o);c!==void 0&&i.set(s,c)}return i},new Map).values()]}a(ln,"uniqueBy");const gi=a(class{constructor(r,e,t,n,i){this.providerService=r,this.storageService=e,this.changeStore=t,this.workspaceId=n,this.context=i,this._onDidChange=new l.EventEmitter,this.cache=new Map,this.lock=new hr("WorkspaceRepositories"),this.disposable=l.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Oe.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const r=await l.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void l.window.showTextDocument(r)}onConfigurationChanged(r){if(!Oe.changed(r,"experimental.syncRecentList"))return;const e=Oe.get("experimental.syncRecentList")===!0?[gi.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(r){const e=ln(r.map(t=>t.rootUri),t=>b(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(r){this.addOrUpdate(r.added)}onRepositoryChanged(r){this.addOrUpdate([r.repository])}async get(r){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((n,i)=>i.timestamp-n.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(r){const t=b(r);e=e.filter(n=>b(n.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(gi.storageKey))}async getRecents(r=10){return(await this.get()).slice(0,r)}async getRemoteWorkspaceSourceProvider(r){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===r)}refresh(){this.cache.clear()}async remove(r){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${r.workspaceId}/${b(r.uri)}`,n=e.get(t);if(n===void 0)return;const i=this.changeStore.getScopedChangeStore(n),o=await i.getChanges(n.uri);if(o.length!==0){const s={title:l.l10n.t("Yes")},u={title:l.l10n.t("No"),isCloseAffordance:!0};if(await l.window.showWarningMessage(o.length===1?l.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):l.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,o.length),{modal:!0},s,u)!==s)return;await i.discardAll(n.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(gi.storageKey,this.toStorage(e))}catch(s){throw O.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(r){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of r){const[{HEAD:n,pullRequest:i},o]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),s=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${b(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:n.type,name:n.name},idx:(o==null?void 0:o.type)&&ie.hasIndex(o.type)?{type:o.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:pa(s),timestamp:Date.now()})}try{await this.storageService.store(gi.storageKey,this.toStorage(e))}catch(t){throw O.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(r){if(!r)return new Map;try{const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&A(n)?l.Uri.from(n):n);return new Map(e.workspaceRepositories)}catch(e){return O.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(r){const e={schemaVersion:gi.storageSchemaVersion,workspaceRepositories:[...r]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Bi=gi;Bi.storageKey="workspaceRepositories",Bi.storageSchemaVersion=1;function ga(r){return r!==void 0&&(r.added!==0||r.changed!==0||r.deleted!==0)}a(ga,"hasChanges");function Bs(r){return ga(r.changes)}a(Bs,"hasUncommittedChanges");function pa(r){let e=0,t=0,n=0;for(const i of r)switch(i.type){case j.Created:e++;break;case j.Changed:t++;break;case j.Deleted:n++;break}return e||t||n?{added:e,changed:t,deleted:n,timestamp:Date.now()}:void 0}a(pa,"toChangesSummary");function oo(r,e,{compact:t=!0,preamble:n,separator:i=", ",short:o=!1,single:s=!1}={}){if(!ga(e))return r===HeadType.Branch||r===HeadType.RemoteBranch?l10n.t("Everything up to date"):l10n.t("No uncommitted changes");const{added:u,changed:c,deleted:f}=e;if(s){const T=u+c+f;return T===1?l10n.t("{0} change",T):l10n.t("{0} changes",T)}let g=`${n!=null?n:""}`;return(u||!t)&&(g+=o?`+${u}`:u===1?l10n.t("{0} file added",u):l10n.t("{0} files added",u),(c||f||!t)&&(g+=i)),(c||!t)&&(g+=o?`~${c}`:c===1?l10n.t("{0} file changed",c):l10n.t("{0} files changed",c),(f||!t)&&(g+=i)),(f||!t)&&(g+=o?`-${f}`:f===1?l10n.t("{0} file deleted",f):l10n.t("{0} files deleted",f)),g}a(oo,"formatChangesSummary");var ba=__webpack_require__(6470);const ta=globalThis.fetch;async function Ba(r,e,t){const n=new AbortController;t.onCancellationRequested(()=>n.abort());try{return await globalThis.fetch(r,{...e,signal:n.signal})}catch(i){throw t.isCancellationRequested?new l.CancellationError:i}}a(Ba,"fetchWithCancellation");async function va(r,e,t,n,i){if(t===0)throw new l.CancellationError;const o=new l.CancellationTokenSource;n.onCancellationRequested(()=>o.cancel());try{const s=await Ba(r,e,o.token);if(s.body){const u=[];let c=0;const f=s.body.getReader();let g=3;for(;;){let{done:T,value:R}=await f.read();if(T){const oe=u.reduce((Te,Le)=>Te+Le.length,0),se=new Uint8Array(oe);let Ee=0;for(const Te of u)se.set(Te,Ee),Ee+=Te.length;return se}R&&(u.push(R),c+=R.length);const H=Math.floor(c/(1024*1024));if(g<H){g=H;const oe={message:H+" MB"};i.report(oe)}if(t!==void 0&&c>t)throw f.cancel(),o.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw n.isCancellationRequested?new l.CancellationError:s}throw new l.CancellationError}a(va,"fetchUInt8ArrayWithMaxSizeAndCancellation");var ma=__webpack_require__(4155);function ra(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof ma=="object"&&"version"in ma?`Node.js/${ma.version.substr(1)} (${ma.platform}; ${ma.arch})`:"<environment undetectable>"}a(ra,"getUserAgent");var cn=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Rn(r){return Object.prototype.toString.call(r)==="[object Object]"}a(Rn,"isObject");function $a(r){var e,t;return Rn(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(Rn(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}a($a,"isPlainObject");function bn(r){return r?Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=r[t],e),{}):{}}a(bn,"lowercaseKeys");function so(r,e){const t=Object.assign({},r);return Object.keys(e).forEach(n=>{$a(e[n])?n in r?t[n]=so(r[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}a(so,"mergeDeep");function Ii(r){for(const e in r)r[e]===void 0&&delete r[e];return r}a(Ii,"removeUndefinedProperties");function Fi(r,e,t){if(typeof e=="string"){let[i,o]=e.split(" ");t=Object.assign(o?{method:i,url:o}:{url:i},t)}else t=Object.assign({},e);t.headers=bn(t.headers),Ii(t),Ii(t.headers);const n=so(r||{},t);return r&&r.mediaType.previews.length&&(n.mediaType.previews=r.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}a(Fi,"dist_web_merge");function qi(r,e){const t=/\?/.test(r)?"&":"?",n=Object.keys(e);return n.length===0?r:r+t+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}a(qi,"addQueryParameters");const Vi=/\{[^}]+\}/g;function Qo(r){return r.replace(/^\W+|\W+$/g,"").split(/,/)}a(Qo,"removeNonChars");function Jo(r){const e=r.match(Vi);return e?e.map(Qo).reduce((t,n)=>t.concat(n),[]):[]}a(Jo,"extractUrlVariableNames");function Ha(r,e){return Object.keys(r).filter(t=>!e.includes(t)).reduce((t,n)=>(t[n]=r[n],t),{})}a(Ha,"omit");function uo(r){return r.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}a(uo,"encodeReserved");function na(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}a(na,"encodeUnreserved");function ya(r,e,t){return e=r==="+"||r==="#"?uo(e):na(e),t?na(t)+"="+e:e}a(ya,"encodeValue");function ia(r){return r!=null}a(ia,"isDefined");function Wa(r){return r===";"||r==="&"||r==="?"}a(Wa,"isKeyOperator");function lo(r,e,t,n){var i=r[t],o=[];if(ia(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),o.push(ya(e,i,Wa(e)?t:""));else if(n==="*")Array.isArray(i)?i.filter(ia).forEach(function(s){o.push(ya(e,s,Wa(e)?t:""))}):Object.keys(i).forEach(function(s){ia(i[s])&&o.push(ya(e,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(ia).forEach(function(u){s.push(ya(e,u))}):Object.keys(i).forEach(function(u){ia(i[u])&&(s.push(na(u)),s.push(ya(e,i[u].toString())))}),Wa(e)?o.push(na(t)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else e===";"?ia(i)&&o.push(na(t)):i===""&&(e==="&"||e==="?")?o.push(na(t)+"="):i===""&&o.push("");return o}a(lo,"getValues");function Zo(r){return{expand:co.bind(null,r)}}a(Zo,"parseUrl");function co(r,e){var t=["+","#",".","/",";","?","&"];return r.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,o){if(i){let u="";const c=[];if(t.indexOf(i.charAt(0))!==-1&&(u=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(f){var g=/([^:\*]*)(?::(\d+)|(\*))?/.exec(f);c.push(lo(e,u,g[1],g[2]||g[3]))}),u&&u!=="+"){var s=",";return u==="?"?s="&":u!=="#"&&(s=u),(c.length!==0?u:"")+c.join(s)}else return c.join(",")}else return uo(o)})}a(co,"expand");function fo(r){let e=r.method.toUpperCase(),t=(r.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},r.headers),i,o=Ha(r,["method","baseUrl","url","headers","request","mediaType"]);const s=Jo(t);t=Zo(t).expand(o),/^http/.test(t)||(t=r.baseUrl+t);const u=Object.keys(r).filter(g=>s.includes(g)).concat("baseUrl"),c=Ha(o,u);if(!/application\/octet-stream/i.test(n.accept)&&(r.mediaType.format&&(n.accept=n.accept.split(/,/).map(g=>g.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${r.mediaType.format}`)).join(",")),r.mediaType.previews.length)){const g=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=g.concat(r.mediaType.previews).map(T=>{const R=r.mediaType.format?`.${r.mediaType.format}`:"+json";return`application/vnd.github.${T}-preview${R}`}).join(",")}return["GET","HEAD"].includes(e)?t=qi(t,c):"data"in c?i=c.data:Object.keys(c).length?i=c:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:t,headers:n},typeof i!="undefined"?{body:i}:null,r.request?{request:r.request}:null)}a(fo,"parse");function Xo(r,e,t){return fo(Fi(r,e,t))}a(Xo,"endpointWithDefaults");function ho(r,e){const t=Fi(r,e),n=Xo.bind(null,t);return Object.assign(n,{DEFAULTS:t,defaults:ho.bind(null,t),merge:Fi.bind(null,t),parse:fo})}a(ho,"withDefaults");const es=`octokit-endpoint.js/6.0.12 ${ra()}`,ts=ho(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":es},mediaType:{format:"",previews:[]}});var Pi=__webpack_require__(3300),rs=__webpack_require__.n(Pi);class aa extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}a(aa,"Deprecation");var go=__webpack_require__(447),po=__webpack_require__.n(go);const vo=po()(r=>console.warn(r)),ns=po()(r=>console.warn(r));class Ci extends Error{constructor(e,t,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return vo(new aa("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),Object.defineProperty(this,"headers",{get(){return ns(new aa("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}a(Ci,"RequestError");const mo="5.6.3";function Ws(r){return r.arrayBuffer()}a(Ws,"getBufferResponse");function za(r){const e=r.request&&r.request.log?r.request.log:console;($a(r.body)||Array.isArray(r.body))&&(r.body=JSON.stringify(r.body));let t={},n,i;return(r.request&&r.request.fetch||rs())(r.url,Object.assign({method:r.method,body:r.body,headers:r.headers,redirect:r.redirect},r.request)).then(async s=>{i=s.url,n=s.status;for(const u of s.headers)t[u[0]]=u[1];if("deprecation"in t){const u=t.link&&t.link.match(/<([^>]+)>; rel="deprecation"/),c=u&&u.pop();e.warn(`[@octokit/request] "${r.method} ${r.url}" is deprecated. It is scheduled to be removed on ${t.sunset}${c?`. See ${c}`:""}`)}if(!(n===204||n===205)){if(r.method==="HEAD"){if(n<400)return;throw new Ci(s.statusText,n,{response:{url:i,status:n,headers:t,data:void 0},request:r})}if(n===304)throw new Ci("Not modified",n,{response:{url:i,status:n,headers:t,data:await _a(s)},request:r});if(n>=400){const u=await _a(s);throw new Ci(ja(u),n,{response:{url:i,status:n,headers:t,data:u},request:r})}return _a(s)}}).then(s=>({status:n,url:i,headers:t,data:s})).catch(s=>{throw s instanceof Ci?s:new Ci(s.message,500,{request:r})})}a(za,"fetchWrapper");async function _a(r){const e=r.headers.get("content-type");return/application\/json/.test(e)?r.json():!e||/^text\/|charset=utf-8$/.test(e)?r.text():Ws(r)}a(_a,"getResponseData");function ja(r){return typeof r=="string"?r:"message"in r?Array.isArray(r.errors)?`${r.message}: ${r.errors.map(JSON.stringify).join(", ")}`:r.message:`Unknown error: ${JSON.stringify(r)}`}a(ja,"toErrorMessage");function oa(r,e){const t=r.defaults(e);return Object.assign(a(function(i,o){const s=t.merge(i,o);if(!s.request||!s.request.hook)return za(t.parse(s));const u=a((c,f)=>za(t.parse(t.merge(c,f))),"request");return Object.assign(u,{endpoint:t,defaults:oa.bind(null,t)}),s.request.hook(u,s)},"newApi"),{endpoint:t,defaults:oa.bind(null,t)})}a(oa,"dist_web_withDefaults");const xa=oa(ts,{headers:{"user-agent":`octokit-request.js/${mo} ${ra()}`}}),is="4.8.0";function as(r){return`Request failed due to following response errors:
`+r.errors.map(e=>` - ${e.message}`).join(`
`)}a(as,"_buildMessageForResponseErrors");class N extends Error{constructor(e,t,n){super(as(n));this.request=e,this.headers=t,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}a(N,"GraphqlResponseError");const C=["method","baseUrl","url","headers","request","query","mediaType"],k=["query","method","url"],q=/\/api\/v3\/?$/;function ge(r,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in t)if(!!k.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},t):e,i=Object.keys(n).reduce((s,u)=>C.includes(u)?(s[u]=n[u],s):(s.variables||(s.variables={}),s.variables[u]=n[u],s),{}),o=n.baseUrl||r.endpoint.DEFAULTS.baseUrl;return q.test(o)&&(i.url=o.replace(q,"/api/graphql")),r(i).then(s=>{if(s.data.errors){const u={};for(const c of Object.keys(s.headers))u[c]=s.headers[c];throw new N(i,u,s.data)}return s.data.data})}a(ge,"graphql");function Ie(r,e){const t=r.defaults(e);return Object.assign(a((i,o)=>ge(t,i,o),"newApi"),{defaults:Ie.bind(null,t),endpoint:xa.endpoint})}a(Ie,"graphql_dist_web_withDefaults");const Ke=Ie(xa,{headers:{"user-agent":`octokit-graphql.js/${is} ${ra()}`},method:"POST",url:"/graphql"});function tt(r){return Ie(r,{method:"POST",url:"/graphql"})}a(tt,"withCustomRequest");const Dt=/^v1\./,bt=/^ghs_/,jt=/^ghu_/;async function cr(r){const e=r.split(/\./).length===3,t=Dt.test(r)||bt.test(r),n=jt.test(r);return{type:"token",token:r,tokenType:e?"app":t?"installation":n?"user-to-server":"oauth"}}a(cr,"auth");function qr(r){return r.split(/\./).length===3?`bearer ${r}`:`token ${r}`}a(qr,"withAuthorizationPrefix");async function fr(r,e,t,n){const i=e.endpoint.merge(t,n);return i.headers.authorization=qr(r),e(i)}a(fr,"hook");const Or=a(function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(cr.bind(null,e),{hook:fr.bind(null,e)})},"createTokenAuth"),xn="3.5.1";class je{constructor(e={}){const t=new cn.Collection,n={baseUrl:xa.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${xn} ${ra()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=xa.defaults(n),this.graphql=tt(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){const{authStrategy:o,...s}=e,u=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},e.auth));t.wrap("request",u.hook),this.auth=u}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=Or(e.auth);t.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}static defaults(e){return a(class extends this{constructor(...n){const i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...e){var t;const n=this.plugins;return t=a(class extends this{},"_a"),t.plugins=n.concat(e.filter(o=>!n.includes(o))),t}}a(je,"Octokit"),je.VERSION=xn,je.plugins=[];var fn;(function(r){r[r.Force=0]="Force",r[r.ForceWithLease=1]="ForceWithLease"})(fn||(fn={}));var Pr;(function(r){r[r.Head=0]="Head",r[r.RemoteHead=1]="RemoteHead",r[r.Tag=2]="Tag"})(Pr||(Pr={}));var pn;(function(r){r[r.INDEX_MODIFIED=0]="INDEX_MODIFIED",r[r.INDEX_ADDED=1]="INDEX_ADDED",r[r.INDEX_DELETED=2]="INDEX_DELETED",r[r.INDEX_RENAMED=3]="INDEX_RENAMED",r[r.INDEX_COPIED=4]="INDEX_COPIED",r[r.MODIFIED=5]="MODIFIED",r[r.DELETED=6]="DELETED",r[r.UNTRACKED=7]="UNTRACKED",r[r.IGNORED=8]="IGNORED",r[r.INTENT_TO_ADD=9]="INTENT_TO_ADD",r[r.ADDED_BY_US=10]="ADDED_BY_US",r[r.ADDED_BY_THEM=11]="ADDED_BY_THEM",r[r.DELETED_BY_US=12]="DELETED_BY_US",r[r.DELETED_BY_THEM=13]="DELETED_BY_THEM",r[r.BOTH_ADDED=14]="BOTH_ADDED",r[r.BOTH_DELETED=15]="BOTH_DELETED",r[r.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(pn||(pn={}));var Cn;(function(r){r.BadConfigFile="BadConfigFile",r.AuthenticationFailed="AuthenticationFailed",r.NoUserNameConfigured="NoUserNameConfigured",r.NoUserEmailConfigured="NoUserEmailConfigured",r.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",r.NotAGitRepository="NotAGitRepository",r.NotAtRepositoryRoot="NotAtRepositoryRoot",r.Conflict="Conflict",r.StashConflict="StashConflict",r.UnmergedChanges="UnmergedChanges",r.PushRejected="PushRejected",r.RemoteConnectionError="RemoteConnectionError",r.DirtyWorkTree="DirtyWorkTree",r.CantOpenResource="CantOpenResource",r.GitNotFound="GitNotFound",r.CantCreatePipe="CantCreatePipe",r.PermissionDenied="PermissionDenied",r.CantAccessRemote="CantAccessRemote",r.RepositoryNotFound="RepositoryNotFound",r.RepositoryIsLocked="RepositoryIsLocked",r.BranchNotFullyMerged="BranchNotFullyMerged",r.NoRemoteReference="NoRemoteReference",r.InvalidBranchName="InvalidBranchName",r.BranchAlreadyExists="BranchAlreadyExists",r.NoLocalChanges="NoLocalChanges",r.NoStashFound="NoStashFound",r.LocalChangesOverwritten="LocalChangesOverwritten",r.NoUpstreamBranch="NoUpstreamBranch",r.IsInSubmodule="IsInSubmodule",r.WrongCase="WrongCase",r.CantLockRef="CantLockRef",r.CantRebaseMultipleBranches="CantRebaseMultipleBranches",r.PatchDoesNotApply="PatchDoesNotApply",r.NoPathFound="NoPathFound",r.UnknownPath="UnknownPath"})(Cn||(Cn={}));var Qi=__webpack_require__(919),wa=__webpack_require__.n(Qi);class sa{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var t;const n=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const o of n){const s=(t=o.attrs)!=null?t:{};for(const u of Object.keys(s))i[u]=s[u]}return i}rulesForPath(e){const t=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const n of this.rules){if(!n.pattern)continue;const i=n.pattern[0]==="/"?`${n.pattern}`:`**/${n.pattern}`;wa().isMatch(e,i)&&t.push(n)}return t}parse(e,t=!1,n=!1){const i=e.split(/\r\n|\r|\n/g);for(const o of i){const s=this.parseRule(o,t,n);s&&this.rules.push(s)}}parseRule(e,t=!1,n=!1){if(e=e.trim(),!e)return n?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return t?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,o;if(e[0]==='"'){const s=/^"(?:[^"\\]|\\.)*"/.exec(e);if(s){try{i=JSON.parse(s[0])}catch(u){i=i.replace(/\\(.)/g,"\\1")}o=e.substr(s[0].length+1).trim()}else i=s==null?void 0:s[0],o=void 0}else{const s=/\s+/g.exec(e);i=s?e.substr(0,s.index):e,o=s?e.substr(s.index+s[0].length):void 0}return{pattern:i,attrs:o?this.parseAttributes(o):{},comment:void 0}}parseAttributes(e){const t={};for(const n of e.split(/\s+/g)){if(n==="=")continue;let i=n,o;if(n.startsWith("-"))i=n.substr(1),o=!1;else if(n.includes("=")){const s=n.indexOf("=");i=n.substr(0,s),o=n.substr(s+1)}else o=!0;t[i]=o,i==="binary"&&o?t.diff=!1:i==="crlf"&&o===!0?t.text=!0:i==="crlf"&&o===!1?t.text=!1:i==="crlf"&&o==="input"&&(t.eol="lf")}return t}}a(sa,"GitAttributes");function*Ca(r,e){for(const t of r)yield*e(t)}a(Ca,"flatMap");function*zs(r,e){for(const t of r)e(t)&&(yield t)}a(zs,"filter");function*Ta(r,e){for(const t of r){const n=e(t);n!=null&&(yield n)}}a(Ta,"filterMap");function yo(r,e){for(const t of r)if(e(t))return t}a(yo,"find");function _o(r,e){let t="";const n=r[Symbol.iterator]();let i=n.next();if(i.done)return t;for(;;){const o=i.value.toString();if(i=n.next(),i.done){t+=o;break}t+=o,t+=e}return t}a(_o,"join");function*Da(r,e){for(const t of r)yield e(t)}a(Da,"map");function js(r,e){for(const t of r)if(e(t))return!0;return!1}a(js,"some");function*Ka(...r){for(const e of r)for(const t of e)yield t}a(Ka,"union");function*wo(r){const e=new Set;for(const t of r)e.has(t)||(e.add(t),yield t)}a(wo,"unique");class Aa{constructor(e,t){this.path=e,this.relativePath=t}}a(Aa,"TrieNode");class Ra{constructor(){this.root=new Aa("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return;n=o}return n.path===e?n.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;if(e)for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return[];n=o}return n.children===void 0?[]:[...n.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;const i=[];if(e)for(const o of e.split("/")){const s=(t=n.children)==null?void 0:t.get(o);if(s===void 0)return i;n=s}if(n.children!==void 0){let o=a(function(s,u,c){for(const f of s.values()){const g=`${u?`${u}/`:""}${f.relativePath}`;f.data&&c.push([g,f.data]),f.children!==void 0&&o(f.children,g,c)}},"getDescendantsCore");o(n.children,"",i)}return i}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return!1;n=o}return n.path===e}set(e,t){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,o="";for(const s of e.split("/")){let u=(n=i.children)==null?void 0:n.get(s);o=`${o?`${o}/`:""}${s}`,u===void 0&&(i.children===void 0&&(i.children=new Map),u=new Aa(o,s),i.children.set(s,u)),i=u}i.data=t}}a(Ra,"Trie");var Eo=__webpack_require__(5431),Ia=__webpack_require__.n(Eo);class Ga{constructor(e,t,n,i,o){if(this.rootUri=e,this.sha=t,this.timestamp=n,this.provider=i,this.trie=new Ra,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(u=>{(!u||b(u.rootUri)===b(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0)})),this._loading=this.load(o==null?void 0:o.path,o==null?void 0:o.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var c;return void((c=i.tryCachingContent)==null?void 0:c.call(i,this.trie.get.bind(this.trie)).then(f=>this._isContentCached=f,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(o==null?void 0:o.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=l.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:l.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let n=this.trie.get(e);return n!==void 0||(await this.ensureLoaded(e),n=this.trie.get(e)),n}async getChildren(e,t){await this.ensureLoaded(e,!0);const n=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?n:n.filter(([,i])=>i.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(t)i=this.preloading.get(e);else{const o=yo(this.preloading,([s])=>e.startsWith(s)&&e.lastIndexOf("/")===(s?s.length:-1));i=o==null?void 0:o[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let n=this.trie.get(e);if(n)return t&&(n==null?void 0:n.loadChildren)?n.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),n=this.trie.get(e),t&&(n==null?void 0:n.loadChildren))return n.loadChildren()}async load(e,t=!1){var n;if(((n=this.provider)==null?void 0:n.getTree)===void 0)return;const i=new X(`FileTree.load(${this.sha}:${e})`);let o;try{i.logStep("Tree query");const s=await this.provider.getTree(e,t);if(s.truncated){O.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[c,f]of this.trie.getDescendants(""))f.stat.type===l.FileType.Directory&&(f.loadChildren=Ia()(()=>this.load(c).then(()=>f.loadChildren=void 0)));return o=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:c,item:f}of s.tree)if(c!==void 0){switch(c=e?`${e}/${c}`:c,f.stat.permissions=u,f.stat.type){case l.FileType.File:f.getContent=Ia()(()=>this.provider.getContent(f,c));break;case l.FileType.Directory:t||(f.loadChildren=Ia()(()=>this.load(c).then(()=>f.loadChildren=void 0)));break}this.trie.set(c,f)}return o=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:t,success:!0}}catch(s){return o=`\u2022 Loading for path=${e} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(o?{suffix:o}:void 0)}}}a(Ga,"FileTree");const os=new TextDecoder,ss=new TextEncoder;function Ya(r){const e=os.decode(r).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const t={};for(const u of e){const[c,f]=u.split(" ");t[c]=f}if(!("oid"in t)||!("version"in t)||!("size"in t))return{oid:void 0,size:void 0,version:void 0};let{oid:n,size:i,version:o}=t;const s="sha256:";return n.startsWith(s)&&(n=n.substring(s.length)),{oid:n,size:Number(i),version:o}}a(Ya,"parseLfsFile");function Be(r,e){const t=r.getAttributesFor(e);return(t==null?void 0:t.filter)==="lfs"}a(Be,"isLfsTrackedFile");function At(r,e,t="https://git-lfs.github.com/spec/v1"){return _n(ss.encode(`version ${t}
oid sha256:${r}
size ${e.toString()}
`))}a(At,"createLfsPointerFile");async function Lt(r){const e=await Qt(r),t=r.byteLength;return{oid:e,size:t}}a(Lt,"getLfsOperation");var or=__webpack_require__(7769);const Tr="github-pr-owner-number";function $r(r){return`branch.${r}.${Tr}`}a($r,"getMetadataKeyForBranch");const Br=new TextDecoder;class Pn{constructor(e,t,n,i,o,s){this.providerService=e,this.rootUri=t,this.sourceControl=n,this.metadata=i,this.changeStore=o,this.github=s,this._onDidChangeSelection=new l.EventEmitter,this._onDidChangeState=new l.EventEmitter,this._objects=new Map,this.disposable=l.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(u=>{const c=b(this.rootUri);!u.some(f=>b(f)===c)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:u})=>{b(this.rootUri)===b(u.uri)&&this.updateState(await u.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return n.inputBox.value},set value(u){n.inputBox.value=u}},this._ui={get selected(){return n.selected},onDidChange:this._onDidChangeSelection.event},this.remote={name:"origin",fetchUrl:`${this.github.getRemoteUri({repo:i.repo}).toString()}.git`,isReadOnly:i.accessLevel<te.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(e){switch(e.HEAD.type){case Z.Branch:return{type:Pr.Head,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:this.remote.name}};case Z.RemoteBranch:{const t=e.HEAD.branch.remote.repo.owner,n=e.HEAD.branch.remote.accessLevel<te.Write,i=this.remotes.findIndex(s=>s.name===t),o=`${this.github.getRemoteUri({repo:e.HEAD.branch.remote.repo}).toString()}.git`;return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:t,fetchUrl:o,pushUrl:n?void 0:o,isReadOnly:n}),{type:Pr.RemoteHead,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:e.HEAD.branch.remote.repo.owner}}}case Z.Tag:return{type:Pr.Tag,name:e.HEAD.detached.name,commit:e.HEAD.sha};case Z.Commit:return{type:Pr.Head,commit:e.HEAD.sha}}}async updateState(e){this.metadata=e;const t=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:u=>u.fileType===l.FileType.File}),n=t.conflicts.map(u=>({uri:u.uri,status:Qn(u.type),originalUri:u.uri,renameUri:u.uri})),i=t.staged.map(u=>({uri:u.uri,status:Qn(u.type),originalUri:u.uri,renameUri:u.uri})),o=t.working.map(u=>({uri:u.uri,status:Qn(u.type),originalUri:u.uri,renameUri:u.uri})),s=Oe.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(e),mergeChanges:n,indexChanges:s?i:[],workingTreeChanges:s?o:[...i,...o]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(e){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&e===$r(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(e,t){return Promise.resolve("")}getGlobalConfig(e){throw new Error("Method not implemented.")}async getObjectDetails(e,t){const n=new X(`IGit.getObjectDetails(${e}, ${t})`);try{return await this.github.getObjectDetails(this.rootUri,e,this.pathToRelativePath(t))}finally{n.stop()}}async detectObjectType(e){var t;const n=new X(`IGit.detectObjectType(${e})`);try{const i=await this.github.getBlobContent(this.metadata.repo,e);if(!Yi(i))return{mimetype:"text/plain"};const s=await(0,or.fromBuffer)(i);return{mimetype:(t=s==null?void 0:s.mime)!=null?t:"application/octet-stream"}}finally{n.stop()}}async buffer(e,t){const n=new X(`IGit.buffer(${e}, ${t})`);try{return await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(t))}finally{n.stop()}}async show(e,t){const n=new X(`IGit.show(${e}, ${t})`);try{const i=await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(t));return Br.decode(i)}finally{n.stop()}}async getCommit(e){const t=new X(`IGit.getCommit(${e})`);try{const n=await this.github.getCommit(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find commit for ref "${e}"`);return n}finally{t.stop()}}clean(e){return this._objects.clear(),Promise.resolve()}async apply(e,t){const n=new X(`IGit.apply(reverse=${t})`);try{return await this.changeStore.applyPatch(this.rootUri,e,t?{reverse:!0}:void 0)}finally{n.stop()}}async diff(e){const t=new X(`IGit.diff(${e})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,e?{staged:!0}:void 0)}finally{t.stop()}}diffWithHEAD(e){return e?this.diffBetween("","HEAD",e):this.diffBetween("","HEAD")}diffWith(e,t){return t?this.diffBetween("",e,t):this.diffBetween("",e)}diffIndexWithHEAD(e){return e?this.diffBetween("~","HEAD",e):this.diffBetween("~","HEAD")}diffIndexWith(e,t){return t?this.diffBetween("~",e,t):this.diffBetween("~",e)}async diffBetween(e,t,n){if(!n)throw new Error("Method not implemented.");const i=new X(`IGit.diffBetween(${e}, ${t}, ${n})`);try{const o=[];for(const c of[e,t])try{o.push(await this.getContent(c,n))}catch(f){o.push(void 0)}const[s,u]=o;if(s===void 0&&u!==void 0)return Wt(n,"",u,"add");if(s!==void 0&&u===void 0)return Wt(n,s,"","delete");if(s!==void 0&&u!==void 0)return Wt(n,s,u,"modify");throw l.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(e,t){const n=new X(`IGit.diffBlobs(${e}, ${t})`);try{const i=await this.getBlobContent(e),o=await this.getBlobContent(t),s=nr("untitled",i,o);return Promise.resolve(s)}finally{n.stop()}}async getBlobContent(e){const t=new X(`IGit.getBlobContent(${e})`);try{const n=this._objects.get(e);if(n)return this._objects.delete(e),n;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),o=await this.github.getBlobContent(i,e);return Br.decode(o)}finally{t.stop()}}async getContent(e,t){const n=new X(`IGit.getContent(${e}, ${t})`);try{const i=this.pathToRelativeUri(t);if(e===""||e==="~"){const o=await this.changeStore.getChange(i);if(o!==void 0&&(e===""||o.staged))return this.changeStore.getContent(i);e="HEAD"}return await this.show(e==="HEAD"?this.metadata.HEAD.sha:e,t)}finally{n.stop()}}async hashObject(e){const t=new X("IGit.hashObject");try{const n=w(await lr(e));return this._objects.set(n,e),n}finally{t.stop()}}async createBranch(e,t,n){const i=new X(`IGit.createBranch(${e}, ${t}, ${n})`);try{n||(n=this.metadata.HEAD.sha);const o=await this.github.createBranch(this.rootUri,e,n);t&&await this.checkout(o)}finally{i.stop()}}deleteBranch(e,t){throw new Error("Method not implemented.")}async getBranch(e){const t=new X(`IGit.getBranch(${e})`);try{const n=await this.github.getBranch(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find branch named "${e}"`);return{type:n.type,name:n.name,commit:n.commit,remote:this.remote.name,upstream:{name:n.name,remote:this.remote.name}}}finally{t.stop()}}async getBranches(e){var t,n;const i=(n=(t=e.contains)!=null?t:e.pattern)!=null?n:"",o=new X(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:e.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(u=>({type:u.type,name:u.name,commit:u.commit}))}finally{o.stop()}}setBranchUpstream(e,t){throw new Error("Method not implemented.")}getMergeBase(e,t){throw new Error("Method not implemented.")}async status(){}async checkout(e){const t=new X(`IGit.checkout(${e})`);try{if(await this.github.repositoryObjectExists(this.rootUri,e)){const i=await this.github.switchTo(this.rootUri,e,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const n=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(e);if(n==null?void 0:n.groups){const{num:i}=n.groups,{provider:o,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),u=this.providerService.getRemoteUri(o.id,{repo:s,pullRequest:{id:i}});if(u!==void 0){const c=await this.providerService.createWorkspaceForRemoteUrl(u.toString());c!==void 0&&await this.providerService.openWorkspace(c)}}throw new Error("User aborted")}finally{t.stop()}}addRemote(e,t){var n;let i;const o=this.remotes.findIndex(s=>s.name===e);return o!==-1&&([i]=this.remotes.splice(o,1)),this.remotes.push({name:e,fetchUrl:t,isReadOnly:(n=i==null?void 0:i.isReadOnly)!=null?n:!1}),Promise.resolve()}removeRemote(e){const t=this.remotes.findIndex(n=>n.name===e);return t!==-1&&this.remotes.splice(t,1),Promise.resolve()}renameRemote(e,t){const n=this.remotes.findIndex(o=>o.name===e);if(n===-1)return Promise.resolve();const[i]=this.remotes.splice(n,1);return this.remotes.push({...i,name:t}),Promise.resolve()}async fetch(e,t,n){const i=new X("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(e){const t=new X("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:he.Merge})}finally{t.stop()}}push(e,t,n){return Promise.resolve()}blame(e){throw new Error("Method not implemented.")}async log(e){var t;const n=(e==null?void 0:e.path)?this.pathToRelativePath(e.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:n,limit:e==null?void 0:e.maxEntries});return(t=i==null?void 0:i.commits)!=null?t:[]}async commit(e,t){const n=new X("IGit.commit");try{if((t==null?void 0:t.amend)!==void 0||(t==null?void 0:t.empty)!==void 0||(t==null?void 0:t.signCommit)!==void 0||(t==null?void 0:t.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(t==null?void 0:t.all)===!1})).filter(o=>o.fileType===l.FileType.File);if(!i.length){l.window.showInformationMessage(l.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,e,i,void 0,t),await this.changeStore.acceptAll(this.rootUri)}finally{n.stop()}}pathToRelativePath(e){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(e))}pathToRelativeUri(e){return M(this.rootUri,Bn(e))}}a(Pn,"GitHubRepository");const pi=/^\/?([a-zA-Z])(?::\/)(.*)$/,Un=/\\/g;function Bn(r){r=l.Uri.file(r).fsPath.replace(Un,"/");const e=pi.exec(r);return e!==null&&([,,r]=e),r.startsWith("/")?r:`/${r}`}a(Bn,"normalizePath");function Qn(r){switch(r){case j.Changed:return pn.MODIFIED;case j.Created:return pn.INTENT_TO_ADD;case j.Deleted:return pn.DELETED}}a(Qn,"opTypeToStatus");class Tn extends Error{constructor(e,t,n){super(e.message);this.original=e,this.name=t,this.id=n;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,Tn)}}a(Tn,"PullRequestNotFoundError");class Oi extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,Oi)}}a(Oi,"RepositoryForbiddenError");class qa extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,qa)}}a(qa,"RepositoryNotFoundError");class So extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,So)}}a(So,"RepositoryEmptyError");function Zu(r){if(!r)return"";let e=`L${r.start.line+1}`;return r.start.line!==r.end.line&&(e+=`-L${r.end.line+1}`),e}a(Zu,"rangeString");function Xu(r,e){if(r===void 0)return"";if(!e)return`C${r+1}`;let t=`C${r+1}:L${e.start.line+1}`;return e.start.line!==e.end.line&&(t+=`-L${e.end.line+1}`),t}a(Xu,"notebookCellRangeString");function Ks(r){var e;if(r.resourceUri.scheme==="vscode-notebook-cell"){const t=l.window.visibleNotebookEditors.find(o=>o.notebook.uri.fsPath===r.resourceUri.fsPath),n=t==null?void 0:t.notebook.getCells().find(o=>{var s;return o.document.uri.fragment===((s=r.resourceUri)==null?void 0:s.fragment)}),i=(e=n==null?void 0:n.index)!=null?e:t==null?void 0:t.selection.start;return Xu(i,r.selection)}return Zu(r.selection)}a(Ks,"getRangeSegment");var el=Object.defineProperty,tl=Object.getOwnPropertyDescriptor,$i=a((r,e,t,n)=>{for(var i=n>1?void 0:n?tl(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&el(e,t,i),i},"messages_decorateClass");class Ti{constructor(){this.hasShownStatus404Message=!1}showGitHubStatus500Message(){return l.window.showErrorMessage(l.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),l.l10n.t("OK")),Promise.resolve()}async showStatus401Message(e){if(!e)return void l.window.showErrorMessage(l.l10n.t("The provided credentials are either invalid or expired."),l.l10n.t("OK"));const t=l.l10n.t("Reauthenticate");await l.window.showErrorMessage(l.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus404Message(e,t,n){if(this.hasShownStatus404Message)return!0;this.hasShownStatus404Message=!0;const i=l.l10n.t("Load Latest"),o=await l.window.showErrorMessage(l.l10n.t("Could not open repository '{0}'.",e),{modal:!0,detail:l.l10n.t(`The last opened commit ({0}) no longer exists on the remote.

Do you want to load the latest repository contents from the remote instead? Your uncommitted changes for commit {0} will be preserved and should be reviewed before committing.`,x(t))},i);return n(o),o!==void 0}async showStatus403Message(e){if(!e)return void l.window.showErrorMessage(l.l10n.t("The provided credentials do not have the required access."),l.l10n.t("OK"));const t=l.l10n.t("Reauthenticate"),n=l.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await l.window.showErrorMessage(n,t)===t&&e()}async showRepositoryEmptyMessage(e){const t=l.l10n.t("Open Repository");await l.window.showErrorMessage(l.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),{modal:!0},t)===t&&l.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const n=l.l10n.t("Open Pull Request");await l.window.showErrorMessage(l.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),n)===n&&l.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){if(Yu(io.DoNotAlertForMissingPullRequestSourceBranch))return;const n=l.l10n.t("OK"),i=l.l10n.t("Don't Show Again");await l.window.showInformationMessage(l.l10n.t("You are viewing the merge commit for pull request {1} on repository {0} because the source branch was deleted.",e,t),n,i)===i&&qu(io.DoNotAlertForMissingPullRequestSourceBranch,!0)}async showRepositoryForbiddenMessage(e,t){const n=l.l10n.t("Open Repository"),i=l.l10n.t("Reauthenticate"),o=await l.window.showErrorMessage(l.l10n.t("We require additional permissions to access repository '{0}'. Would you like to reauthenticate or open another repository?",e),{modal:!0},n,i);o===n?l.commands.executeCommand("remoteHub.openRepository"):o===i&&t()}async showRepositoryNotFoundMessage(e,t,n){const i=l.l10n.t("Open Default Branch"),o=l.l10n.t("Open Repository"),s=t?[i,o]:[o],u=await l.window.showErrorMessage(t?l.l10n.t("Unable to find ref '{1}' in repository '{0}'. Would you like to open the default branch instead?",e,t):l.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),{modal:!0},...s);u===o?l.commands.executeCommand("remoteHub.openRepository"):u===i&&(n==null||n())}async showUnableToOpenRepositoryMessage(e){const t=l.l10n.t("Open Repository");await l.window.showErrorMessage(l.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),{modal:!0},t)===t&&l.commands.executeCommand("remoteHub.openRepository")}}a(Ti,"Messages"),$i([Bt(()=>"")],Ti.prototype,"showGitHubStatus500Message",1),$i([Bt(()=>"")],Ti.prototype,"showStatus401Message",1),$i([Bt(()=>"")],Ti.prototype,"showStatus404Message",1),$i([Bt(()=>"")],Ti.prototype,"showStatus403Message",1),$i([Bt()],Ti.prototype,"showRepositoryEmptyMessage",1),$i([Bt()],Ti.prototype,"showPullRequestNotFoundMessage",1),$i([Bt()],Ti.prototype,"showPullRequestHeadNotFoundMessage",1),$i([Bt()],Ti.prototype,"showRepositoryForbiddenMessage",1),$i([Bt()],Ti.prototype,"showRepositoryNotFoundMessage",1),$i([Bt()],Ti.prototype,"showUnableToOpenRepositoryMessage",1);const Jn=new Ti;var us=__webpack_require__(4155),rl=Object.defineProperty,nl=Object.getOwnPropertyDescriptor,Gs=a((r,e,t,n)=>{for(var i=n>1?void 0:n?nl(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&rl(e,t,i),i},"provider_decorateClass");const il=new TextDecoder;var ua;(function(r){r.repositoryRegex=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,r.sshRepositoryRegex=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i})(ua||(ua={}));const Ys=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,al=["repo","workflow"],bo=["repo","workflow","user:email","read:user"],xo=1,ls=Object.freeze({id:"github",name:"GitHub"});function Ea(r){const{scheme:e,metadata:t}=$.decodeAuthority(r,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:xo,ref:{type:_e.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:xo,ref:{type:_e.Tree,id:s.ref},idx:s.idx}}),[,n,i,...o]=ba.posix.normalize(r.path).split("/");return{scheme:e,provider:ls,name:`${n}/${i}`,repo:{owner:n,name:i},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}a(Ea,"getGitHubMetadata");function ol(r,e){const{repo:t}=e!=null?e:Ea(r);return r.with({path:`/${t.owner}/${t.name}`,query:"",fragment:""})}a(ol,"getGitHubRootUri");function cs(r,e,t){const{repo:{owner:n,name:i}}=r instanceof l.Uri?Ea(r):r;return l.Uri.parse(`github://${$.encodeAuthority("github",{v:xo,ref:{type:_e.Commit,id:e}})}/${n}/${i}/${t}`)}a(cs,"getGitHubRevisionUri");class qs{constructor(e){if(this.scopes=e,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!us.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=us.env.GITHUB_REMOTEHUB_TEST_PAT}}a(qs,"TestAuthenticationSession");const Vs="_remotehub.getTarballProxyEndpoints",sl="_workbench.getTarballProxyEndpoints";class Va{constructor(e,t){this.providerService=e,this.tarPit=t,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.gitAttributes=new Map,this.disposable=l.Disposable.from(e.onDidChangeRepository(n=>{n.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([n.repository.uri])}),e.onDidRefresh(n=>this.onRefreshOrRepositoryChanged(n))),Sr&&(this.tarballProxyEndpoint=this.getTarballProxyEndpoint()),us.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new qs(al))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(ls.id)]}getTarballProxyEndpoint(){return l.commands.getCommands().then(async e=>{const t=e.includes(Vs)?Vs:sl,n=await l.commands.executeCommand(t);return n==null?void 0:n["github.com"]})}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(e){e=e.filter(t=>$.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(e=!1,t="github"){const n=new X("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function i(){try{return e?await l.authentication.getSession(t,bo,{forceNewSession:e}):await l.authentication.getSession(t,bo,{createIfNone:!0})}catch(s){if(s instanceof Error&&s.message==="User did not consent to login.")throw new Error(l.l10n.t("Please sign into GitHub to access this repository's contents."));O.error(s);try{const u=await l.authentication.getSession(t,bo,{createIfNone:!1});if(u!==void 0)return u}catch{}return new Promise(u=>{async function c(){const g=await l.authentication.getSession(t,bo,{createIfNone:!0});g!==void 0&&u(g)}a(c,"getSession");const f=l.authentication.onDidChangeSessions(async g=>{g.provider.id===t&&(f.dispose(),await c())})})}}a(i,"waitUntilAuthenticated"),this._session=await i();const o=l.authentication.onDidChangeSessions(s=>{if(this._session===void 0){o.dispose();return}s.provider.id===t&&(this.clearAuthenticationSession(),o.dispose())})}return this._session}finally{n.stop()}}async getAuthentication(e){const t=await this.ensureAuthenticated();return{provider:ls,session:t,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${t.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(e){if(this._octokitDefaults===void 0){const n=await this.ensureAuthenticated();if(Sr){async function i(o,s){if(s.headers!==void 0){const{"user-agent":u,...c}=s.headers;u&&(s.headers=c)}return ta(o,s)}a(i,"fetchCore"),this._octokitDefaults=je.defaults({auth:`token ${n.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=je.defaults({auth:`token ${n.accessToken}`})}const t=new this._octokitDefaults(e);return(l.env.logLevel===l.LogLevel.Debug||O.isDebugging)&&t.hook.wrap("request",async(n,i)=>{var o;const s=new X(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await n(i)}finally{let u;try{if(typeof i.query=="string"){const c=/(^[^({\n]+)/.exec(i.query);u=` ${(o=c==null?void 0:c[1].trim())!=null?o:i.query}`}}catch{}s.stop({message:u})}}),t}async graphql(e,t,n=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(e,t)}catch(i){throw n||this.handleRequestErrors(i),O.error(i),i}}async request(e,t){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(e,t)}catch(n){throw this.handleRequestErrors(n),O.error(n),n}}handleRequestErrors(e){var t,n;if(e instanceof Ci)switch(e.status){case 500:return e.response&&Jn.showGitHubStatus500Message(),!0;case 401:return Jn.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Jn.showStatus403Message(()=>void this.reauthenticate()),!0}else if(e instanceof N){if(((n=(t=e.errors)==null?void 0:t[0])==null?void 0:n.type)==="FORBIDDEN")return Jn.showStatus403Message(()=>void this.reauthenticate()),!0;if(e.headers.status==="500")return Jn.showGitHubStatus500Message(),!0}return!1}createIGitRepository(e,t,n,i){return new Pn(this.providerService,e,t,n,i,this)}async validateMetadataRevision(e,t,n){try{switch(n.type){case Z.Branch:case Z.RemoteBranch:await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:e,repo:t,tree_sha:n.sha}),O.debug(`GitHub.validateMetadataRevision(${e}, ${t}, ${n.sha}) SUCCEEDED`);break;default:return}}catch(i){if(O.error(`GitHub.validateMetadataRevision(${e}, ${t}, ${n.sha}) FAILED with error`,i.toString()),i instanceof Ci&&i.status===404&&i.message==="Not Found"&&!await Jn.showStatus404Message(`${e}/${t}`,n.sha,s=>{if(s!==void 0)switch(n.type){case Z.Branch:case Z.RemoteBranch:n.sha=n.branch.sha}}))throw i}}async createMetadata(e,t){var n,i,o,s,u,c;const f=new X(`GitHub.createMetadata(${e.toString()}, ${t})`);let g;try{let{provider:T,name:R,repo:{owner:H,name:oe},ref:se}=Ea(e);(!se||se.type===_e.Commit&&/HEAD/i.test(se.id))&&(se={type:_e.Commit,id:"HEAD"});const Ee=this.providerService.isInWorkspace(e),Te=await this.getRepositoryInfo(H,oe,Ee,se.type===_e.PullRequest?{pr:Number(se.id)}:{ref:se.id});if(Te===void 0)throw g=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Le;if(t)Le=t;else if(se.type===_e.Commit&&se.id!=="HEAD"||se.type===_e.Tree&&Te.ref===void 0)Le=se.id;else if(Le=(i=(n=Te.ref)==null?void 0:n.sha)!=null?i:Te.defaultBranch.sha,Le===void 0)throw g=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let rt;if(((o=Te.ref)==null?void 0:o.prefix)==="refs/heads/")rt={type:Z.Branch,name:Te.ref.name,sha:Le,branch:{name:Te.ref.name,sha:Te.ref.sha}};else if(((s=Te.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Te.ref.remote)throw g=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);rt={type:Z.RemoteBranch,name:`${Te.ref.remote.repo.owner}${Te.ref.remote.repo.name!==oe?`/${Te.ref.remote.repo.name}`:""}:${Te.ref.name}`,sha:Le,branch:{name:Te.ref.name,sha:Te.ref.sha,remote:Te.ref.remote}}}else if(((u=Te.ref)==null?void 0:u.prefix)==="refs/tags/")rt={type:Z.Tag,name:Te.ref.name,sha:Te.ref.sha,detached:{type:Z.Tag,name:Te.ref.name}};else if(D(Le))rt={type:Z.Commit,name:x(Le),sha:Le,detached:{type:Z.Commit,name:x(Le)}};else throw g=" \u2022 Aborted; Unable to get HEAD info",Jn.showRepositoryNotFoundMessage(`${H}/${oe}`,se.id,()=>{const _t=this.getRemoteUri({repo:{owner:H,name:oe}});l.commands.executeCommand("remoteHub.openRepository",_t.toString())}),new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get HEAD info`);await this.validateMetadataRevision(H,oe,rt);let He,lt;if(Oe.get("experimental.prefetch")&&Ee&&(He=Le,f.log({suffix:` \u2022 Prefetching tree for ${He}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(_t=>lt=_t),repo:{owner:H,name:oe},HEAD:{sha:He},timestamp:Date.now()}})),He!==void 0&&He!==rt.sha){const _t=this.asFileTreeKey(e,He),Ye=this.fileTreeCache.get(_t);Ye&&!D(He)&&rt.sha===((c=rt.branch)==null?void 0:c.sha)?(f.log({suffix:` \u2022 Updating prefetched tree for ${He}, since HEAD was resolved; HEAD=${rt.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,rt.sha),Ye),this.fileTreeCache.delete(_t)):(f.log({suffix:` \u2022 Removing prefetched tree for ${He}, since the HEAD changed; HEAD=${rt.sha}`}),this.fileTreeCache.delete(_t),Ye==null||Ye.dispose())}const Ct={version:zn.schemaVersion,timestamp:Date.now(),provider:T,name:R,repo:Te.repo,cloneUrl:Te.cloneUrl,accessLevel:Te.accessLevel,HEAD:rt,defaultBranch:Te.defaultBranch,pullRequest:Te.pullRequest};return g=` \u2022 HEAD=${rt.sha}`,lt==null||lt(Ct),Ct}finally{f.stop(g?{suffix:g}:void 0)}}getMetadata(e){return this.providerService.getMetadata(e)}getRemoteWorkspaceSourceProviders(){return[{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Repository from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Repository from {0}","github.com"),placeholder:l.l10n.t("Choose a repository, or type an organization or repo name to search"),provideSources:async(e,t,n,i)=>{n=n!=null?n:"";let o;const s=n==null?void 0:n.indexOf("/");s!==-1&&(o=n.substring(0,s),n=n.substr(s+1));const{results:u,hasSAMLProtectedResults:c}=await this.searchRepositoriesQuery(n,{...i,user:o}),f=[];if(c){const g={label:`$(lock) ${l.l10n.t("Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};f.push(g)}return f.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("repositories")},...u.map(g=>({providerId:"github",name:g.repoWithOwner,icon:"$(repo)",description:`${g.fork?`$(repo-forked) ${g.fork}`:""}${g.stars>0?`${g.fork?" \u2022 ":""}$(star-full) ${g.stars}`:""}`,detail:g.description,url:g.url}))),f}},{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Pull Request from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Pull Request from {0}","github.com"),placeholder:l.l10n.t("Choose a pull request"),provideSources:async(e,t,n,i)=>{n=n!=null?n:"";let o;const s=n==null?void 0:n.indexOf("/");s!==-1&&(o=n.substring(0,s),n=n.substr(s+1));const{results:u,hasSAMLProtectedResults:c}=await this.searchPullRequestsQuery(n,{user:o}),f=[];if(c){const g={label:`$(lock) ${l.l10n.t("Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};f.push(g)}return f.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("pull requests")},...u.map(g=>({providerId:"github",name:g.title,icon:"$(git-pull-request)",description:g.reasons.length!==0?g.reasons.sort().join(", "):void 0,detail:`${g.repoWithOwner} #${g.number}`,url:g.url}))),f}}]}canOpenRemoteUrl(e){var t;const n=(t=ua.repositoryRegex.exec(e))!=null?t:ua.sshRepositoryRegex.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:u}=n.groups;return s?Q.PullRequest:o?Q.Commit:u?Q.Branch:i?Q.File:Q.Repository}getHttpsCloneUri(e){let t,n;const i=e.toString(),o=ua.repositoryRegex.exec(i);(o==null?void 0:o.groups)&&({owner:t,repo:n}=o.groups);const s=ua.sshRepositoryRegex.exec(i);if((s==null?void 0:s.groups)&&({owner:t,repo:n}=s.groups),t&&n)return this.getRemoteUri({repo:{owner:t,name:n}})}async createWorkspaceForRemoteUrl(e,t=Ve.CurrentWindow,n=!0){var i;const o=(i=ua.repositoryRegex.exec(e))!=null?i:ua.sshRepositoryRegex.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{owner:s,repo:u,blob:c,commit:f,pull:g,tree:T,fragment:R}=o.groups;u=u.endsWith(".git")?u.slice(0,u.length-4):u;let H,oe;if(n){const Te=await this.validateOwnerAndRepoAndSplitRefFromPath(s,u,T!=null?T:c);if(Te===void 0)return;({owner:s,repo:u,ref:oe,path:H}=Te)}if(T||c){if(H&&R&&c){const Te=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(R);if(Te==null?void 0:Te.groups){const{start:Le,end:rt}=Te.groups;H+=`:${Le}${rt!==void 0?`-${rt}`:""}`}}}else f?oe={type:_e.Commit,id:f}:g&&(oe={type:_e.PullRequest,id:g});const se=this.providerService.createVirtualUri("github",{repo:{owner:s,name:u},ref:oe}),{name:Ee}=Ea($.getVirtualUri(this.getProviderRootUri(se)));return{name:Ee,uri:se,location:t,filesToOpen:H?[H]:void 0}}createVirtualUri(e,{repo:t,ref:n,idx:i},o){const s=n!==void 0||i!==void 0?{v:xo}:void 0;return s&&(n&&(s.ref={...n,type:n.type===_e.Branch||n.type===_e.Tag?_e.Tree:n.type}),i&&(s.idx=i)),e.with({authority:$.encodeAuthority("github",s),path:`/${t.owner}/${t.name}${(o==null?void 0:o.startsWith("/"))?o:o?`/${o}`:""}`})}getRemoteUri(e){const t=`https://github.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"",o=e.item?Ks(e.item):"",s=o?`#${o}`:"";return e.pullRequest?l.Uri.parse(`${t}/pull/${e.pullRequest.id}`):e.branch?l.Uri.parse(`${t}/${n}/${e.branch}${i}${s}`):e.tag?l.Uri.parse(`${t}/${n}/${e.tag}${i}${s}`):e.sha?l.Uri.parse(`${t}/${n}/${e.sha}${i}${s}`):l.Uri.parse(t)}getProviderRootUri(e){return e=$.getProviderUri(e),ol(e)}getRelativeFilePath(e,t){let{path:n}=Ea(e);const{path:i}=Ea(M(e,t));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:t,name:n,repo:i,ref:o}=Ea(e);return{provider:t,name:n,repo:i,ref:o}}async getModeRefType(e,t){const{HEAD:n,pullRequest:i}=await(t!=null?t:this.getMetadata(e));switch(n.type){case Z.Branch:return i!==void 0?ue.PullRequestBranch:ue.Branch;case Z.RemoteBranch:return i!==void 0?ue.PullRequestRemoteBranch:ue.RemoteBranch;case Z.Tag:return ue.Tag;case Z.Commit:return ue.Commit}}async getGitAttributes(e){const t=e.toString(),n=this.gitAttributes.get(t);if(n)return n;const i=this.providerService.createRelativeUri(e,".gitattributes"),o=this.getFileContent(i).then(s=>new sa(il.decode(s))).catch(s=>{if(s instanceof l.FileSystemError&&s.code===l.FileSystemError.FileNotFound().code)return new sa("");throw s});return this.gitAttributes.set(t,o),o}async createBranch(e,t,n,i){try{const{repo:{owner:o,name:s}}=i!=null?i:await this.getMetadata(e);return t.startsWith("refs/heads/")||(t=`refs/heads/${t}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:o,repo:s,ref:t,sha:n})).data.ref.substr(11)}catch(o){throw o instanceof Ci&&o.status===422?o.message==="Reference already exists"?Ge.InvalidBranchNameError(t.substring(11),!0):Ge.InvalidBranchNameError(t.substring(11),!1):(O.error(o),o)}}async createAndPushCommit(e,t,n,i,o,s){var u;const c=new X(`GitHub.createAndPushCommit(${e.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(n=n.filter(g=>g.fileType===l.FileType.File),n.length===0&&!(o==null?void 0:o.empty))throw c.stop({message:"Aborted; No changes to commit"}),Ge.NothingToCommitError("No changes to commit");let f;try{const g=await this.getMetadata(e);let T;if(i!==void 0)T=i;else{if(g.HEAD.detached&&!g.HEAD.branch)throw Ge.DetachedHEADError("Unable to commit; no current branch");T=g.HEAD.branch.name}let R;if(s)R=`${s.repo.owner}/${s.repo.name}`;else if(g.HEAD.type===Z.RemoteBranch&&g.HEAD.branch.remote.accessLevel>=te.Write){const{owner:He,name:lt}=g.HEAD.branch.remote.repo;R=`${He}/${lt}`}else R=`${g.repo.owner}/${g.repo.name}`;const H=[],oe=[],se=[],Ee=await this.getGitAttributes(e);for(const He of n)switch(He.type){case j.Created:case j.Changed:{try{const lt=await He.content;if(Oe.get("lfs.write.enabled")&&Be(Ee,He.path)){const Ct=await Lt(lt);se.push({...Ct,path:He.path,binaryContent:lt})}else H.push({path:He.path,contents:_n(lt)})}catch(lt){throw O.error(lt),Ge.CommitFailedError()}break}case j.Deleted:oe.push({path:He.path});break}if(se.length){const He=await this.uploadLfsFiles(e,se);H.push(...He)}const Te={branch:{branchName:T,repositoryNameWithOwner:R},message:{headline:t},fileChanges:{additions:H,deletions:oe},expectedHeadOid:g.HEAD.sha},Le=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,rt=await this.graphql(Le,{commitInput:Te});if(f=rt==null?void 0:rt.createCommitOnBranch.commit.oid,!f)throw Ge.CommitFailedError();return i===void 0&&!g.HEAD.detached&&f!==void 0&&await this.fastForwardTo(e,f,g),f}catch(g){if(g instanceof N){const T=(u=g.errors)==null?void 0:u[0];if((T==null?void 0:T.type)==="STALE_DATA"&&T.message.includes("Pull and try again"))throw Ge.MergeConflictError(g);if((T==null?void 0:T.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&T.message.includes("protected branch"))throw Ge.CommitToProtectedBranchError(T.message);if((T==null?void 0:T.type)==="FORBIDDEN"&&T.message.includes("does not have the correct permissions to execute `CreateCommitOnBranch`"))throw Ge.CommitToArchivedRepositoryError(T.message)}throw O.error(g),g}finally{c.stop(f?{message:`: Created and pushed commit ${f}`}:void 0)}}async createPullRequest(e,t,n,i,o,s){var u,c,f;const g=new X(`GitHub.createPullRequest(${e.toString()}, ${t}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:T,name:R},HEAD:{branch:H},defaultBranch:oe}=await this.getMetadata(e),se=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:T,repo:R,base:`refs/heads/${(u=H==null?void 0:H.name)!=null?u:oe.name}`,head:s?`${s.repo.owner}:${t}`:t,title:n,body:i,draft:(c=o==null?void 0:o.draft)!=null?c:!1,maintainer_can_modify:(f=o==null?void 0:o.canMaintainerModify)!=null?f:!0});return{id:se.data.number.toString(),uri:l.Uri.parse(se.data.html_url)}}catch(T){throw O.error(T),T}finally{g.stop()}}async fetch(e,t){const{fetched:n,metadata:i}=await this.fetchCore(e,!1,t);n&&await this.providerService.updateMetadata(e,i)}async fetchCore(e,t,n){var i,o,s,u,c,f,g,T,R;const{force:H,to:oe}={...n,force:t||(n==null?void 0:n.force)},se=new X(`GitHub.fetch(${e.toString()}, force=${H}, to=${oe})`);let Ee;try{const Te=await this.getMetadata(e);if(Te.HEAD.detached)return Ee=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Te};const Le=await this.getBranchTips(e);if(!Le)throw Ee=" \u2022 Unable to fetch branch tips",Ge.SyncOrFetchError(t);if(!H&&!oe&&((i=Le.defaultBranch)==null?void 0:i.sha)!==void 0&&Le.defaultBranch.sha===Te.defaultBranch.sha&&((o=Le.branch)==null?void 0:o.sha)!==void 0&&Le.branch.sha===Te.HEAD.branch.sha&&(Te.HEAD.sha===Te.HEAD.branch.sha||Te.state!==void 0))return Ee=" \u2022 No changes detected",{fetched:!1,metadata:Te};let rt;if(((s=Le.defaultBranch)==null?void 0:s.sha)!==void 0&&Le.defaultBranch.sha!==Te.defaultBranch.sha&&(rt={defaultBranch:{...Te.defaultBranch,sha:Le.defaultBranch.sha}}),((u=Le.branch)==null?void 0:u.sha)===void 0){if(Ee=" \u2022 Unable to find branch tip",H)throw Ge.SyncOrFetchError(t);return rt!==void 0?{fetched:!0,metadata:{...Te,...rt}}:{fetched:!1,metadata:Te}}if(Le.branch.sha!==Te.HEAD.branch.sha&&(rt={...rt,HEAD:{...Te.HEAD,branch:{...Te.HEAD.branch,sha:Le.branch.sha},detached:void 0}}),Le.branch.sha===((c=n==null?void 0:n.to)!=null?c:Te.HEAD.sha))return Ee=" \u2022 Up to date",Te.state!==void 0||rt!==void 0?{fetched:!0,metadata:{...Te,...rt,state:void 0}}:{fetched:!1,metadata:Te};se.logStep("Fetching upstream changes");try{const He=await this.getAheadBehindState(e,Te,{base:(f=n==null?void 0:n.to)!=null?f:Te.HEAD.sha,head:(R=(T=(g=rt==null?void 0:rt.HEAD)==null?void 0:g.branch)==null?void 0:T.sha)!=null?R:Te.HEAD.branch.sha});return Ee=` \u2022 Changes detected; ${He==null?void 0:He.behind} commits behind`,{fetched:!0,metadata:{...Te,...rt,state:He?{ahead:He.ahead,behind:He.behind,incomingChanges:He.incomingChanges}:void 0}}}catch(He){if(Ee=` \u2022 Failed fetching upstream changes; ${String(He)}`,H)throw Ge.SyncOrFetchError(t);return rt!==void 0?{fetched:!0,metadata:{...Te,...rt}}:{fetched:!1,metadata:Te}}}finally{se.stop(Ee?{suffix:Ee}:void 0)}}async fork(e){try{const{repo:{owner:t,name:n}}=await this.getMetadata(e),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:t,repo:n});let o;for(;;){try{if(o=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),o!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(t){throw O.error(t),t}}async getBranch(e,t){try{const{repo:{owner:n,name:i}}=await this.getMetadata(e),o=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
						refUpdateRule {
							viewerCanPush
							requiredApprovingReviewCount
						}
					}
				}
			}`,s=await this.graphql(o,{owner:n,repo:i,qualifiedName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`});return(s==null?void 0:s.repository)?{type:Pr.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl,locked:s.repository.ref.refUpdateRule?!s.repository.ref.refUpdateRule.viewerCanPush||s.repository.ref.refUpdateRule.requiredApprovingReviewCount>0:void 0}:void 0}catch(n){return}}async getBranches(e,t){var n,i,o;try{const{repo:{owner:s,name:u}}=await this.getMetadata(e),c=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				refUpdateRule {
					viewerCanPush
					requiredApprovingReviewCount
				}
				target {
					oid
					commitUrl
					... on Commit {
						committedDate
					  }
				}
			}
		}
	}
}`,f=await this.graphql(c,{owner:s,repo:u,branchQuery:(n=t==null?void 0:t.query)!=null?n:"",cursor:t==null?void 0:t.cursor,limit:Math.min(100,(i=t==null?void 0:t.limit)!=null?i:100)});if(f===void 0)return{branches:[]};const g=(o=f.repository)==null?void 0:o.refs;if(g===void 0)return{branches:[]};const T=g.nodes.map(R=>({type:Pr.Head,name:R.name,commit:R.target.oid,commitUrl:R.target.commitUrl,committedDate:new Date(R.target.committedDate),locked:R.refUpdateRule?!R.refUpdateRule.viewerCanPush||R.refUpdateRule.requiredApprovingReviewCount>0:void 0}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},branches:T}}catch(s){return{branches:[]}}}async getCommit(e,t){var n;try{const{HEAD:i,repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;t.toUpperCase()==="HEAD"&&(t=i.sha);const c=await this.graphql(u,{owner:o,repo:s,ref:t});if(c===void 0)return;const f=(n=c.repository)==null?void 0:n.object;return f===void 0?void 0:{hash:f.oid,message:f.message,parents:f.parents.nodes.map(g=>g.oid),authorDate:new Date(f.author.date),authorEmail:f.author.email,authorName:f.author.name,commitDate:new Date(f.committer.date)}}catch(i){return}}async getCommits(e,t){var n,i,o;try{const{HEAD:s,repo:{owner:u,name:c}}=await this.getMetadata(e),f=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let g=t==null?void 0:t.ref;(g==null?void 0:g.toUpperCase())==="HEAD"&&(g=s.sha);const T=await this.graphql(f,{owner:u,repo:c,ref:g,cursor:t==null?void 0:t.cursor,path:t==null?void 0:t.path,limit:Math.min(100,(n=t==null?void 0:t.limit)!=null?n:100)});if(T===void 0)return;const R=(o=(i=T.repository)==null?void 0:i.object)==null?void 0:o.history;if(R===void 0)return;const H=R.nodes.map(oe=>({hash:oe.oid,message:oe.message,parents:oe.parents.nodes.map(se=>se.oid),authorDate:new Date(oe.author.date),authorEmail:oe.author.email,authorName:oe.author.name,commitDate:new Date(oe.committer.date)}));return{paging:{cursor:R.pageInfo.endCursor,more:R.pageInfo.hasNextPage},commits:H}}catch(s){return}}async getBlobContent(e,t){try{const n=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:e.owner,repo:e.name,file_sha:t});return Xt(n.data.content)}catch(n){throw l.env.logLevel===l.LogLevel.Debug&&O.error(n),n}}async getFileContent(e,t,n){try{let i;const o=this.getProviderRootUri(e);if(t&&n&&!this.hasFileTree(e,t)){n.startsWith("/")&&(n=n.slice(1));let s=(0,ba.dirname)(n);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(o,t,{path:s,recursive:!1})).get(n)}else{const[s,{path:u}]=await Promise.all([this.getFileTree(e,t),n?{path:void 0}:this.providerService.getMetadata(e)]);i=await s.get(n!=null?n:u)}if((i==null?void 0:i.sha)===void 0)throw l.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw l.env.logLevel===l.LogLevel.Debug&&O.error(i),i}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,t){var n,i,o,s;const u=this.getBatchApiUrl(e),c=(await this.ensureAuthenticated()).accessToken,f=[],g=await ta(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${c}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:t.map(T=>({oid:T.oid,size:T.size}))})});if(g.ok){const T=await g.json();if(T.objects.length!==t.length)throw Ge.CommitFailedError();for(let R=0;R<t.length;R++){const H=T.objects[R],oe=t[R];if((i=(n=H.actions)==null?void 0:n.upload)==null?void 0:i.href){const{href:se,header:Ee}=H.actions.upload;if((await ta(se,{method:"PUT",body:oe.binaryContent,headers:{"Content-Type":"application/octet-stream",...Ee}})).ok&&((s=(o=H.actions)==null?void 0:o.verify)==null?void 0:s.href)&&!(await ta(H.actions.verify.href,{method:"POST",headers:H.actions.verify.header})).ok)throw Ge.CommitFailedError()}f.push({path:oe.path,contents:At(oe.oid,oe.size)})}}return f}async getLfsContent(e,t){var n,i;const{oid:o,size:s}=Ya(t),u=this.getBatchApiUrl(e),c=(await this.ensureAuthenticated()).accessToken;try{const f=await ta(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${c}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:o,size:Number(s)}]})});if(f.ok){const T=(i=(n=(await f.json()).objects[0].actions)==null?void 0:n.download)==null?void 0:i.href;if(T)return l.window.withProgress({location:l.ProgressLocation.Window},(R,H)=>va(T,{method:"GET"},void 0,H,R))}return t}catch(f){return O.error(f),t}}async getFileList(e,t,n){const i=new X(`GitHub.getFileList(${e.toString()}${n?`, ${n}`:""})`);try{const{repo:{owner:o,name:s},HEAD:{sha:u}}=await this.getMetadata(e),c=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:o,repo:s,treeish:`${n!=null?n:u}${t?`:${t}`:""}`});return c.status!==200?[]:c.data}catch(o){return O.error(o),[]}finally{i.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(n=>this.fileTreeCache.has(this.asFileTreeKey(e,n.HEAD.sha)))}async getFileTree(e,t,n){var i,o,s,u;const c=this.providerService.isInWorkspace(e);let f=c,g,T,R;if(f||!t){const Ee=(o=(i=n==null?void 0:n.prefetched)==null?void 0:i.metadata)!=null?o:this.getMetadata(e);g=c?this.getFileTreePermissions(e,Ee):void 0;let Te;({repo:T,HEAD:{sha:Te},timestamp:R}=(s=n==null?void 0:n.prefetched)!=null?s:await Ee),t||(t=Te)}else({repo:T}=(u=n==null?void 0:n.prefetched)!=null?u:this.providerService.getVirtualUriMetadata(e)),R=Date.now();const H=this.asFileTreeKey(e,t);this.fileTreesToCache.has(H)&&(f=!0),this.fileTreesToCache.add(H);const oe=this.getProviderRootUri(e),se=new X(`GitHub.getFileTree(${H}): ${e.toString()}`,{log:!1,logLevel:l.LogLevel.Debug});try{let Ee=a(function(){var Le;const rt=new X(`GitHub.createFileTree(${H})`);let He,lt;f&&c&&(He=new l.EventEmitter,lt=l.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>He.fire()),this.tarPit.onDidDownloadTar(_t=>He.fire({rootUri:this.getProviderRootUri(_t.rootUri),sha:_t.sha}))));const Ct={dispose:()=>lt==null?void 0:lt.dispose(),permissions:g,getContent:async(_t,Ye)=>{const Gt=new X("getFileContents"),vt=Oe.get("experimental.fs.useTars");if(vt==="always"||vt==="ifAvailable"){const sr=await this.tarPit.getInMemoryTar(oe,t);if(sr){const Lr=sr.entryMap.get(Ye);if(Lr)return Gt.stop({message:`Retrieved ${Ye} from in-memory tar with rootUri=${oe.toString()}, ref=${t==null?void 0:t.toString()}`}),Lr.dataAsBytes}}let gr=!1;return new Promise((sr,Lr)=>{this.getBlobContent(T,_t.sha).then(mr=>{gr||(Gt.stop({message:`Retrieved ${Ye} from web`}),gr=!0,sr(mr))},mr=>Lr(mr)),vt!=="never"&&this.tarPit.getCachedTar(oe,t).then(mr=>mr===void 0&&vt==="always"&&!gr?this.tarPit.getTar(oe,!1,t):mr).then(mr=>{var nn;const zr=(nn=mr==null?void 0:mr.entryMap.get(Ye))==null?void 0:nn.dataAsBytes;zr&&!gr&&(Gt.stop({message:`Retrieved ${Ye} from tar`}),gr=!0,sr(zr))},mr=>{})})},getTree:async(_t,Ye)=>{const Gt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:T.owner,repo:T.name,recursive:Ye?"1":void 0,tree_sha:`${t}${_t?`:${_t}`:""}`});return Gt.data.truncated?{sha:Gt.data.sha,truncated:!0}:{sha:Gt.data.sha,truncated:!1,tree:Da(Gt.data.tree,vt=>{var gr;return{path:vt.path,item:{mode:vt.mode,sha:vt.sha,stat:{type:ll(vt.type),size:(gr=vt.size)!=null?gr:0,ctime:0,mtime:R,permissions:void 0}}}})}},onDidTriggerContentCaching:He==null?void 0:He.event,tryCachingContent:f&&c?async _t=>{const Ye=Oe.get("experimental.fs.useTars");if(Ye!=="always"&&Ye!=="ifAvailable")return!1;const Gt=new X(`FileTree.loadAllContent(${t})`);let vt;try{let gr;if(Ye==="ifAvailable"){if(Gt.logStep("Tar cache query"),gr=await this.tarPit.getCachedTar(oe,t),gr===void 0)return vt=" \u2022 No cached Tar",!1}else Gt.logStep("Tar query"),gr=await this.tarPit.getTar(oe,!1,t);Gt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const sr of gr.entries){const Lr=_t(sr.header.fullFileName);if(Lr===void 0)continue;const mr=sr.dataAsBytes;Lr.getContent=()=>mr}return!0}catch(gr){return vt=` \u2022 Failed ${String(gr)}`,!1}finally{Gt.stop(vt?{suffix:vt}:void 0)}}:void 0};try{return new Ga(oe,t,R,Ct,{path:n==null?void 0:n.path,recursive:(Le=n==null?void 0:n.recursive)!=null?Le:f,preload:f||(n==null?void 0:n.recursive)})}catch(_t){return O.error(_t),new Ga(oe,t,R,void 0)}finally{rt.stop()}},"createFileTree"),Te=this.fileTreeCache.get(H);return Te!==void 0||(Te=Ee.call(this),f&&this.fileTreeCache.set(H,Te)),Te}finally{se.stop()}}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===ee.Edit)return;const i=await this.providerService.getIndexMetadata(e);return re.isActive(i)?l.FilePermission.Readonly:void 0}async getFork(e){var t,n,i;try{const{repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,c=await this.graphql(u,{owner:o,repo:s});if(c===void 0)return;const[f]=(i=(n=(t=c.repository)==null?void 0:t.forks)==null?void 0:n.nodes)!=null?i:[];return f===void 0?void 0:{name:`${f.owner.login}/${f.name}`,repo:{owner:f.owner.login,name:f.name},url:f.url}}catch(o){return}}async getIncomingChanges(e){var t,n;return(n=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?n:[]}async compareCommits(e,t){const n=await this.getMetadata(e),i=await this.getAheadBehindState(e,n,{base:t.base,head:t.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(e,t,n){var i,o,s,u,c;const{base:f,head:g}={base:t.HEAD.sha,head:(i=t.HEAD.branch)==null?void 0:i.sha,...n},T=new X(`GitHub.getAheadBehindState(${e.toString()}, base=${f}, head=${g})`);let R,H;try{if(!g){R=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const oe=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:t.repo.owner,repo:t.repo.name,base:f,head:g}),se=[];for(const Ee of(o=oe.data.files)!=null?o:[])switch(Ee.status){case"added":case"copied":se.push({uri:l.Uri.joinPath(e,Ee.filename),type:j.Created});break;case"removed":se.push({uri:l.Uri.joinPath(e,Ee.filename),type:j.Deleted});break;case"modified":se.push({uri:l.Uri.joinPath(e,Ee.filename),type:j.Changed});break;case"renamed":se.push({uri:l.Uri.joinPath(e,Ee.filename),type:j.Created}),se.push({uri:l.Uri.joinPath(e,Ee.previous_filename),type:j.Deleted});break;default:O.warn(`GitHub.getAheadBehindState(${e.toString()}, base=${f}, head=${g}): Unknown file status encountered '${Ee.status}'`);break}return H={ahead:(s=oe.data.behind_by)!=null?s:0,behind:(u=oe.data.ahead_by)!=null?u:0,incomingChanges:se},H}catch(oe){throw R=` \u2022 Failed; ${String(oe)}`,O.error(oe),oe}finally{T.stop({suffix:R!=null?R:` \u2022 ${(c=H==null?void 0:H.behind)!=null?c:0} commits behind`})}}async getObjectDetails(e,t,n){var i;try{const o=await this.getFileTree(e,t);n?n=this.providerService.getRelativeFilePath(e,this.providerService.createRelativeUri(e,n)):{path:n}=await this.providerService.getMetadata(e);const s=await o.get(n);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${n} in ${t}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(o){throw O.error(o),o}}async getPullRequest(e,t){const{repo:{owner:n,name:i}}=await this.getMetadata(e);return this.getPullRequestCore(n,i,t)}async getPullRequestCore(e,t,n){var i,o,s,u,c,f,g;try{const T=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,R=await this.graphql(T,{owner:e,repo:t,number:Number(n)}),H=(i=R==null?void 0:R.repository)==null?void 0:i.pullRequest;return H?{author:{name:H.author.login,avatarUrl:H.author.avatarUrl,url:H.author.url},closedAt:H.closedAt?new Date(H.closedAt):void 0,mergedAt:H.mergedAt?new Date(H.mergedAt):void 0,id:H.number.toString(),repo:{name:H.repository.name,owner:H.repository.owner.login},state:fs(H.state),title:H.title,updatedAt:new Date(H.updatedAt),url:H.permalink,refs:{base:{owner:H.baseRepository.owner.login,repo:H.baseRepository.name,branch:H.baseRefName,sha:H.baseRefOid,exists:H.baseRef!=null},head:{owner:(c=(u=(o=H.headRepository)==null?void 0:o.owner.login)!=null?u:(s=H.headRepositoryOwner)==null?void 0:s.login)!=null?c:"<unknown>",repo:(g=(f=H.headRepository)==null?void 0:f.name)!=null?g:H.baseRepository.name,branch:H.headRefName,sha:H.headRefOid,exists:H.headRef!=null}}}:void 0}catch(T){O.error(T);return}}async getPullRequestForBranch(e,t,n){var i,o,s,u,c;try{const{repo:{owner:f,name:g}}=await this.getMetadata(e),T=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,R=await this.graphql(T,{owner:f,repo:g,branch:t,maxCount:(i=n==null?void 0:n.maxCount)!=null?i:1,states:ul(n==null?void 0:n.include)}),H=(c=(u=(s=(o=R==null?void 0:R.repository)==null?void 0:o.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:u.nodes)==null?void 0:c.filter(se=>!se.repository.isFork||se.repository.owner.login===f);if(H==null||H.length===0)return;H.length>1&&H.sort((se,Ee)=>(se.repository.owner.login===f?-1:1)-(Ee.repository.owner.login===f?-1:1)||(se.state==="OPEN"?-1:1)-(Ee.state==="OPEN"?-1:1)||new Date(Ee.updatedAt).getTime()-new Date(se.updatedAt).getTime());const[oe]=H;return{author:{name:oe.author.login,avatarUrl:oe.author.avatarUrl,url:oe.author.url},closedAt:oe.closedAt?new Date(oe.closedAt):void 0,mergedAt:oe.mergedAt?new Date(oe.mergedAt):void 0,id:oe.number.toString(),repo:{name:oe.repository.name,owner:oe.repository.owner.login},state:fs(oe.state),title:oe.title,updatedAt:new Date(oe.updatedAt),url:oe.permalink}}catch(f){O.error(f);return}}async getTags(e,t){var n,i,o;try{const{repo:{owner:s,name:u}}=await this.getMetadata(e),c=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,f=await this.graphql(c,{owner:s,repo:u,tagQuery:(n=t==null?void 0:t.query)!=null?n:"",cursor:t==null?void 0:t.cursor,limit:Math.min(100,(i=t==null?void 0:t.limit)!=null?i:100)});if(f===void 0)return{tags:[]};const g=(o=f.repository)==null?void 0:o.refs;if(g===void 0)return{tags:[]};const T=g.nodes.map(R=>({type:Pr.Tag,name:R.name,commit:R.target.oid,commitUrl:R.target.commitUrl}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},tags:T}}catch(s){return{tags:[]}}}async loadWorkspaceContents(e){try{return await this.tarPit.getTar(e,!1,void 0),!0}catch(t){return O.error(t),!1}}async getTarGz(e,t,n){const{repo:{owner:i,name:o}}=await this.getMetadata(e),s=await this.ensureAuthenticated(),u=Oe.get("indexing.verboseDownloadNotification");return l.window.withProgress({location:u?l.ProgressLocation.Notification:l.ProgressLocation.Window,cancellable:!0,title:l.l10n.t("Downloading repository index")},async(c,f)=>{try{if(Sr){let R;try{const Ee=await this.tarballProxyEndpoint;Ee!==void 0&&(R=Ee.replace("{owner}",i).replace("{repo}",o).replace("{sha}",t))}catch{}if(!R)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const oe=await(await Ba(R,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},f)).text();return await va(oe,{},n,f,c)}const g=`https://api.github.com/repos/${i}/${o}/tarball/${t}`;return await va(g,{headers:{Authorization:`Bearer ${s.accessToken}`}},n,f,c)}catch(g){throw O.error(g),g}})}async queryRepositoryObject(e,t,n,i){var o,s;try{const{repo:{owner:u,name:c},HEAD:{sha:f},path:g}=await this.providerService.getMetadata(e),T=`query ${t}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${n}
		}
	}
}`,R=await this.graphql(T,{owner:u,repo:c,expression:i!=null?i:`${f}:${g}`});return(s=(o=R==null?void 0:R.repository)==null?void 0:o.object)!=null?s:void 0}catch(u){O.error(u);return}}async repositoryObjectExists(e,t){return await this.queryRepositoryObject(e,"exists","			__typename",t)!==void 0}async searchPullRequestsQuery(e,t){var n;function i(o){function s(u,c){return{number:u.number,title:u.title,repoWithOwner:u.repository.nameWithOwner,reasons:c?[c]:[],url:u.url}}return a(s,"toResult"),ln([...o.assigned.nodes.filter(u=>u!==null).map(u=>s(u,"assigned")),...o.reviewRequested.nodes.filter(u=>u!==null).map(u=>s(u,"review requested")),...o.mentioned.nodes.filter(u=>u!==null).map(u=>s(u,"mentioned")),...o.authored.nodes.filter(u=>u!==null).map(u=>s(u,"authored")),...Ca(o.viewer.repositories.nodes,u=>u.pullRequests.nodes.filter(c=>c!==null).map(c=>s(c)))],u=>u.url,(u,c)=>(c.reasons.length!==0&&u.reasons.push(...c.reasons),u))}a(i,"processQueryResults");try{const o=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;e=e.trim(),(t==null?void 0:t.user)&&(e+=` user:${t.user}`);const s=await this.graphql(o,{authored:(e?`${e} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(e?`${e} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(e?`${e} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(e?`${e} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof N?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(e,t){var n;function i(o){var s,u,c;const f=ln((t==null?void 0:t.user)?[...o.search.nodes,...o.viewer.repositories.nodes]:[...o.viewer.repositories.nodes,...o.search.nodes],T=>T==null?void 0:T.url),g=[];for(const T of f)T!==null&&g.push({repoWithOwner:T.nameWithOwner,owner:T.nameWithOwner.split("/")[0],repo:T.nameWithOwner.split("/")[1],description:(s=T.description)!=null?s:void 0,url:T.url,fork:(c=(u=T.parent)==null?void 0:u.nameWithOwner)!=null?c:void 0,stars:T.stargazerCount});return g}a(i,"processQueryResults");try{const o=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(t==null?void 0:t.user)&&(e+=` user:${t.user}`),(t==null?void 0:t.owner)&&(e+=` owner:${t.owner}`),(t==null?void 0:t.sort)&&(e+=` sort:${t.sort}`),e+=" fork:true";const s=await this.graphql(o,{search:e.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof N?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(e,t,n){var i,o,s;const{repo:{owner:u,name:c},HEAD:f,defaultBranch:g}=await this.getMetadata(t),T=[];((i=f.branch)==null?void 0:i.name)!==g.name&&T.push(l.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(o=f.branch)==null?void 0:o.name)!=null?s:f.detached.name,g.name));try{const H=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${e} repo:${u}/${c}`}),oe=new l.Range(0,0,0,0),se=[];let Ee=0,Te;for(const Le of H.data.items)for(const rt of Le.text_matches){if(Ee++,n.maxResults!==void 0&&Ee>n.maxResults)return{matches:se,limitHit:!0};Te={path:Le.path,ranges:[],preview:rt.fragment,matches:[]};for(const He of rt.matches){let lt=0,Ct=0,_t=0;for(let Ye=0;Ye<He.indices[1];Ye++)Ye===He.indices[0]&&(Ct=_t),rt.fragment[Ye]===`
`?(lt++,_t=0):_t++;Te.ranges.push(oe),Te.matches.push(new l.Range(lt,Ct,lt,_t))}se.push(Te)}return{matches:se,limitHit:!1,warnings:T}}catch(R){return{matches:[],limitHit:!0}}}async switchTo(e,t,n){const{name:i,repo:o,HEAD:{branch:s}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?(t==null?void 0:t.startsWith("refs/heads/"))?(u={type:_e.Tree,id:t.substr(11)},t=t.substr(11)):(t==null?void 0:t.startsWith("refs/tags/"))?u={type:_e.Tree,id:t.substr(10)}:u={type:_e.Tree,id:t}:u={...t,type:t.type===_e.Branch||t.type===_e.Tag?_e.Tree:t.type},(s==null?void 0:s.name)===u.id)))return{name:i,uri:this.providerService.createVirtualUri(e,{repo:o,ref:u}),location:(n==null?void 0:n.openInNewWindow)?Ve.NewWindow:Ve.CurrentWindow}}async sync(e,t,n){var i,o,s,u,c,f;const g=new X(`GitHub.sync(${e.toString()}, resolution=${n.conflictResolution}, to=${n.to})`);let T;try{const{metadata:R}=await this.fetchCore(e,!0,{to:n.to});if(R.HEAD.detached){T=" \u2022 Skipped; detached HEAD";return}if(((o=(i=R==null?void 0:R.state)==null?void 0:i.behind)!=null?o:0)>0&&await t.hasChanges(e)){g.logStep("Fetching upstream changes");const H=[],oe=(u=(s=R.state)==null?void 0:s.incomingChanges)!=null?u:[];if(oe.length>0){const se=await t.getChanges(e);for(const Ee of se){const Te=this.providerService.getRelativeFilePath(e,Ee.uri),Le=oe.find(rt=>this.providerService.getRelativeFilePath(e,rt.uri)===Te);Le!==void 0&&H.push({path:Te,current:Ee,incomingType:Le.type})}}if(H.length>0)switch(n.conflictResolution){case he.KeepCurrent:g.logStep("Syncing (keep) upstream changes",{message:`: ${H.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const se of H)await t.keep(se.current.uri,{type:se.incomingType,providerUri:cs(R,R.HEAD.branch.sha,se.path)});break;case he.DiscardCurrent:g.logStep("Syncing (discard) upstream changes",{message:`: ${H.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const se of H)await t.discard(se.current.uri);break;case he.Merge:g.logStep("Syncing (merge) upstream changes",{message:`: ${H.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const se of H)await t.merge(se.current.uri,{type:se.incomingType,providerUri:cs(R,R.HEAD.branch.sha,se.path)},{providerUri:cs(R,R.HEAD.sha,se.path)});break;case he.Abort:default:throw g.logStep("Syncing (abort) upstream changes",{message:`: ${H.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(e,R),Ge.SyncConflictsError()}}T=` \u2022 to=${(c=n.to)!=null?c:R.HEAD.branch.sha}`,await this.fastForwardTo(e,(f=n.to)!=null?f:R.HEAD.branch.sha,R)}finally{g.stop(T?{suffix:T}:void 0)}}async fastForwardTo(e,t,n){if(n.HEAD.detached)throw Ge.DetachedHEADError("Unable to fast-forward; no current branch");if(n.HEAD.sha===t&&n.state===void 0)return;const i=this.asFileTreeKey(e,n.HEAD.sha),o=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),o==null||o.dispose(),O.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.providerService.updateMetadata(e,{...n,HEAD:{...n.HEAD,detached:void 0,sha:t},state:t!==n.HEAD.branch.sha?n.state:void 0,timestamp:Date.now()}),t!==n.HEAD.branch.sha&&n.state===void 0&&await this.fetchCore(e,!1,{to:t})}async getBranchTips(e,t){try{const{repo:{owner:n,name:i},HEAD:o}=await this.getMetadata(e);t===void 0&&(o.type===Z.RemoteBranch?t=`${o.branch.remote.repo.owner}/${o.branch.remote.repo.name}:refs/heads/${o.branch.name}`:t=o.branch?`refs/heads/${o.branch.name}`:"");const s=Ys.exec(t);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(n,i,t);const u=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(u,{owner:n,repo:i,ref:t});if((c==null?void 0:c.repository)==null)return;const{defaultBranchRef:f,ref:g}=c.repository;return!f&&!g?void 0:{defaultBranch:f?{sha:f.target.oid}:void 0,branch:g?{sha:g.target.oid}:void 0}}catch(n){return}}async getRemoteBranchTips(e,t,n){try{const i=Ys.exec(n);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:o,remoteRepo:s,remoteRef:u}=i.groups;s||(s=t);const c=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,f=await this.graphql(c,{owner:e,repo:t,remoteOwner:o,remoteRepo:s,remoteRef:u});if((f==null?void 0:f.repository)==null||(f==null?void 0:f.remote)==null)return;const{repository:{defaultBranchRef:g},remote:{ref:T}}=f;return!g&&!T?void 0:{defaultBranch:g?{sha:g.target.oid}:void 0,branch:T?{sha:T.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(e,t,n,i){var o,s,u,c,f,g,T,R,H,oe,se,Ee,Te,Le,rt,He;try{const lt=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,Ct=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${lt}
		}
	}
}`;let _t,Ye;try{const sr=await this.graphql(Ct,{owner:e,repo:t,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(o=i==null?void 0:i.pr)!=null?o:0});if((sr==null?void 0:sr.repository)==null)return;({repository:Ye,viewer:{login:_t}}=sr)}catch(sr){if((i==null?void 0:i.pr)&&sr instanceof N&&((u=(s=sr.errors)==null?void 0:s[0])==null?void 0:u.type)==="NOT_FOUND"&&((c=sr.errors[0])==null?void 0:c.message.includes("Could not resolve to a PullRequest"))){({repository:Ye,viewer:{login:_t}}=sr.data);try{const Lr=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${lt}
			}
		}
	}
}`,{owner:e,repo:t,pr:i==null?void 0:i.pr});if(((g=(f=Lr==null?void 0:Lr.repository)==null?void 0:f.parent)==null?void 0:g.pullRequest)==null)throw sr;Ye.pullRequest=Lr.repository.parent.pullRequest}catch{throw sr}}else throw sr}const Gt=(T=Ye.defaultBranchRef)!=null?T:void 0;if((Gt==null?void 0:Gt.name)==null)return;const vt=Ye.pullRequest;let gr;if(Ye==null?void 0:Ye.ref)gr={prefix:Ye.ref.prefix,name:Ye.ref.name,sha:"oid"in Ye.ref.target?Ye.ref.target.oid:Ye.ref.target.target.oid};else if(vt==null?void 0:vt.headRefName){let sr=hs(vt.headRepository.viewerPermission);sr<te.Write&&vt.maintainerCanModify&&hs(Ye.viewerPermission)>=te.Write&&(sr=te.WriteToPullRequest),gr=vt.headRepository.owner.login===e?{prefix:"refs/heads/",name:vt==null?void 0:vt.headRefName,sha:(H=(R=vt.mergeCommit)==null?void 0:R.oid)!=null?H:vt==null?void 0:vt.headRefOid}:{prefix:"refs/remotes/",name:vt==null?void 0:vt.headRefName,sha:(se=(oe=vt.mergeCommit)==null?void 0:oe.oid)!=null?se:vt==null?void 0:vt.headRefOid,remote:{name:`${vt.headRepository.owner.login}/${vt.headRepository.name}`,accessLevel:sr,repo:{owner:vt.headRepository.owner.login,name:vt.headRepository.name}}}}else(vt==null?void 0:vt.baseRef)?(gr={prefix:"refs/heads/",name:vt==null?void 0:vt.baseRef.name,sha:(Te=(Ee=vt.mergeCommit)==null?void 0:Ee.oid)!=null?Te:vt==null?void 0:vt.baseRefOid},n&&(O.log("Did not find a headRef for PR, falling back to baseRef",vt.baseRef),Jn.showPullRequestHeadNotFoundMessage(`${e}/${t}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(gr={prefix:"refs/heads/",name:Gt.name,sha:Gt.target.oid});return{user:_t,repo:{owner:Ye.owner.login,name:Ye.name},accessLevel:hs(Ye.viewerPermission),ref:gr,defaultBranch:{name:Gt.name,sha:Gt.target.oid},cloneUrl:{http:Ye.url,ssh:Ye.sshUrl},pullRequest:vt?{id:vt.number.toString(),state:fs(vt.state),title:vt.title}:void 0}}catch(lt){if(lt instanceof N)switch((rt=(Le=lt.errors)==null?void 0:Le[0])==null?void 0:rt.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&((He=lt.errors[0])==null?void 0:He.message.includes("Could not resolve to a PullRequest"))){const _t=new Tn(lt,`${e}/${t}`,`#${i==null?void 0:i.pr}`);throw n&&Jn.showPullRequestNotFoundMessage(_t.name,_t.id),_t}const Ct=new qa(lt,`${e}/${t}`);throw n?Ge.InvalidRepositoryError():Ct}case"FORBIDDEN":{const Ct=new Oi(lt,`${e}/${t}`);throw n&&Jn.showRepositoryForbiddenMessage(Ct.name,()=>this.reauthenticate()),Ct}}O.error(lt,`Failed to get repository info for '${e}/${t}'`),!this.handleRequestErrors(lt)&&n&&Jn.showUnableToOpenRepositoryMessage(lt);return}}async getSubmodules(e){var t,n,i;const{repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getRepository(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
	}
}`;try{const c=await this.graphql(u,{owner:o,repo:s});if((c==null?void 0:c.repository)==null)return[];const f=[];for(const g of(n=(t=c.repository.submodules)==null?void 0:t.nodes)!=null?n:[]){const T=(i=await this.createWorkspaceForRemoteUrl(g.gitUrl,void 0,!1))==null?void 0:i.uri;T&&f.push([g.path,T])}return f}catch(c){return[]}}async validateOwnerAndRepoAndSplitRefFromPath(e,t,n){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${n!=null?n:"HEAD"}`,{owner:e,repo:t});return[e,t]=i.data.name_with_owner.split("/"),n?{owner:e,repo:t,ref:{type:_e.Tree,id:i.data.ref},path:i.data.path}:{owner:e,repo:t}}catch(i){if(i instanceof Ci)switch(i.status){case 401:throw Ge.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Jn.showRepositoryForbiddenMessage(`${e}/${t}`,()=>this.reauthenticate()),new Oi(i,`${e}/${t}`);case 404:throw i.message.includes("No ref found")&&n?Jn.showRepositoryNotFoundMessage(`${e}/${t}`,n,()=>{const o=this.getRemoteUri({repo:{owner:e,name:t}});l.commands.executeCommand("remoteHub.openRepository",o.toString())}):Jn.showRepositoryNotFoundMessage(`${e}/${t}`),new qa(i,`${e}/${t}`);case 409:throw Jn.showRepositoryEmptyMessage(`${e}/${t}`),new So(i,`${e}/${t}`)}return}}asFileTreeKey(e,t){return`${B(this.getProviderRootUri(e))}:${t}`}}a(Va,"GitHubRepositoryProvider"),Gs([Bt()],Va.prototype,"ensureAuthenticated",1),Gs([Bt()],Va.prototype,"octokit",1);function fs(r){switch(r){case"OPEN":return me.Open;case"CLOSED":return me.Closed;case"MERGED":return me.Merged}}a(fs,"toPullRequestState");function ul(r){if(r!==void 0)return r.map(e=>{switch(e){case me.Open:return"OPEN";case me.Closed:return"CLOSED";case me.Merged:return"MERGED"}})}a(ul,"fromPullRequestStates");var Sa;(function(r){r.ADMIN="ADMIN",r.MAINTAIN="MAINTAIN",r.WRITE="WRITE",r.TRIAGE="TRIAGE",r.READ="READ",r.NONE="NONE"})(Sa||(Sa={}));function hs(r){switch(r){case Sa.ADMIN:return te.Admin;case Sa.MAINTAIN:return te.Maintain;case Sa.WRITE:return te.Write;case Sa.TRIAGE:return te.Triage;case Sa.READ:return te.Read;default:return te.None}}a(hs,"permissionToAccessLevel");function ll(r){switch(r&&(r=r.toLocaleLowerCase()),r){case"blob":return l.FileType.File;case"tree":case"commit":return l.FileType.Directory;default:return l.FileType.Unknown}}a(ll,"typenameToFileType");var Ji;(function(r){r.repositoryRegex=/^(?:https?:\/\/)?(?<subdomain>[^/]+)\.ghe\.(?:com)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,r.sshRepositoryRegex=/^[^@]+@(?<subdomain>\.ghe\.com):(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i})(Ji||(Ji={}));const cl=Object.freeze({id:"github-enterprise",name:"GitHub Enterprise"}),ds=1;function Qa(r){var e;const{scheme:t,metadata:n}=$.decodeAuthority(r,u=>{var c,f;if(u.v!==void 0)return u;if(typeof u.pr=="string")return{v:ds,ref:{type:_e.PullRequest,id:u.pr},idx:u.idx,subdomain:(c=u.subdomain)!=null?c:""};if(typeof u.ref=="string")return{v:ds,ref:{type:_e.Tree,id:u.ref},idx:u.idx,subdomain:(f=u.subdomain)!=null?f:""}}),[,i,o,...s]=ba.posix.normalize(r.path).split("/");return{scheme:t,provider:cl,name:`${i}/${o}`,repo:{owner:i,name:o,subdomain:(e=n==null?void 0:n.subdomain)!=null?e:""},path:s.join("/")||"",ref:n==null?void 0:n.ref}}a(Qa,"getGitHubEnterpriseMetadata");class Qs extends Va{get scheme(){return"github-enterprise"}async octokit(e){const t=this._proximaEndpoint();if(!t)throw new Error;return super.octokit({...e,baseUrl:`https://api.${t}`})}async ensureAuthenticated(e){return super.ensureAuthenticated(e,"github-enterprise")}_proximaEndpoint(){const e=l.workspace.getConfiguration("github-enterprise").get("uri","");if(!!e)try{const{authority:t}=l.Uri.parse(e);if(t.endsWith("ghe.com"))return t}catch{}}getRemoteWorkspaceSourceProviders(){const e=this._proximaEndpoint();return e?[{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Repository from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Repository from {0}",e),placeholder:l.l10n.t("Choose a repository, or type an organization or repo name to search"),provideSources:async(t,n,i,o)=>{i=i!=null?i:"";let s;const u=i==null?void 0:i.indexOf("/");u!==-1&&(s=i.substring(0,u),i=i.substr(u+1));const{results:c,hasSAMLProtectedResults:f}=await this.searchRepositoriesQuery(i,{...o,user:s}),g=[];if(f){const T={label:`$(lock) ${l.l10n.t("Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};g.push(T)}return g.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("repositories")},...c.map(T=>({providerId:"github",name:T.repoWithOwner,icon:"$(repo)",description:`${T.fork?`$(repo-forked) ${T.fork}`:""}${T.stars>0?`${T.fork?" \u2022 ":""}$(star-full) ${T.stars}`:""}`,detail:T.description,url:T.url}))),g}},{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Pull Request from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Pull Request from {0}",e),placeholder:l.l10n.t("Choose a pull request"),provideSources:async(t,n,i,o)=>{i=i!=null?i:"";let s;const u=i==null?void 0:i.indexOf("/");u!==-1&&(s=i.substring(0,u),i=i.substr(u+1));const{results:c,hasSAMLProtectedResults:f}=await this.searchPullRequestsQuery(i,{user:s}),g=[];if(f){const T={label:`$(lock) ${l.l10n.t("Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};g.push(T)}return g.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("pull requests")},...c.map(T=>({providerId:"github",name:T.title,icon:"$(git-pull-request)",description:T.reasons.length!==0?T.reasons.sort().join(", "):void 0,detail:`${T.repoWithOwner} #${T.number}`,url:T.url}))),g}}]:[]}canOpenRemoteUrl(e){var t;const n=(t=Ji.repositoryRegex.exec(e))!=null?t:Ji.sshRepositoryRegex.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:u}=n.groups;return s?Q.PullRequest:o?Q.Commit:u?Q.Branch:i?Q.File:Q.Repository}getHttpsCloneUri(e){let t,n,i;const o=e.toString(),s=Ji.repositoryRegex.exec(o);(s==null?void 0:s.groups)&&({owner:t,repo:n,subdomain:i}=s.groups);const u=Ji.sshRepositoryRegex.exec(o);if((u==null?void 0:u.groups)&&({owner:t,repo:n,subdomain:i}=u.groups),t&&n&&i)return this.getRemoteUri({repo:{owner:t,name:n,subdomain:i}})}async createWorkspaceForRemoteUrl(e,t=Ve.CurrentWindow,n=!1){var i;const o=(i=Ji.repositoryRegex.exec(e))!=null?i:Ji.sshRepositoryRegex.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{subdomain:s,owner:u,repo:c,blob:f,commit:g,pull:T,tree:R,fragment:H}=o.groups;c=c.endsWith(".git")?c.slice(0,c.length-4):c;let oe,se;if(n||R||f){const Le=await this.validateOwnerAndRepoAndSplitRefFromPath(u,c,R!=null?R:f);if(Le===void 0)return;({owner:u,repo:c,ref:se,path:oe}=Le)}if(R||f){if(oe&&H&&f){const Le=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(H);if(Le==null?void 0:Le.groups){const{start:rt,end:He}=Le.groups;oe+=`:${rt}${He!==void 0?`-${He}`:""}`}}}else g?se={type:_e.Commit,id:g}:T&&(se={type:_e.PullRequest,id:T});const Ee=this.providerService.createVirtualUri("github-enterprise",{repo:{subdomain:s,owner:u,name:c},ref:se}),{name:Te}=Qa($.getVirtualUri(this.getProviderRootUri(Ee)));return{name:Te,uri:Ee,location:t,filesToOpen:oe?[oe]:void 0}}createVirtualUri(e,{repo:t,ref:n},i){const o=n!==void 0||t.subdomain!==void 0?{v:ds,subdomain:t.subdomain}:void 0;return o&&n&&(o.ref={...n,type:n.type===_e.Branch||n.type===_e.Tag?_e.Tree:n.type}),e.with({authority:$.encodeAuthority("github-enterprise",o),path:`/${t.owner}/${t.name}${(i==null?void 0:i.startsWith("/"))?i:i?`/${i}`:""}`})}getRemoteUri(e){const t=`https://${e.repo.subdomain}.ghe.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"",o=e.item?Ks(e.item):"",s=o?`#${o}`:"";return e.pullRequest?l.Uri.parse(`${t}/pull/${e.pullRequest.id}`):e.branch?l.Uri.parse(`${t}/${n}/${e.branch}${i}${s}`):e.tag?l.Uri.parse(`${t}/${n}/${e.tag}${i}${s}`):e.sha?l.Uri.parse(`${t}/${n}/${e.sha}${i}${s}`):l.Uri.parse(t)}getRelativeFilePath(e,t){let{path:n}=Qa(e);const{path:i}=Qa(M(e,t));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:t,name:n,repo:i,ref:o}=Qa(e);return{provider:t,name:n,repo:i,ref:o}}async getTarGz(e,t,n){const{repo:{owner:i,name:o,subdomain:s}}=await this.getMetadata(e),u=await this.ensureAuthenticated(),c=Oe.get("indexing.verboseDownloadNotification");return l.window.withProgress({location:c?l.ProgressLocation.Notification:l.ProgressLocation.Window,cancellable:!0,title:l.l10n.t("Downloading repository index")},async(f,g)=>{try{const T=`https://api.${s}.ghe.com/repos/${i}/${o}/tarball/${t}`;return await va(T,{headers:{Authorization:`Bearer ${u.accessToken}`}},n,g,f)}catch(T){throw O.error(T),T}})}async createMetadata(e,t){var n,i,o,s,u,c;const f=new X(`GitHub.createMetadata(${e.toString()}, ${t})`);let g;try{let{provider:T,name:R,repo:{owner:H,name:oe,subdomain:se},ref:Ee}=Qa(e);(!Ee||Ee.type===_e.Commit&&/HEAD/i.test(Ee.id))&&(Ee={type:_e.Commit,id:"HEAD"});const Te=this.providerService.isInWorkspace(e),Le=await this.getRepositoryInfo(H,oe,Te,Ee.type===_e.PullRequest?{pr:Number(Ee.id)}:{ref:Ee.id});if(Le===void 0)throw g=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let rt;if(t)rt=t;else if(Ee.type===_e.Commit&&Ee.id!=="HEAD"||Ee.type===_e.Tree&&Le.ref===void 0)rt=Ee.id;else if(rt=(i=(n=Le.ref)==null?void 0:n.sha)!=null?i:Le.defaultBranch.sha,rt===void 0)throw g=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let He;if(((o=Le.ref)==null?void 0:o.prefix)==="refs/heads/")He={type:Z.Branch,name:Le.ref.name,sha:rt,branch:{name:Le.ref.name,sha:Le.ref.sha}};else if(((s=Le.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Le.ref.remote)throw g=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);const Ye=Ji.repositoryRegex.exec(Le.cloneUrl.http);(Ye==null?void 0:Ye.groups)&&(se=Ye.groups.subdomain),He={type:Z.RemoteBranch,name:`${Le.ref.remote.repo.owner}${Le.ref.remote.repo.name!==oe?`/${Le.ref.remote.repo.name}`:""}:${Le.ref.name}`,sha:rt,branch:{name:Le.ref.name,sha:Le.ref.sha,remote:{...Le.ref.remote,repo:{...Le.ref.remote.repo,subdomain:se}}}}}else if(((u=Le.ref)==null?void 0:u.prefix)==="refs/tags/")He={type:Z.Tag,name:Le.ref.name,sha:Le.ref.sha,detached:{type:Z.Tag,name:Le.ref.name}};else if(D(rt))He={type:Z.Commit,name:x(rt),sha:rt,detached:{type:Z.Commit,name:x(rt)}};else throw g=" \u2022 Aborted; Unable to get HEAD info",Jn.showRepositoryNotFoundMessage(`${H}/${oe}`,Ee.id,()=>{const Ye=this.getRemoteUri({repo:{owner:H,name:oe,subdomain:se}});l.commands.executeCommand("remoteHub.openRepository",Ye.toString())}),new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get HEAD info`);await this.validateMetadataRevision(H,oe,He);let lt,Ct;if(Oe.get("experimental.prefetch")&&Te&&(lt=rt,f.log({suffix:` \u2022 Prefetching tree for ${lt}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(Ye=>Ct=Ye),repo:{owner:H,name:oe,subdomain:se},HEAD:{sha:lt},timestamp:Date.now()}})),lt!==void 0&&lt!==He.sha){const Ye=this.asFileTreeKey(e,lt),Gt=this.fileTreeCache.get(Ye);Gt&&!D(lt)&&He.sha===((c=He.branch)==null?void 0:c.sha)?(f.log({suffix:` \u2022 Updating prefetched tree for ${lt}, since HEAD was resolved; HEAD=${He.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,He.sha),Gt),this.fileTreeCache.delete(Ye)):(f.log({suffix:` \u2022 Removing prefetched tree for ${lt}, since the HEAD changed; HEAD=${He.sha}`}),this.fileTreeCache.delete(Ye),Gt==null||Gt.dispose())}const _t={version:zn.schemaVersion,timestamp:Date.now(),provider:T,name:R,repo:{...Le.repo,subdomain:se},cloneUrl:Le.cloneUrl,accessLevel:Le.accessLevel,HEAD:He,defaultBranch:Le.defaultBranch,pullRequest:Le.pullRequest};return g=` \u2022 HEAD=${He.sha}`,Ct==null||Ct(_t),_t}finally{f.stop(g?{suffix:g}:void 0)}}}a(Qs,"GitHubEnterpriseRepositoryProvider");var gs=__webpack_require__(7360),Js,Zn;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Zn||(Zn={}));class Zs{constructor(){this[Js]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=Zn.None){const n=this._map.get(e);if(!!n)return t!==Zn.None&&this.touch(n,t),n.value}set(e,t,n=Zn.None){let i=this._map.get(e);if(i)i.value=t,n!==Zn.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Zn.None:this.addItemLast(i);break;case Zn.First:this.addItemFirst(i);break;case Zn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.key,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.value,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:[t.key,t.value],done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}[(Js=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Zn.First&&t!==Zn.Last)){if(t===Zn.First){if(e===this._head)return;const n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Zn.Last){if(e===this._tail)return;const n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}a(Zs,"LinkedMap");class Xs extends Zs{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Zn.AsNew){return super.get(e,t)}peek(e){return super.get(e,Zn.None)}set(e,t){return super.set(e,t,Zn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(Xs,"LRUCache");function ps(r,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(r);let n;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(s=>`${s}/**`)]),o=wa()(r,[...i],{dot:!0,nocase:!0});n=new Set(o)}if(t==null?void 0:t.length){const i=new Set([...t,...t.map(o=>`${o}/**`)]);if(n===void 0){const o=wa().not(r,[...i],{dot:!0,nocase:!0});n=new Set(o)}else wa()(r,[...i],{dot:!0,nocase:!0}).forEach(n.delete,n)}return n}a(ps,"globFilter");function fl(r,e={}){if(!r)return au;if(typeof r=="string"||xl(r)){const t=ms(r,e);if(t===Hi)return au;const n=a(function(i,o){return!!t(i,o)},"resultPattern");return t.allBasenames&&(n.allBasenames=t.allBasenames),t.allPaths&&(n.allPaths=t.allPaths),n}return Tl(r,e)}a(fl,"globs_parse");function hl(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e||r.length!==e.length)return!1;for(let n=0,i=r.length;n<i;n++)if(!t(r[n],e[n]))return!1;return!0}a(hl,"equals");function vs(r){return!!r&&typeof r.then=="function"}a(vs,"isThenable");function nc(){return Object.create(null)}a(nc,"getEmptyExpression");const Co="**",eu="/",To="[/\\\\]",Do="[^/\\\\]",ic=/\//g;function tu(r,e){switch(r){case 0:return"";case 1:return`${Do}*?`;default:return`(?:${To}|${Do}+${To}${e?`|${To}${Do}+`:""})*?`}}a(tu,"starsToRegExp");function ru(r,e){if(!r)return[];const t=[];let n=!1,i=!1,o="";for(const s of r){switch(s){case e:if(!n&&!i){t.push(o),o="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=s}return o&&t.push(o),t}a(ru,"splitGlobAware");function nu(r){if(!r)return"";let e="";const t=ru(r,eu);if(t.every(n=>n===Co))e=".*";else{let n=!1;t.forEach((i,o)=>{if(i===Co){if(n)return;e+=tu(2,o===t.length-1)}else{let s=!1,u="",c=!1,f="";for(const g of i){if(g!=="}"&&s){u+=g;continue}if(c&&(g!=="]"||!f)){let T;g==="-"?T=g:(g==="^"||g==="!")&&!f?T="^":g===eu?T="":T=escapeRegExpCharacters(g),f+=T;continue}switch(g){case"{":s=!0;continue;case"[":c=!0;continue;case"}":{e+=`(?:${ru(u,",").map(H=>nu(H)).join("|")})`,s=!1,u="";break}case"]":{e+="["+f+"]",c=!1,f="";break}case"?":e+=Do;continue;case"*":e+=tu(1);continue;default:e+=escapeRegExpCharacters(g)}}o<t.length-1&&(t[o+1]!==Co||o+2<t.length)&&(e+=To)}n=i===Co})}return e}a(nu,"parseRegExp");const dl=/^\*\*\/\*\.[\w\.-]+$/,gl=/^\*\*\/([\w\.-]+)\/?$/,pl=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,vl=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,ml=/^\*\*((\/[\w\.-]+)+)\/?$/,yl=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,iu=new Xs(1e4),au=a(function(){return!1},"FALSE"),Hi=a(function(){return null},"NULL");function ms(r,e){if(!r)return Hi;let t;typeof r!="string"?t=r.pattern:t=r,t=t.trim();const n=`${t}_${!!e.trimForExclusions}`;let i=iu.get(n);if(i)return ou(i,r);let o;return dl.test(t)?i=wl(t.substr(4),t):(o=gl.exec(ys(t,e)))?i=El(o[1],t):(e.trimForExclusions?vl:pl).test(t)?i=Sl(t,e):(o=ml.exec(ys(t,e)))?i=su(o[1].substr(1),t,!0):(o=yl.exec(ys(t,e)))?i=su(o[1],t,!1):i=bl(t),iu.set(n,i),ou(i,r)}a(ms,"parsePattern");function _l(r,e){if(!r||!e)return r;const t=e.length;if(t===0||r.length===0)return r;let n=0;for(;r.indexOf(e,n)===n;)n=n+t;return r.substring(n)}a(_l,"ltrim");function ou(r,e){if(typeof e=="string")return r;const t=a(function(n,i){return isDescendent(n,e.base)?r(_l(n.substr(e.base.length),"/"),i):null},"wrappedPattern");return t.allBasenames=r.allBasenames,t.allPaths=r.allPaths,t.basenames=r.basenames,t.patterns=r.patterns,t}a(ou,"wrapRelativePattern");function ys(r,e){return e.trimForExclusions&&r.endsWith("/**")?r.substr(0,r.length-2):r}a(ys,"trimForExclusions");function wl(r,e){return function(t,n){return typeof t=="string"&&t.endsWith(r)?e:null}}a(wl,"trivia1");function El(r,e){const t=`/${r}`,n=`\\${r}`,i=a(function(s,u){return typeof s!="string"?null:u?u===r?e:null:s===r||s.endsWith(t)||s.endsWith(n)?e:null},"parsedPattern"),o=[r];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}a(El,"trivia2");function Sl(r,e){const t=uu(r.slice(1,-1).split(",").map(u=>ms(u,e)).filter(u=>u!==Hi),r),n=t.length;if(!n)return Hi;if(n===1)return t[0];const i=a(function(u,c){for(let f=0,g=t.length;f<g;f++)if(t[f](u,c))return r;return null},"parsedPattern"),o=t.find(u=>!!u.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=t.reduce((u,c)=>c.allPaths?u.concat(c.allPaths):u,[]);return s.length&&(i.allPaths=s),i}a(Sl,"trivia3");function su(r,e,t){const n="/"+r;let i;return t?i=a(function(o,s){return typeof o=="string"&&o.endsWith(n)?e:null},"parsedPattern"):i=a(function(o,s){return null},"parsedPattern"),i.allPaths=[(t?"*/":"./")+r],i}a(su,"trivia4and5");function bl(r){try{const e=new RegExp(`^${nu(r)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?r:null}}catch(e){return Hi}}a(bl,"toRegExp");function ac(r,e,t){return!r||typeof e!="string"?!1:fl(r)(e,void 0,t)}a(ac,"match");function xl(r){const e=r;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(xl,"isRelativePattern");function oc(r){return r.allBasenames||[]}a(oc,"getBasenameTerms");function sc(r){return r.allPaths||[]}a(sc,"getPathTerms");function Cl(r){let e=-1,t=0,n=-1,i=!0,o=0;for(let s=r.length-1;s>=0;--s){const u=r.charCodeAt(s);if(u===47){if(!i){t=s+1;break}continue}n===-1&&(i=!1,n=s+1),u===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":r.slice(e,n)}a(Cl,"extname");function Tl(r,e){const t=uu(Object.getOwnPropertyNames(r).map(u=>Dl(u,r[u],e)).filter(u=>u!==Hi)),n=t.length;if(!n)return Hi;if(!t.some(u=>!!u.requiresSiblings)){if(n===1)return t[0];const u=a(function(g,T){let R;for(let H=0,oe=t.length;H<oe;H++){const se=t[H](g,T);if(typeof se=="string")return se;vs(se)&&(R||(R=[]),R.push(se))}return R?(async()=>{for(const H of R){const oe=await H;if(typeof oe=="string")return oe}return null})():null},"resultExpression2"),c=t.find(g=>!!g.allBasenames);c&&(u.allBasenames=c.allBasenames);const f=t.reduce((g,T)=>T.allPaths?g.concat(T.allPaths):g,[]);return f.length&&(u.allPaths=f),u}const i=a(function(u,c,f){let g,T;for(let R=0,H=t.length;R<H;R++){const oe=t[R];oe.requiresSiblings&&f&&(c||(c=basename(u)),g||(g=c.substr(0,c.length-Cl(u).length)));const se=oe(u,c,g,f);if(typeof se=="string")return se;vs(se)&&(T||(T=[]),T.push(se))}return T?(async()=>{for(const R of T){const H=await R;if(typeof H=="string")return H}return null})():null},"resultExpression"),o=t.find(u=>!!u.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=t.reduce((u,c)=>c.allPaths?u.concat(c.allPaths):u,[]);return s.length&&(i.allPaths=s),i}a(Tl,"parsedExpression");function Dl(r,e,t){if(e===!1)return Hi;const n=ms(r,t);if(n===Hi)return Hi;if(typeof e=="boolean")return n;if(e){const i=e.when;if(typeof i=="string"){const o=a((s,u,c,f)=>{if(!f||!n(s,u))return null;const g=i.replace("$(basename)",()=>c),T=f(g);return vs(T)?T.then(R=>R?r:null):T?r:null},"result");return o.requiresSiblings=!0,o}}return n}a(Dl,"parseExpressionPattern");function uu(r,e){const t=r.filter(u=>!!u.basenames);if(t.length<2)return r;const n=t.reduce((u,c)=>{const f=c.basenames;return f?u.concat(f):u},[]);let i;if(e){i=[];for(let u=0,c=n.length;u<c;u++)i.push(e)}else i=t.reduce((u,c)=>{const f=c.patterns;return f?u.concat(f):u},[]);const o=a(function(u,c){if(typeof u!="string")return null;if(!c){let g;for(g=u.length;g>0;g--){const T=u.charCodeAt(g-1);if(T===47||T===92)break}c=u.substr(g)}const f=n.indexOf(c);return f!==-1?i[f]:null},"aggregate");o.basenames=n,o.patterns=i,o.allBasenames=n;const s=r.filter(u=>!u.basenames);return s.push(o),s}a(uu,"aggregateBasenameMatches");function uc(r,e){return hl(r,e,(t,n)=>typeof t=="string"&&typeof n=="string"?t===n:typeof t!="string"&&typeof n!="string"?t.base===n.base&&t.pattern===n.pattern:!1)}a(uc,"patternsEquals");const Al="";function Rl(...r){if(r.length===1){const e=r[0];return e===void 0?Al:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof l.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(r)}a(Rl,"serialize_defaultResolver");function _s(r){return(e,t,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$serialize$${t}`;n.value=function(...s){const u=s.length===0?o:`${o}$${(r!=null?r:Rl)(...s)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[u];const f=a(()=>i.apply(this,s),"run");return c===void 0?c=f():c=c.then(f,f),this[u]=c,c}}}a(_s,"serialize");function Il(r,e,t={}){if(!r)throw new Error("Cannot create regex from empty string");e||(r=ai(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r=`\\b${r}`),/\B/.test(r.charAt(r.length-1))||(r=`${r}\\b`));let n="gmu";return t.matchCase||(n+="i"),new RegExp(r,n)}a(Il,"createRegExp");let lu,cu,ws;const Fl=a((r,e,t,n)=>{const i=`${e.join("--")};;;;${t.join("--")}`,o=r.map(u=>u.path).join("::");if(lu===o&&i==cu&&ws)return ws;const s=ps((n?r.filter(u=>u.size<n):r).map(u=>u.path),e,t);return lu=o,cu=i,ws=s,s},"generateIncludeSet"),Pl=a((r,e,t,n)=>{var i;const o=[];let s;if(typeof r=="string")s=r;else{const g=r;if(g[0]==255&&g[1]==254)s=new TextDecoder("utf-16le").decode(g);else if(g[0]==254&&g[1]==255)s=new TextDecoder("utf-16be").decode(g);else if(s=new TextDecoder("utf8").decode(g),s.slice(0,1e3).includes("\uFFFD")&&g.includes(0))return[]}const u=[];let c=null,f=n.remainingResultQuota;for(;(f===void 0||f>=0)&&(c=t.exec(s));)u.push({matchStartIndex:c.index,matchedText:c[0]}),f!==void 0&&f--;if(u.length){const g=new Set,T=new Set,R=[],H=a(Le=>s.slice(R[Le].start,R[Le].end),"readLine");let oe=0,se=null;const Ee=/\r?\n/g;for(;se=Ee.exec(s);)R.push({start:oe,end:se.index}),oe=se.index+se[0].length;oe<s.length&&R.push({start:oe,end:s.length});let Te=0;for(const{matchStartIndex:Le,matchedText:rt}of u){if(f!==void 0&&f<0)break;for(;Boolean(R[Te+1])&&Le>R[Te].end;)Te++;let He=Te;for(;Boolean(R[He+1])&&Le+rt.length>R[He].end;)He++;if(n.beforeContext)for(let vt=Math.max(0,Te-n.beforeContext);vt<Te;vt++)g.add(vt);let lt="",Ct=0;for(let vt=Te;vt<=He;vt++){let gr=H(vt);((i=n.previewOptions)==null?void 0:i.charsPerLine)&&gr.length>n.previewOptions.charsPerLine&&(Ct=Math.max(Le-R[Te].start-20,0),gr=gr.substr(Ct,n.previewOptions.charsPerLine)),lt+=`${gr}
`,T.add(vt)}const _t=new l.Range(Te,Le-R[Te].start,He,Le+rt.length-R[He].start),Ye=new l.Range(0,Le-R[Te].start-Ct,He-Te,Le+rt.length-R[He].start-(He===Te?Ct:0)),Gt={uri:l.Uri.file(e),ranges:_t,preview:{text:lt,matches:Ye}};if(o.push(Gt),n.afterContext)for(let vt=He+1;vt<=Math.min(He+n.afterContext,R.length-1);vt++)g.add(vt)}for(const Le of g)T.has(Le)||o.push({uri:l.Uri.file(e),text:H(Le),lineNumber:Le+1})}return o},"getFileResults");var fu={},Ol=a(function(r,e,t,n,i){var o=new Worker(fu[e]||(fu[e]=URL.createObjectURL(new Blob([r+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(s){var u=s.data,c=u.$e$;if(c){var f=new Error(c[0]);f.code=c[1],f.stack=c[2],i(f,null)}else i(null,u)},o.postMessage(t,n),o},"wk"),Xr=Uint8Array,Xn=Uint16Array,Fa=Uint32Array,Pa=new Xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oa=new Xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ja=new Xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hu=a(function(r,e){for(var t=new Xn(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Fa(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return[t,i]},"freb"),du=hu(Pa,2),Es=du[0],Ao=du[1];Es[28]=258,Ao[258]=28;for(var gu=hu(Oa,0),pu=gu[0],Ss=gu[1],Za=new Xn(32768),vn=0;vn<32768;++vn){var la=(vn&43690)>>>1|(vn&21845)<<1;la=(la&52428)>>>2|(la&13107)<<2,la=(la&61680)>>>4|(la&3855)<<4,Za[vn]=((la&65280)>>>8|(la&255)<<8)>>>1}for(var Wi=a(function(r,e,t){for(var n=r.length,i=0,o=new Xn(e);i<n;++i)r[i]&&++o[r[i]-1];var s=new Xn(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var u;if(t){u=new Xn(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var f=i<<4|r[i],g=e-r[i],T=s[r[i]-1]++<<g,R=T|(1<<g)-1;T<=R;++T)u[Za[T]>>>c]=f}else for(u=new Xn(n),i=0;i<n;++i)r[i]&&(u[i]=Za[s[r[i]-1]++]>>>15-r[i]);return u},"hMap"),ca=new Xr(288),vn=0;vn<144;++vn)ca[vn]=8;for(var vn=144;vn<256;++vn)ca[vn]=9;for(var vn=256;vn<280;++vn)ca[vn]=7;for(var vn=280;vn<288;++vn)ca[vn]=8;for(var Xa=new Xr(32),vn=0;vn<32;++vn)Xa[vn]=5;var vu=null,mu=Wi(ca,9,1),yu=null,_u=Wi(Xa,5,1),Ro=a(function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},"browser_max"),Di=a(function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},"bits"),Io=a(function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},"bits16"),eo=a(function(r){return(r+7)/8|0},"shft"),fa=a(function(r,e,t){(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length);var n=new(r.BYTES_PER_ELEMENT==2?Xn:r.BYTES_PER_ELEMENT==4?Fa:Xr)(t-e);return n.set(r.subarray(e,t)),n},"slc"),lc={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},wu=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wr=a(function(r,e,t){var n=new Error(e||wu[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Wr),!t)throw n;return n},"err"),Fo=a(function(r,e,t){var n=r.length;if(!n||t&&t.f&&!t.l)return e||new Xr(0);var i=!e||t,o=!t||t.i;t||(t={}),e||(e=new Xr(n*3));var s=a(function(Vo){var ao=e.length;if(Vo>ao){var Ua=new Xr(Math.max(ao*2,Vo));Ua.set(e),e=Ua}},"cbuf"),u=t.f||0,c=t.p||0,f=t.b||0,g=t.l,T=t.d,R=t.m,H=t.n,oe=n*8;do{if(!g){u=Di(r,c,1);var se=Di(r,c+1,3);if(c+=3,se)if(se==1)g=mu,T=_u,R=9,H=5;else if(se==2){var rt=Di(r,c,31)+257,He=Di(r,c+10,15)+4,lt=rt+Di(r,c+5,31)+1;c+=14;for(var Ct=new Xr(lt),_t=new Xr(19),Ye=0;Ye<He;++Ye)_t[Ja[Ye]]=Di(r,c+Ye*3,7);c+=He*3;for(var Gt=Ro(_t),vt=(1<<Gt)-1,gr=Wi(_t,Gt,1),Ye=0;Ye<lt;){var sr=gr[Di(r,c,vt)];c+=sr&15;var Ee=sr>>>4;if(Ee<16)Ct[Ye++]=Ee;else{var Lr=0,mr=0;for(Ee==16?(mr=3+Di(r,c,3),c+=2,Lr=Ct[Ye-1]):Ee==17?(mr=3+Di(r,c,7),c+=3):Ee==18&&(mr=11+Di(r,c,127),c+=7);mr--;)Ct[Ye++]=Lr}}var nn=Ct.subarray(0,rt),zr=Ct.subarray(rt);R=Ro(nn),H=Ro(zr),g=Wi(nn,R,1),T=Wi(zr,H,1)}else Wr(1);else{var Ee=eo(c)+4,Te=r[Ee-4]|r[Ee-3]<<8,Le=Ee+Te;if(Le>n){o&&Wr(0);break}i&&s(f+Te),e.set(r.subarray(Ee,Le),f),t.b=f+=Te,t.p=c=Le*8,t.f=u;continue}if(c>oe){o&&Wr(0);break}}i&&s(f+131072);for(var en=(1<<R)-1,Dn=(1<<H)-1,Kn=c;;Kn=c){var Lr=g[Io(r,c)&en],_i=Lr>>>4;if(c+=Lr&15,c>oe){o&&Wr(0);break}if(Lr||Wr(2),_i<256)e[f++]=_i;else if(_i==256){Kn=c,g=null;break}else{var vi=_i-254;if(_i>264){var Ye=_i-257,Li=Pa[Ye];vi=Di(r,c,(1<<Li)-1)+Es[Ye],c+=Li}var ji=T[Io(r,c)&Dn],mi=ji>>>4;ji||Wr(3),c+=ji&15;var zr=pu[mi];if(mi>3){var Li=Oa[mi];zr+=Io(r,c)&(1<<Li)-1,c+=Li}if(c>oe){o&&Wr(0);break}i&&s(f+131072);for(var ti=f+vi;f<ti;f+=4)e[f]=e[f-zr],e[f+1]=e[f+1-zr],e[f+2]=e[f+2-zr],e[f+3]=e[f+3-zr];f=ti}}t.l=g,t.p=Kn,t.b=f,t.f=u,g&&(u=1,t.m=R,t.d=T,t.n=H)}while(!u);return f==e.length?e:fa(e,0,f)},"inflt"),zi=a(function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8},"wbits"),Na=a(function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},"wbits16"),Po=a(function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,o=t.slice();if(!i)return[Lo,0];if(i==1){var s=new Xr(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(lt,Ct){return lt.f-Ct.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,g=1,T=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};g!=i-1;)u=t[t[f].f<t[T].f?f++:T++],c=t[f!=g&&t[f].f<t[T].f?f++:T++],t[g++]={s:-1,f:u.f+c.f,l:u,r:c};for(var R=o[0].s,n=1;n<i;++n)o[n].s>R&&(R=o[n].s);var H=new Xn(R+1),oe=Oo(t[g-1],H,0);if(oe>e){var n=0,se=0,Ee=oe-e,Te=1<<Ee;for(o.sort(function(Ct,_t){return H[_t.s]-H[Ct.s]||Ct.f-_t.f});n<i;++n){var Le=o[n].s;if(H[Le]>e)se+=Te-(1<<oe-H[Le]),H[Le]=e;else break}for(se>>>=Ee;se>0;){var rt=o[n].s;H[rt]<e?se-=1<<e-H[rt]++-1:++n}for(;n>=0&&se;--n){var He=o[n].s;H[He]==e&&(--H[He],++se)}oe=e}return[new Xr(H),oe]},"hTree"),Oo=a(function(r,e,t){return r.s==-1?Math.max(Oo(r.l,e,t+1),Oo(r.r,e,t+1)):e[r.s]=t},"ln"),bs=a(function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Xn(++e),n=0,i=r[0],o=1,s=a(function(c){t[n++]=c},"w"),u=1;u<=e;++u)if(r[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=r[u]}return[t.subarray(0,n),e]},"lc"),La=a(function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},"clen"),No=a(function(r,e,t){var n=t.length,i=eo(e+2);r[i]=n&255,r[i+1]=n>>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var o=0;o<n;++o)r[i+o+4]=t[o];return(i+4+n)*8},"wfblk"),xs=a(function(r,e,t,n,i,o,s,u,c,f,g){zi(e,g++,t),++i[256];for(var T=Po(i,15),R=T[0],H=T[1],oe=Po(o,15),se=oe[0],Ee=oe[1],Te=bs(R),Le=Te[0],rt=Te[1],He=bs(se),lt=He[0],Ct=He[1],_t=new Xn(19),Ye=0;Ye<Le.length;++Ye)_t[Le[Ye]&31]++;for(var Ye=0;Ye<lt.length;++Ye)_t[lt[Ye]&31]++;for(var Gt=Po(_t,7),vt=Gt[0],gr=Gt[1],sr=19;sr>4&&!vt[Ja[sr-1]];--sr);var Lr=f+5<<3,mr=La(i,ca)+La(o,Xa)+s,nn=La(i,R)+La(o,se)+s+14+3*sr+La(_t,vt)+(2*_t[16]+3*_t[17]+7*_t[18]);if(Lr<=mr&&Lr<=nn)return No(e,g,r.subarray(c,c+f));var zr,en,Dn,Kn;if(zi(e,g,1+(nn<mr)),g+=2,nn<mr){zr=Wi(R,H,0),en=R,Dn=Wi(se,Ee,0),Kn=se;var _i=Wi(vt,gr,0);zi(e,g,rt-257),zi(e,g+5,Ct-1),zi(e,g+10,sr-4),g+=14;for(var Ye=0;Ye<sr;++Ye)zi(e,g+3*Ye,vt[Ja[Ye]]);g+=3*sr;for(var vi=[Le,lt],Li=0;Li<2;++Li)for(var ji=vi[Li],Ye=0;Ye<ji.length;++Ye){var mi=ji[Ye]&31;zi(e,g,_i[mi]),g+=vt[mi],mi>15&&(zi(e,g,ji[Ye]>>>5&127),g+=ji[Ye]>>>12)}}else zr=vu,en=ca,Dn=yu,Kn=Xa;for(var Ye=0;Ye<u;++Ye)if(n[Ye]>255){var mi=n[Ye]>>>18&31;Na(e,g,zr[mi+257]),g+=en[mi+257],mi>7&&(zi(e,g,n[Ye]>>>23&31),g+=Pa[mi]);var ti=n[Ye]&31;Na(e,g,Dn[ti]),g+=Kn[ti],ti>3&&(Na(e,g,n[Ye]>>>5&8191),g+=Oa[ti])}else Na(e,g,zr[n[Ye]]),g+=en[n[Ye]];return Na(e,g,zr[256]),g+en[256]},"wblk"),Eu=new Fa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lo=new Xr(0),Su=a(function(r,e,t,n,i,o){var s=r.length,u=new Xr(n+s+5*(1+Math.ceil(s/7e3))+i),c=u.subarray(n,u.length-i),f=0;if(!e||s<8)for(var g=0;g<=s;g+=65535){var T=g+65535;T>=s&&(c[f>>3]=o),f=No(c,f+1,r.subarray(g,T))}else{for(var R=Eu[e-1],H=R>>>13,oe=R&8191,se=(1<<t)-1,Ee=new Xn(32768),Te=new Xn(se+1),Le=Math.ceil(t/3),rt=2*Le,He=a(function(Us){return(r[Us]^r[Us+1]<<Le^r[Us+2]<<rt)&se},"hsh"),lt=new Fa(25e3),Ct=new Xn(288),_t=new Xn(32),Ye=0,Gt=0,g=0,vt=0,gr=0,sr=0;g<s;++g){var Lr=He(g),mr=g&32767,nn=Te[Lr];if(Ee[mr]=nn,Te[Lr]=mr,gr<=g){var zr=s-g;if((Ye>7e3||vt>24576)&&zr>423){f=xs(r,c,0,lt,Ct,_t,Gt,vt,sr,g-sr,f),vt=Ye=Gt=0,sr=g;for(var en=0;en<286;++en)Ct[en]=0;for(var en=0;en<30;++en)_t[en]=0}var Dn=2,Kn=0,_i=oe,vi=mr-nn&32767;if(zr>2&&Lr==He(g-vi))for(var Li=Math.min(H,zr)-1,ji=Math.min(32767,g),mi=Math.min(258,zr);vi<=ji&&--_i&&mr!=nn;){if(r[g+Dn]==r[g+Dn-vi]){for(var ti=0;ti<mi&&r[g+ti]==r[g+ti-vi];++ti);if(ti>Dn){if(Dn=ti,Kn=vi,ti>Li)break;for(var Vo=Math.min(vi,ti-2),ao=0,en=0;en<Vo;++en){var Ua=g-vi+en+32768&32767,tc=Ee[Ua],Vu=Ua-tc+32768&32767;Vu>ao&&(ao=Vu,nn=Ua)}}}mr=nn,nn=Ee[mr],vi+=mr-nn+32768&32767}if(Kn){lt[vt++]=268435456|Ao[Dn]<<18|Ss[Kn];var Qu=Ao[Dn]&31,Ju=Ss[Kn]&31;Gt+=Pa[Qu]+Oa[Ju],++Ct[257+Qu],++_t[Ju],gr=g+Dn,++Ye}else lt[vt++]=r[g],++Ct[r[g]]}}f=xs(r,c,o,lt,Ct,_t,Gt,vt,sr,g-sr,f),!o&&f&7&&(f=No(c,f+1,Lo))}return fa(u,0,n+eo(f)+i)},"dflt"),bu=null,Mo=a(function(){var r=-1;return{p:function(e){for(var t=r,n=0;n<e.length;++n)t=bu[t&255^e[n]]^t>>>8;r=t},d:function(){return~r}}},"crc"),xu=a(function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,o=t.length|0,s=0;s!=o;){for(var u=Math.min(s+2655,o);s<u;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|r>>>8<<16|(e&255)<<8|e>>>8}}},"adler"),ko=a(function(r,e,t,n,i){return Su(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,n,!i)},"dopt"),Uo=a(function(r,e){var t={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n];return t},"mrg"),Cu=a(function(r,e,t){for(var n=r(),i=r.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<n.length;++s){var u=n[s],c=o[s];if(typeof u=="function"){e+=";"+c+"=";var f=u.toString();if(u.prototype)if(f.indexOf("[native code]")!=-1){var g=f.indexOf(" ",8)+1;e+=f.slice(g,f.indexOf("(",g))}else{e+=f;for(var T in u.prototype)e+=";"+c+".prototype."+T+"="+u.prototype[T].toString()}else e+=f}else t[c]=u}return[e,t]},"wcln"),Bo=null,Nl=a(function(r){var e=[];for(var t in r)r[t].buffer&&e.push((r[t]=new r[t].constructor(r[t])).buffer);return e},"cbfs"),Tu=a(function(r,e,t,n){var i;if(!Bo[t]){for(var o="",s={},u=r.length-1,c=0;c<u;++c)i=Cu(r[c],o,s),o=i[0],s=i[1];Bo[t]=Cu(r[u],o,s)}var f=Uo({},Bo[t][1]);return Ol(Bo[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,f,Nl(f),n)},"wrkr"),Cs=a(function(){return[Xr,Xn,Fa,Pa,Oa,Ja,Es,pu,mu,_u,Za,wu,Wi,Ro,Di,Io,eo,fa,Wr,Fo,to,ha,Ds]},"bInflt"),Ts=a(function(){return[Xr,Xn,Fa,Pa,Oa,Ja,Ao,Ss,vu,ca,yu,Xa,Za,Eu,Lo,Wi,zi,Na,Po,Oo,bs,La,No,xs,eo,fa,Su,ko,$o,ha]},"bDflt"),Ll=a(function(){return[Du,Iu,wn,Mo,bu]},"gze"),Ml=a(function(){return[Au,Ru]},"guze"),kl=a(function(){return[Fu,wn,xu]},"zle"),Ul=a(function(){return[Pu]},"zule"),ha=a(function(r){return postMessage(r,[r.buffer])},"pbf"),Ds=a(function(r){return r&&r.size&&new Xr(r.size)},"gu8"),Ma=a(function(r,e,t,n,i,o){var s=Tu(t,n,i,function(u,c){s.terminate(),o(u,c)});return s.postMessage([r,e],e.consume?[r.buffer]:[]),function(){s.terminate()}},"cbify"),cc=a(function(r){return r.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return r.push(e.data[0],e.data[1])}},"astrm"),fc=a(function(r,e,t,n,i){var o,s=Tu(r,n,i,function(u,c){u?(s.terminate(),e.ondata.call(e,u)):(c[1]&&s.terminate(),e.ondata.call(e,u,c[0],c[1]))});s.postMessage(t),e.push=function(u,c){e.ondata||Wr(5),o&&e.ondata(Wr(4,0,1),null,!!c),s.postMessage([u,o=c],[u.buffer])},e.terminate=function(){s.terminate()}},"astrmify"),Ni=a(function(r,e){return r[e]|r[e+1]<<8},"b2"),jn=a(function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},"b4"),As=a(function(r,e){return jn(r,e)+jn(r,e+4)*4294967296},"b8"),wn=a(function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},"wbytes"),Du=a(function(r,e){var t=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&wn(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){r[3]=8;for(var n=0;n<=t.length;++n)r[n+10]=t.charCodeAt(n)}},"gzh"),Au=a(function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&Wr(6,"invalid gzip data");var e=r[3],t=10;e&4&&(t+=r[10]|(r[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!r[t++]);return t+(e&2)},"gzs"),Ru=a(function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},"gzl"),Iu=a(function(r){return 10+(r.filename&&r.filename.length+1||0)},"gzhl"),Fu=a(function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=n<<6|(n?32-2*n:1)},"zlh"),Pu=a(function(r){((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)&&Wr(6,"invalid zlib data"),r[1]&32&&Wr(6,"invalid zlib data: preset dictionaries not supported")},"zlv");function hc(r,e){return!e&&typeof r=="function"&&(e=r,r={}),this.ondata=e,r}a(hc,"AsyncCmpStrm");var dc=null,gc=null;function Bl(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),Ma(r,e,[Ts],function(n){return ha($o(n.data[0],n.data[1]))},0,t)}a(Bl,"deflate");function $o(r,e){return ko(r,e||{},0,0)}a($o,"deflateSync");var pc=null,vc=null;function Ou(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),Ma(r,e,[Cs],function(n){return ha(to(n.data[0],Ds(n.data[1])))},1,t)}a(Ou,"inflate");function to(r,e){return Fo(r,e)}a(to,"inflateSync");var mc=null,yc=null;function _c(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),Ma(r,e,[Ts,Ll,function(){return[Nu]}],function(n){return ha(Nu(n.data[0],n.data[1]))},2,t)}a(_c,"gzip");function Nu(r,e){e||(e={});var t=Mo(),n=r.length;t.p(r);var i=ko(r,e,Iu(e),8),o=i.length;return Du(i,e),wn(i,o-8,t.d()),wn(i,o-4,n),i}a(Nu,"gzipSync");var wc=null,Ec=null;function $l(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),Ma(r,e,[Cs,Ml,function(){return[Ho]}],function(n){return ha(Ho(n.data[0]))},3,t)}a($l,"gunzip");function Ho(r,e){return Fo(r.subarray(Au(r),-8),e||new Xr(Ru(r)))}a(Ho,"gunzipSync");var Sc=null,bc=null;function xc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),Ma(r,e,[Ts,kl,function(){return[Lu]}],function(n){return ha(Lu(n.data[0],n.data[1]))},4,t)}a(xc,"zlib");function Lu(r,e){e||(e={});var t=xu();t.p(r);var n=ko(r,e,2,4);return Fu(n,e),wn(n,n.length-4,t.d()),n}a(Lu,"zlibSync");var Cc=null,Tc=null;function Hl(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),Ma(r,e,[Cs,Ul,function(){return[Rs]}],function(n){return ha(Rs(n.data[0],Ds(n.data[1])))},5,t)}a(Hl,"unzlib");function Rs(r,e){return Fo((Pu(r),r.subarray(2,-4)),e)}a(Rs,"unzlibSync");var Dc=null,Ac=null;function Rc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&Wr(7),r[0]==31&&r[1]==139&&r[2]==8?$l(r,e,t):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?Ou(r,e,t):Hl(r,e,t)}a(Rc,"decompress");function Ic(r,e){return r[0]==31&&r[1]==139&&r[2]==8?Ho(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?to(r,e):Rs(r,e)}a(Ic,"decompressSync");var Is=a(function(r,e,t,n){for(var i in r){var o=r[i],s=e+i,u=n;Array.isArray(o)&&(u=Uo(n,o[1]),o=o[0]),o instanceof Xr?t[s]=[o,u]:(t[s+="/"]=[new Xr(0),u],Is(o,s,t,n))}},"fltn"),Mu=typeof TextEncoder!="undefined"&&new TextEncoder,Fs=typeof TextDecoder!="undefined"&&new TextDecoder,Wl=0;try{Fs.decode(Lo,{stream:!0}),Wl=1}catch(r){}var zl=a(function(r){for(var e="",t=0;;){var n=r[t++],i=(n>127)+(n>223)+(n>239);if(t+i>r.length)return[e,fa(r,t-1)];i?i==3?(n=((n&15)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):i&1?e+=String.fromCharCode((n&31)<<6|r[t++]&63):e+=String.fromCharCode((n&15)<<12|(r[t++]&63)<<6|r[t++]&63):e+=String.fromCharCode(n)}},"dutf8"),Fc=null,Pc=null;function Wo(r,e){if(e){for(var t=new Xr(r.length),n=0;n<r.length;++n)t[n]=r.charCodeAt(n);return t}if(Mu)return Mu.encode(r);for(var i=r.length,o=new Xr(r.length+(r.length>>1)),s=0,u=a(function(g){o[s++]=g},"w"),n=0;n<i;++n){if(s+5>o.length){var c=new Xr(s+8+(i-n<<1));c.set(o),o=c}var f=r.charCodeAt(n);f<128||e?u(f):f<2048?(u(192|f>>6),u(128|f&63)):f>55295&&f<57344?(f=65536+(f&1023<<10)|r.charCodeAt(++n)&1023,u(240|f>>18),u(128|f>>12&63),u(128|f>>6&63),u(128|f&63)):(u(224|f>>12),u(128|f>>6&63),u(128|f&63))}return fa(o,0,s)}a(Wo,"strToU8");function jl(r,e){if(e){for(var t="",n=0;n<r.length;n+=16384)t+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return t}else{if(Fs)return Fs.decode(r);var i=zl(r),o=i[0],s=i[1];return s.length&&Wr(8),o}}a(jl,"strFromU8");var Oc=a(function(r){return r==1?3:r<6?2:r==9?1:0},"dbf"),ku=a(function(r,e){return e+30+Ni(r,e+26)+Ni(r,e+28)},"slzh"),Uu=a(function(r,e,t){var n=Ni(r,e+28),i=jl(r.subarray(e+46,e+46+n),!(Ni(r,e+8)&2048)),o=e+46+n,s=jn(r,e+20),u=t&&s==4294967295?Kl(r,o):[s,jn(r,e+24),jn(r,e+42)],c=u[0],f=u[1],g=u[2];return[Ni(r,e+10),c,f,i,o+Ni(r,e+30)+Ni(r,e+32),g]},"zh"),Kl=a(function(r,e){for(;Ni(r,e)!=1;e+=4+Ni(r,e+2));return[As(r,e+12),As(r,e+4),As(r,e+20)]},"z64e"),ro=a(function(r){var e=0;if(r)for(var t in r){var n=r[t].length;n>65535&&Wr(9),e+=n+4}return e},"exfl"),zo=a(function(r,e,t,n,i,o,s,u){var c=n.length,f=t.extra,g=u&&u.length,T=ro(f);wn(r,e,s!=null?33639248:67324752),e+=4,s!=null&&(r[e++]=20,r[e++]=t.os),r[e]=20,e+=2,r[e++]=t.flag<<1|(o<0&&8),r[e++]=i&&8,r[e++]=t.compression&255,r[e++]=t.compression>>8;var R=new Date(t.mtime==null?Date.now():t.mtime),H=R.getFullYear()-1980;if((H<0||H>119)&&Wr(10),wn(r,e,H<<25|R.getMonth()+1<<21|R.getDate()<<16|R.getHours()<<11|R.getMinutes()<<5|R.getSeconds()>>>1),e+=4,o!=-1&&(wn(r,e,t.crc),wn(r,e+4,o<0?-o-2:o),wn(r,e+8,t.size)),wn(r,e+12,c),wn(r,e+14,T),e+=16,s!=null&&(wn(r,e,g),wn(r,e+6,t.attrs),wn(r,e+10,s),e+=14),r.set(n,e),e+=c,T)for(var oe in f){var se=f[oe],Ee=se.length;wn(r,e,+oe),wn(r,e+2,Ee),r.set(se,e+4),e+=4+Ee}return g&&(r.set(u,e),e+=g),e},"wzh"),Bu=a(function(r,e,t,n,i){wn(r,e,101010256),wn(r,e+8,t),wn(r,e+10,t),wn(r,e+12,n),wn(r,e+16,i)},"wzf"),Nc=null,Lc=null,Mc=null,kc=null;function Uc(r,e,t){t||(t=e,e={}),typeof t!="function"&&Wr(7);var n={};Is(r,"",n,e);var i=Object.keys(n),o=i.length,s=0,u=0,c=o,f=new Array(o),g=[],T=a(function(){for(var Ee=0;Ee<g.length;++Ee)g[Ee]()},"tAll"),R=a(function(Ee,Te){jo(function(){t(Ee,Te)})},"cbd");jo(function(){R=t});var H=a(function(){var Ee=new Xr(u+22),Te=s,Le=u-s;u=0;for(var rt=0;rt<c;++rt){var He=f[rt];try{var lt=He.c.length;zo(Ee,u,He,He.f,He.u,lt);var Ct=30+He.f.length+ro(He.extra),_t=u+Ct;Ee.set(He.c,_t),zo(Ee,s,He,He.f,He.u,lt,u,He.m),s+=16+Ct+(He.m?He.m.length:0),u=_t+lt}catch(Ye){return R(Ye,null)}}Bu(Ee,s,f.length,Le,Te),R(null,Ee)},"cbf");o||H();for(var oe=a(function(Ee){var Te=i[Ee],Le=n[Te],rt=Le[0],He=Le[1],lt=Mo(),Ct=rt.length;lt.p(rt);var _t=Wo(Te),Ye=_t.length,Gt=He.comment,vt=Gt&&Wo(Gt),gr=vt&&vt.length,sr=ro(He.extra),Lr=He.level==0?0:8,mr=a(function(nn,zr){if(nn)T(),R(nn,null);else{var en=zr.length;f[Ee]=Uo(He,{size:Ct,crc:lt.d(),c:zr,f:_t,m:vt,u:Ye!=Te.length||vt&&Gt.length!=gr,compression:Lr}),s+=30+Ye+sr+en,u+=76+2*(Ye+sr)+(gr||0)+en,--o||H()}},"cbl");if(Ye>65535&&mr(Wr(11,0,1),null),!Lr)mr(null,rt);else if(Ct<16e4)try{mr(null,$o(rt,He))}catch(nn){mr(nn,null)}else g.push(Bl(rt,He,mr))},"_loop_1"),se=0;se<c;++se)oe(se);return T}a(Uc,"zip");function Bc(r,e){e||(e={});var t={},n=[];Is(r,"",t,e);var i=0,o=0;for(var s in t){var u=t[s],c=u[0],f=u[1],g=f.level==0?0:8,T=Wo(s),R=T.length,H=f.comment,oe=H&&Wo(H),se=oe&&oe.length,Ee=ro(f.extra);R>65535&&Wr(11);var Te=g?$o(c,f):c,Le=Te.length,rt=Mo();rt.p(c),n.push(Uo(f,{size:c.length,crc:rt.d(),c:Te,f:T,m:oe,u:R!=s.length||oe&&H.length!=se,o:i,compression:g})),i+=30+R+Ee+Le,o+=76+2*(R+Ee)+(se||0)+Le}for(var He=new Xr(o+22),lt=i,Ct=o-i,_t=0;_t<n.length;++_t){var T=n[_t];zo(He,T.o,T,T.f,T.u,T.c.length);var Ye=30+T.f.length+ro(T.extra);He.set(T.c,T.o+Ye),zo(He,i,T,T.f,T.u,T.c.length,T.o,T.m),i+=16+Ye+(T.m?T.m.length:0)}return Bu(He,i,n.length,Ct,lt),He}a(Bc,"zipSync");var $c=null,Hc=null,Wc=null,zc=null,jo=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(r){r()};function jc(r,e,t){t||(t=e,e={}),typeof t!="function"&&Wr(7);var n=[],i=a(function(){for(var Ee=0;Ee<n.length;++Ee)n[Ee]()},"tAll"),o={},s=a(function(Ee,Te){jo(function(){t(Ee,Te)})},"cbd");jo(function(){s=t});for(var u=r.length-22;jn(r,u)!=101010256;--u)if(!u||r.length-u>65558)return s(Wr(13,0,1),null),i;var c=Ni(r,u+8);if(c){var f=c,g=jn(r,u+16),T=g==4294967295||f==65535;if(T){var R=jn(r,u-12);T=jn(r,R)==101075792,T&&(f=c=jn(r,R+32),g=jn(r,R+48))}for(var H=e&&e.filter,oe=a(function(Ee){var Te=Uu(r,g,T),Le=Te[0],rt=Te[1],He=Te[2],lt=Te[3],Ct=Te[4],_t=Te[5],Ye=ku(r,_t);g=Ct;var Gt=a(function(gr,sr){gr?(i(),s(gr,null)):(sr&&(o[lt]=sr),--c||s(null,o))},"cbl");if(!H||H({name:lt,size:rt,originalSize:He,compression:Le}))if(!Le)Gt(null,fa(r,Ye,Ye+rt));else if(Le==8){var vt=r.subarray(Ye,Ye+rt);if(rt<32e4)try{Gt(null,to(vt,new Xr(He)))}catch(gr){Gt(gr,null)}else n.push(Ou(vt,{size:He},Gt))}else Gt(Wr(14,"unknown compression type "+Le,1),null);else Gt(null,null)},"_loop_3"),se=0;se<f;++se)oe(se)}else s(null,{});return i}a(jc,"unzip");function Kc(r,e){for(var t={},n=r.length-22;jn(r,n)!=101010256;--n)(!n||r.length-n>65558)&&Wr(13);var i=Ni(r,n+8);if(!i)return{};var o=jn(r,n+16),s=o==4294967295||i==65535;if(s){var u=jn(r,n-12);s=jn(r,u)==101075792,s&&(i=jn(r,u+32),o=jn(r,u+48))}for(var c=e&&e.filter,f=0;f<i;++f){var g=Uu(r,o,s),T=g[0],R=g[1],H=g[2],oe=g[3],se=g[4],Ee=g[5],Te=ku(r,Ee);o=se,(!c||c({name:oe,size:R,originalSize:H,compression:T}))&&(T?T==8?t[oe]=to(r.subarray(Te,Te+R),new Xr(H)):Wr(14,"unknown compression type "+T):t[oe]=fa(r,Te,Te+R))}return t}a(Kc,"unzipSync");var no;(function(r){r.HasVirtualFolders="remoteHub:hasVirtualFolders",r.VirtualFolderProviders="remoteHub:virtualFolderProviders",r.HasRecentRepositories="remoteHub:hasRecentRepositories",r.ActiveResourceHasChanges="remoteHub:activeResourceHasChanges",r.HasSearchIndexes="gitHub:hasSearchIndexes",r.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",r.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",r.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(no||(no={}));const $u=new Map;function Gc(r){return r==="isWeb"?isWeb:r==="remoteName"?env.remoteName:r==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():r.startsWith("config.")?configuration.getAny(r.substring(7)):$u.get(r)}a(Gc,"getContext");function Yc(r){return r==="isWeb"||r==="remoteName"||r==="virtualWorkspace"||r.startsWith("config.")||r.startsWith("remoteHub:")||r.startsWith("continueOn:")}a(Yc,"isSupportedContextKey");async function Ps(r,e){$u.set(r,e),!r.startsWith("continueOn:")&&await l.commands.executeCommand("setContext",r,e)}a(Ps,"setContext");class Os{constructor(e){this.bytes=e,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(e){const t=this.byteIndexCurrent;return this.byteIndexCurrent+=e,this.bytes.slice(t,this.byteIndexCurrent)}readByte(){const e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e}readString(e){const t=[],n=this.byteIndexCurrent+e;let i=this.byteIndexCurrent;for(;i<n;){const o=this.bytes[i++];if(o===0)break;let s=0,u=0;if((o&128)==0)s=o,u=0;else if((o&224)==192)s=o&31,u=1;else if((o&240)==224)s=o&15,u=2;else if((o&248)==240)s=o&7,u=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${o.toString(2)} at offset ${i}`);for(;u>0;){const c=this.bytes[i++];if((c&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${c.toString(2)} at offset ${i}`);s=s<<6|c&63,u--}t.push(String.fromCodePoint(s))}return this.byteIndexCurrent=n,t.join("")}}a(Os,"ByteStream");class ei{constructor(e,t){this.value=e,this.id=`_${this.value}`,this.name=t}static Instances(){return ei._instances==null&&(ei._instances=new Hu),ei._instances}}a(ei,"TarFileTypeFlag");class Hu{constructor(){this.Normal=new ei("0","Normal"),this.HardLink=new ei("1","Hard Link"),this.SymbolicLink=new ei("2","Symbolic Link"),this.CharacterSpecial=new ei("3","Character Special"),this.BlockSpecial=new ei("4","Block Special"),this.Directory=new ei("5","Directory"),this.FIFO=new ei("6","FIFO"),this.ContiguousFile=new ei("7","Contiguous File"),this.LongFilePath=new ei("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let e=0;e<this._All.length;e++){const t=this._All[e];this._All[t.id]=t}}}a(Hu,"TarFileTypeFlag_Instances");class Ko{constructor(e,t,n,i,o,s,u,c,f,g,T,R,H,oe,se,Ee){this.fileName=e,this.fileMode=t,this.userIDOfOwner=n,this.userIDOfGroup=i,this.fileSizeInBytes=o,this.timeModifiedInUnixFormat=s,this.checksum=u,this.typeFlag=c,this.nameOfLinkedFile=f,this.uStarIndicator=g,this.uStarVersion=T,this.userNameOfOwner=R,this.groupNameOfOwner=H,this.deviceNumberMajor=oe,this.deviceNumberMinor=se,this.filenamePrefix=Ee,this.fullFileName=Ee.length?Ee.endsWith("/")?Ee+e:`${Ee}/${e}`:e}static fromBytes(e){const t=new Os(e),n=t.readString(100).trim(),i=t.readString(8),o=t.readString(8),s=t.readString(8),u=t.readString(12),c=t.readBytes(12),f=t.readString(8),g=t.readString(1),T=t.readString(100),R=t.readString(6),H=t.readString(2),oe=t.readString(32),se=t.readString(32),Ee=t.readString(8),Te=t.readString(8),Le=t.readString(155),rt=t.readBytes(12),He=parseInt(u.trim(),8),lt=parseInt(f,8),Ct=ei.Instances()._All,_t=`_${g}`,Ye=Ct[_t];return new Ko(n,i,o,s,He,c,lt,Ye,T,R,H,oe,se,Ee,Te,Le)}}a(Ko,"TarFileEntryHeader");const Wu=512;class Go{constructor(e,t){this.header=e,this.dataAsBytes=t}static fromBytes(e,t){const n=Wu,i=Ko.fromBytes(e),o=i.fileSizeInBytes,u=Math.ceil(o/n)*n,c=t.readBytes(u).slice(0,o);return new Go(i,c)}}a(Go,"TarFileEntry");class Yo{constructor(e){var t;this.entries=e,this.consolidateLongPathEntries();for(const n of this.entries)((t=n.header.typeFlag)==null?void 0:t.name)==="Normal"&&(n.header.fullFileName=n.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const n of this.entries)this.entryMap.set(n.header.fullFileName,n)}static async fromBytes(e){const t=new Os(e),n=[],i=Wu;let o=0,s=0;for(;t.hasMoreBytes()==!0;){++o%1e3==0&&await new Promise(f=>setTimeout(f,10));const u=t.readBytes(i);let c=!0;for(let f=0;f<u.length;f++)if(u[f]!=0){c=!1;break}if(c==!0){if(s++,s==2)break}else{s=0;const f=Go.fromBytes(u,t);n.push(f)}}return new Yo(n)}consolidateLongPathEntries(){var e;const t=ei.Instances().LongFilePath.name,n=this.entries;for(let i=0;i<n.length;i++){const o=n[i];if(((e=o.header.typeFlag)==null?void 0:e.name)==t){const s=n[i+1];s.header.fileName=o.dataAsBytes.reduce((u,c)=>u+=String.fromCharCode(c),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),n.splice(i,1),i--}}}}a(Yo,"TarFile");const Gl=a(r=>Yo.fromBytes(r),"readTar"),qo=new TextDecoder,Ns=new TextEncoder;class zu{constructor(e,t=0){this.retainFor=t;try{this.weakRef=new WeakRef(e)}catch{}this.retain(e)}retain(e){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=e,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var e,t;const n=(t=this.strongRef)!=null?t:(e=this.weakRef)==null?void 0:e.deref();return n&&this.retain(n),n}}a(zu,"TimedRetainingRef");class ju{constructor(e,t){this.root=e,this.providerService=t,this._onDidChangeIndexingEnablement=new l.EventEmitter,this._onDidDownloadTar=new l.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=l.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=l.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=l.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await Ps(no.HasSearchIndexes,(await this.listTars()).length>0);const e=this.providerService.repositories.map(i=>i.name),t=await this.getIndexingEnabledRepos(),n=t.has("*")||e.every(i=>t.has(i));await Ps(no.EnabledSomeSearchIndexes,t.size>0),await Ps(no.EnabledAllSearchIndexes,n)}dispose(){this._disposable.dispose()}registerCommands(){return[l.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),l.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),l.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),l.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const e=a(i=>{const o=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of o)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),t=await this.listTars();if(t.length===0){await l.window.showInformationMessage("No Repository Indexes Found");return}const n=l.window.createQuickPick();n.canSelectMany=!0,n.items=t.map(({name:i,size:o,path:s})=>({label:i,path:s,description:o?e(o):void 0})),n.show(),n.onDidAccept(async()=>{n.hide();for(const{label:i,path:o}of n.selectedItems){const s=l.workspace.fs.delete(o),u=l.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,u.dispose()}this.updateContext()}),n.onDidHide(()=>n.dispose())}),l.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>l.window.withProgress({location:l.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([l.workspace.fs.delete(this.root,{recursive:!0})])}catch(e){O.error(e)}finally{this.updateContext()}}))]}getTarFromMemory(e){var t;if(O.debug(`TarPit.getTarFromMemory(key=${e})`),e===this.lastReadKey){const n=(t=this.lastReadValue)==null?void 0:t.deref();if(n)return n;O.log("Weakref deallocated.")}}async getTarFromDisk(e){try{const t=await l.workspace.fs.readFile(e);return!t||!t.length?void 0:t}catch(t){(!(t instanceof l.FileSystemError)||t.code!==l.FileSystemError.FileNotFound.name)&&(l.window.showWarningMessage(l.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),O.error(t,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(e,t,n){try{const i=await this.isIndexingEnabledForRepo(e);try{if(i){const o=await this.providerService.getTarGz(e,t);if(o)return o}else if(i===void 0){const o=Oe.get("indexing.maxIndexSize");if(o===null)throw new l.CancellationError;if(o){const s=await this.providerService.getTarGz(e,t,o*1024*1024);if(s)return s}}}catch(o){if(o instanceof l.CancellationError)throw await this.markIndexingEnablementForRepos(!1),o;if(o instanceof Error&&o.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw o}if(!n){const o={id:"configure",title:l.l10n.t("Configure Limit")},s={id:"continue",title:l.l10n.t("Continue"),isCloseAffordance:!0};l.window.showInformationMessage(l.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),o,s).then(async u=>{u===o&&await l.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(n){const o={id:"no",title:l.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:l.l10n.t("Configure")},u={id:"repo",title:l.l10n.t("Download Full Contents")},c=Oe.get("indexing.maxIndexSize"),f=c!==null?`${c.toString()}\xA0MB`:"null";switch(await l.window.showWarningMessage(l.l10n.t("This repository exceeds the download size limit ({0}).",f),{modal:!0,detail:l.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",f)},o,u,s)){case u:{await this.markIndexingEnablementForRepos(!0);try{const T=await this.providerService.getTarGz(e,t);if(T)return T}catch(T){T instanceof l.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await l.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case o:await this.markIndexingEnablementForRepos(!1)}}throw new l.CancellationError}finally{this.updateContext()}}async getTar(e,t,n){n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(e));const i=this.getTarStorageUri(e,n),o=await this.getTarCacheKey(e,n);try{let s=this.ongoingNetworkRequests.get(o);return s===void 0&&(s=this.getTarCore(e,n,i,{blocking:t}),this.ongoingNetworkRequests.set(o,s),this.ongoingDiskRequests.set(o,s)),await s}finally{this.ongoingNetworkRequests.delete(o),this.ongoingDiskRequests.delete(o)}}async getInMemoryTar(e,t){return O.debug(`TarPit.getInMemoryTar(rootUri=${e.toString()}, ref=${t==null?void 0:t.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(e,t))}async getCachedTar(e,t){var n;const i=await this.getTarCacheKey(e,t),o=this.getTarStorageUri(e,t);try{let s=(n=this.ongoingDiskRequests.get(i))!=null?n:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(e,t,o,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(e,t,n,i){const o=this.providerService.getCanonicalUri(e),s=`${F(o,{excludeScheme:!0})}/${t}`,u=new X(`TarPit.getTar(${s})`),c=await this.getTarCacheKey(e,t),f=Date.now();let g,T;try{if(u.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),T=this.getTarFromMemory(c),T)return g=" \u2022 Got .tar from memory",T;u.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let R=!1,H=await this.getTarFromDisk(n);if(H==null?void 0:H.length)g=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){g=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(e)===!1)throw g=" \u2022 Downloading disabled",new l.CancellationError;u.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),H=await this.getTarFromNetwork(e,t,i.blocking),R=!0,g=" \u2022 Got .tar from network",l.workspace.fs.writeFile(n,H).then(()=>O.debug(`Sucessfully wrote tarball to disk in ${Date.now()-f}ms`),se=>O.error(se,`Error writing tarball to disk in ${Date.now()-f}ms`))}if(!(H==null?void 0:H.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");u.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const oe=Ho(H);return T=await Gl(oe),u.stop({message:"Finished getting tar"}),this.lastReadValue=new zu(T,10*(Date.now()-f)),this.lastReadKey=c,R&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:e,sha:t}),0),T}catch(R){throw g=` \u2022 Failed; ${String(R)}`,R}finally{T&&(this.markCacheEntryUsed(`${s}`).catch(R=>O.log(`Error marking entry used: ${R}`)),this.cleanUpCache().catch(R=>O.log(`Error cleaning cache: ${R}`))),u.stop(g?{suffix:g}:void 0)}}async getTarCacheKey(e,t){return t===void 0&&({HEAD:{sha:t}}=await this.providerService.getMetadata(e)),this.getTarStorageUri(e,t).toString()}getTarStorageUri(e,t){return l.Uri.joinPath(this.root,"tars",F(this.providerService.getCanonicalUri(e),{excludeScheme:!0}),t)}async readDir(e){try{return(await l.workspace.fs.readDirectory(e)).map(t=>l.Uri.joinPath(e,t[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(e){if(this.indexingDisabled)return!1;const t=await this.getIndexingEnabledRepos();if(t.has("*"))return!0;const{name:n}=this.providerService.getVirtualUriMetadata(e);if(!!n){if(t.has(n))return!0;if(t.has(`-${n}`))return!1}}async configureIndexingAllowedRepos(){const e=[...(await this.getIndexingEnabledRepos()).values()],t=await l.window.showQuickPick(e.map(n=>({picked:!0,label:n.startsWith("-")?`${l.l10n.t("Disallowed:")} ${n.slice(1)}`:`${l.l10n.t("Allowed:")} ${n}`})),{canPickMany:!0,title:l.l10n.t("Repository index allowance overrides")});t&&await this.writeIndexEnablementData(t.map(n=>n.label))}async getIndexingEnabledRepos(){let e;try{e=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(t){t instanceof l.FileSystemError&&t.code!==l.FileSystemError.FileNotFound().code&&O.error(t,"Error reading index allowance data."),e=[]}return new Set(e)}async listTars(){const e=await this.readDir(l.Uri.joinPath(this.root,"tars")).catch(()=>[]),t=(await Promise.all(e.map(o=>this.readDir(o)))).flat(),n=(await Promise.all(t.map(o=>this.readDir(o)))).flat(),i=(await Promise.all(n.map(o=>this.readDir(o)))).flat();return Promise.all(i.map(async o=>({name:o.path.replace(/^.*\/tars\//,""),path:o,size:(await l.workspace.fs.stat(o)).size})))}async markIndexingEnablementForRepos(e){let t;try{t=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(o){o instanceof l.FileSystemError&&o.code!==l.FileSystemError.FileNotFound().code&&O.error(o,"Error reading index allowance data."),t=[]}const n=e?this.providerService.repositories.map(o=>o.name):[],i=e?[]:this.providerService.repositories.map(o=>o.name);t=[...t,...n].filter(o=>o.startsWith("-")?!n.includes(o.slice(1)):!i.includes(o));for(const o of i)t.push(`-${o}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(t)}async writeIndexEnablementData(e){await l.workspace.fs.writeFile(this.indexingAllowanceFile,Ns.encode(JSON.stringify(e))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(e){let t;try{t=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.usageFile)))}catch(n){n instanceof l.FileSystemError&&n.code!==l.FileSystemError.FileNotFound().code&&O.error(n,"Error reading usage data."),t={}}t[e]=Number(Date.now()),await l.workspace.fs.writeFile(this.usageFile,Ns.encode(JSON.stringify(t)))}async cleanUpCache(){var e,t;O.log("Cleaning up search cache...");const n=await this.listTars();let i;try{i=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.usageFile)))}catch(H){H instanceof l.FileSystemError&&H.code!==l.FileSystemError.FileNotFound().code&&O.error(H,"Error reading usage data. All existing indexes will be discarded."),i={}}const o=[];n.forEach(H=>{var oe;const se=/^([^/]*\/[^/]*)\//.exec(H.name);if(!se)throw Error("Unexpected repo entry");const Ee=se[1],Te=(oe=i[H.name])!=null?oe:0;o.push({...H,lastUsed:Te,repo:Ee})}),o.sort((H,oe)=>oe.lastUsed-H.lastUsed);let s=0;const u=[],c=new Map,f=(e=Oe.get("indexing.cacheSizeLimit"))!=null?e:Oe.get("search.download.sizeLimit"),g=(t=Oe.get("indexing.cacheRepoLimit"))!=null?t:Oe.get("search.download.repoLimit"),T=(f!=null?f:100)*1024*1024,R=g!=null?g:4;o.forEach(H=>{var oe,se;(H.lastUsed===0||s>T||((oe=c.get(H.repo))!=null?oe:0)>R)&&u.push(H),s+=H.size,c.set(H.repo,((se=c.get(H.repo))!=null?se:0)+1)}),await Promise.all(u.map(async H=>{try{await l.workspace.fs.delete(H.path,{recursive:!0}),delete i[H.name],O.log(`Deleted cache entry for ${H.name}`)}catch(oe){O.log(`Deleting cache entry for ${H.name} failed; ${String(oe)}`)}})),await l.workspace.fs.writeFile(this.usageFile,Ns.encode(JSON.stringify(i))),await this.updateContext()}}a(ju,"TarPit");async function Yl(r,e,t,n,i,o,s){return Ls("provideTextSearchResults",async()=>{const u=Il(n.pattern,Boolean(n.isRegExp),{matchCase:n.isCaseSensitive,wholeWord:n.isWordMatch,multiline:n.isMultiline,global:!0});let c;try{c=await Ls("fetch tarball",()=>t.getTar(i.folder,!0,void 0))}catch(Ee){if(Ee instanceof l.CancellationError)throw Ee;return{limitHit:!1,message:{type:l.TextSearchCompleteMessageType.Warning,trusted:!0,text:l.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:f,maxFileSize:g,includes:T,excludes:R}=i,H=await ql(i.folder,r,c,e);if(s.isCancellationRequested)return{limitHit:!0};let oe=f;const se=Fl(H,T,R,g);return Ls("searchFiles",async()=>{var Ee,Te;let Le=0;for(const rt of H){if(!se.has(rt.path))continue;const He=Pl(rt.contents,rt.path,u,{beforeContext:(Ee=i.beforeContext)!=null?Ee:0,afterContext:(Te=i.afterContext)!=null?Te:0,previewOptions:i.previewOptions,remainingResultQuota:oe});for(const lt of He)o.report({...lt,uri:l.Uri.joinPath(i.folder,lt.uri.path)});if(oe!==void 0&&(oe-=He.length,oe<=0))return{limitHit:!0};if(Le++,Le%1e4==0&&(await new Promise(lt=>setTimeout(lt,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}a(Yl,"provideTextSearchResults");async function ql(r,e,t,n){const i=t.entries,o=e.getVirtualRootUri(r),s=await n.getChanges(o,{predicate:T=>T.fileType===l.FileType.File});if(s.length===0)return i.map(T=>({contents:T.dataAsBytes,path:T.header.fullFileName,size:T.dataAsBytes.byteLength}));const u=await Promise.all(Ta(s,T=>{if(T.type===j.Created)return n.getContent(T.uri).then(R=>({path:e.getRelativeFilePath(o,T.uri),size:R.length,contents:R}))})),c=await Promise.all(Ta(s,T=>{if(T.type===j.Changed)return n.getContent(T.uri).then(R=>({path:e.getRelativeFilePath(o,T.uri),size:R.length,contents:R}))})),f=new Set(Ka(Da(c,T=>T.path),Ta(s,T=>{if(T.type===j.Deleted)return e.getRelativeFilePath(o,T.uri)})));return[...Ta(i,T=>{if(!f.has(T.header.fullFileName))return{contents:T.dataAsBytes,path:T.header.fullFileName,size:T.dataAsBytes.byteLength}}),...u,...c]}a(ql,"listAllFiles");function qc(r,e){const t=Date.now(),n=e();return Logger.log(`${r} time: ${Date.now()-t}`),n}a(qc,"timeSync");async function Ls(r,e){const t=Date.now(),n=await e();return O.log(`${r} time: ${Date.now()-t}`),n}a(Ls,"time");var Vl=Object.defineProperty,Ql=Object.getOwnPropertyDescriptor,Ms=a((r,e,t,n)=>{for(var i=n>1?void 0:n?Ql(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Vl(e,t,i),i},"fs_decorateClass");const Jl=l.FileSystemError.FileNotFound().code,Zl=/(\/|\\)/g,Xl=/(\*|\.)/g,Ku=".vscode/.github-pull-request.rec";class ka{constructor(e,t,n,i,o){this.providerService=e,this.github=t,this.changeStore=n,this.tarPit=i,this.telemetryService=o,this._onDidChangeFile=new l.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=l.Disposable.from(l.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),l.workspace.registerFileSearchProvider(this.scheme,this),l.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>$.getProviderId(t)===this.scheme).map(t=>$.getProviderUri(t)),e.length!==0){O.log(`GitHubFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,n]of[...this.pendingUriRequests])e.some(i=>U(n.uri,i))&&(this.pendingUriRequests.delete(t),n.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=$.getOpenUris(this.scheme,e);for(const[i,o]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(s=>U(o,s))&&(this.implicitlyWatchedUris.delete(i),t.set(i,o));O.debug(`GitHubFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${t.size}`);for(const i of e)t.set(b(i),i);const n=[...t.values()].map(i=>({type:l.FileChangeType.Changed,uri:i}));setTimeout(()=>{O.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${n.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(n)},0)}watch(e,t){const n=b(e);return this.watchedUris.set(n,e),{dispose:()=>{this.watchedUris.delete(n)}}}async stat(e){var t,n;const i=b(e);this.implicitlyWatchedUris.set(i,e);const o=this.github.getProviderRootUri(e),{hasRepoWithOwner:s}=Gu(e),u=this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e));if(u||s){const c=this.providerService.getRelativeFilePath(e),f={uri:e,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,f);const g=await this.github.getFileTree(e),T=await g.get(c);if(T==null?void 0:T.stat){if(T.stat.type===l.FileType.File&&Oe.get("lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&Be(await this.github.getGitAttributes(o),c)){const R=await this.github.getFileContent(e),H=Ya(R).size;T.stat.size=H!=null?H:T.stat.size}return T.stat.type===l.FileType.Directory&&!u&&(T.stat.permissions=l.FilePermission.Readonly),T.stat}if(this.implicitlyWatchedUris.delete(i),e.query==="~")return{type:l.FileType.File,size:0,ctime:0,mtime:(t=g.timestamp)!=null?t:Date.now(),permissions:l.FilePermission.Readonly};if(c===Ku){const{ref:R}=this.providerService.getVirtualUriMetadata(e);if((R==null?void 0:R.type)===_e.PullRequest)return{type:l.FileType.File,size:0,ctime:0,mtime:(n=g.timestamp)!=null?n:Date.now(),permissions:l.FilePermission.Readonly}}throw l.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${i}`),(f==null?void 0:f.outdated)&&setTimeout(()=>{O.log(`GitHubFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:l.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}return{type:l.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:l.FilePermission.Readonly}}async readDirectory(e,t){var n;this.implicitlyWatchedUris.set(b(e),e);const{pathQuery:i,hasRepoWithOwner:o}=Gu(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){let s;const u=this.providerService.getRelativeFilePath(e);let c;try{return s=await this.github.getFileTree(e),(await s.getChildren(u,t)).map(([g,{stat:{type:T}}])=>[g,T])}catch(f){throw c=f,u===""&&f instanceof Error&&this.telemetryService.publicLog2("fs.readRootDirectory.error",{errorName:f.name,errorMessage:f.message,errorStack:(n=f.stack)!=null?n:""}),f}finally{u===""&&(X.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:c===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:c}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(c=>c.owner===i).map(c=>c.repo):[...new Set(s.map(c=>c.owner))]).map(c=>[c,l.FileType.Directory])}}createDirectory(e){throw l.FileSystemError.NoPermissions()}async readFile(e){const t=b(e);this.implicitlyWatchedUris.set(t,e);const n={uri:e,outdated:!1};try{this.pendingUriRequests.set(t,n);const i=await this.github.getFileContent(e);if(!Oe.get("lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const o=this.github.getProviderRootUri(e),s=await this.github.getGitAttributes(o);return Be(s,e.path)?this.github.getLfsContent(o,i):i}catch(i){if(this.implicitlyWatchedUris.delete(t),i instanceof l.FileSystemError&&i.code===Jl){if(e.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(e)===Ku){const{ref:s}=this.providerService.getVirtualUriMetadata(e);if((s==null?void 0:s.type)===_e.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(t),(n==null?void 0:n.outdated)&&setTimeout(()=>{O.log(`GitHubFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:l.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,n){throw l.FileSystemError.NoPermissions()}delete(e,t){throw l.FileSystemError.NoPermissions()}rename(e,t,n){throw l.FileSystemError.NoPermissions()}copy(e,t,n){throw l.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:n,includes:i,excludes:o},s){const u=`${b(t)}|${JSON.stringify({includes:i,excludes:o})}`;let c=this.fileSearchCache.get(u);if(c===void 0){const g=this.providerService.getRelativeFilePath(t);let T;await this.github.hasFileTree(t)&&(T=await this.github.getFileTree(t));let R;if(T===void 0||T.loading||!T.hasEntireTree?R=await this.github.getFileList(t,g):R=(await T.getChildren(g,{filter:l.FileType.File,recursive:!0})).map(([H])=>H),R.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(o==null?void 0:o.length))&&(R=[...ps(R,i,o)]),c=R.map(H=>gs.prepareSlow(H)),this.fileSearchCache.set(u,c)}let f;return e.pattern===""?f=c.map(g=>l.Uri.joinPath(t,g.target)):(f=gs.go(e.pattern.replace(Zl,"/").replace(Xl,""),c,{allowTypo:!0,limit:n}).map(g=>l.Uri.joinPath(t,g.target)),gs.cleanup()),n!==void 0&&n!==0&&n<f.length&&(f=f.slice(0,n)),f}async provideTextSearchResults(e,t,n,i){const o=[];if(await this.tarPit.isIndexingEnabledForRepo(t.folder)!==!1)try{return await Yl(this.providerService,this.changeStore,this.tarPit,e,t,n,i)}catch(f){f instanceof l.CancellationError||o.push({text:l.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:l.TextSearchCompleteMessageType.Warning})}e.isCaseSensitive||e.isRegExp||e.isWordMatch?o.push({text:l.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:l.TextSearchCompleteMessageType.Warning,trusted:!0}):o.push({text:l.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:l.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(s.warnings&&s.warnings.forEach(f=>{o.push({text:f,trusted:!0,type:l.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:o};const u=new Set(ps(s.matches.map(f=>f.path),t.includes,t.excludes));let c;for(const f of s.matches)u.has(f.path)&&(c=l.Uri.joinPath(t.folder,f.path),n.report({uri:c,ranges:f.ranges,preview:{text:f.preview,matches:f.matches}}));return{limitHit:!1,message:o}}}a(ka,"GitHubFS"),Ms([_s()],ka.prototype,"stat",1),Ms([_s()],ka.prototype,"readDirectory",1),Ms([_s()],ka.prototype,"readFile",1);function Gu(r){let e=r.path;return e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),{pathQuery:e,hasRepoWithOwner:e.includes("/")}}a(Gu,"getRepoWithOwnerFromUri");var io;(function(r){r.DoNotAlertForMissingPullRequestSourceBranch="gitHub.doNotAlertForMissingPullRequestSourceBranch"})(io||(io={}));let ks;function Yu(r){return ks.globalState.get(r)}a(Yu,"getState");async function qu(r,e){return ks.globalState.update(r,e)}a(qu,"updateState");function ec(r){return ks=r,{registerVirtualProviderService:function(e){Ze.configure("githubRepositories",r),O.configure(r,"GitHub Repositories"),X.start("Time to root directory",{log:!1});const t=Cr.configure(r),n=new Ht(r);try{const i=new gn(r.globalState),o=i.with(t),s=new di(r.globalStorageUri,t),u=new zn(o),c=new si(e,o,s,n,t);c.getWorkspacesWithChanges();const f=new Bi(e,i,c,t,r),g=new ju(r.globalStorageUri,e),T=new Va(e,g),R=new ka(e,T,c,g,n);r.subscriptions.push(e.register("github","GitHub",T,R,i,c,u,f),T,R,new be(T));const H=new Qs(e,g),oe=new ka(e,H,c,g,n);r.subscriptions.push(e.register("github-enterprise","GitHub Enterprise",H,oe,i,c,u,f),H,oe,new be(H))}catch(i){throw O.error(i),tr(r,i),i}}}}a(ec,"activate")})(),module.exports=__webpack_exports__})();
